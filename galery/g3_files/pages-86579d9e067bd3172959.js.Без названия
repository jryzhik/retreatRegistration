"use strict";(globalThis.webpackChunk_amzn_amazon_photos_react=globalThis.webpackChunk_amzn_amazon_photos_react||[]).push([[237],{26977:(e,o,t)=>{t.d(o,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(96540),n=t(42026),a=t(40248);const __WEBPACK_DEFAULT_EXPORT__=()=>r.createElement(a.A,{showPrimaryNav:!1,page:"404"},r.createElement(n.A,{header:"amazon-photos-error-404-heading",body:"amazon-photos-error-404-body",sceneContent:r.createElement("img",{alt:"404",className:"splash-img",src:"https://dcupkcmoyuvm5.cloudfront.net/pngs/404-no-search-results.png"})}))},78271:(e,o,t)=>{t.d(o,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(96540),n=t(42026),a=t(40248);const __WEBPACK_DEFAULT_EXPORT__=()=>r.createElement(a.A,{page:"404"},r.createElement(n.A,{header:"amazon-photos-error-404-heading",body:"amazon-photos-error-404-body",sceneContent:r.createElement("img",{alt:"404",className:"splash-img",src:"https://dcupkcmoyuvm5.cloudfront.net/pngs/404-no-search-results.png"})}))},69604:(e,o,t)=>{t.d(o,{A:()=>O});var r=t(96540),n=t(35994),a=t(71468),i=t(18742),c=t(97463),s=t(71086),l=t(6687),m=t(21572),d=t(47389),u=t(66569),p=t(42852),h=t(480),g=t(80442),v=t(49879),y=t(40248),f=t(62471),b=t(32216),k=t(36482),_=t(91747),A=t(10038),P=t(23257),E=t(51549),w=t(66607);function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var M=(0,l.A)(_.A),C=(0,l.A)(g.A),S=["recents","share","download","buyPrints","removeFromAlbum","toggleFamily","editDateAndTime","editLocation"],L=["setAlbumCover","trash","addToAlbum"],N=["download"],T=["sortDateTaken","sortDateUploaded"];class AlbumPage extends r.Component{constructor(){super(...arguments),_defineProperty(this,"onUploaderFileSelect",(()=>{(0,w.A)({contextName:"album",uploadToContextButtonString:(0,m.A)("amazon-photos-uploader-context-confirm-album")})})),this.setBackUrl();var e,{groupId:o,albumId:t,urls:r}=this.props,{query:n}=this.props,{groups:a,album:i}=r;o?(e="".concat(a,"/").concat(o).concat(i,"/").concat(t),n=_objectSpread(_objectSpread({},n),{},{contentType:"albums"})):e="".concat(i,"/").concat(t),this.pageUrlModel=new d.A(e,n)}componentDidMount(){var{albumId:e,createMode:o,setUploaderContext:t,urls:r}=this.props;e||o||(0,u.A)(r.albums,{replace:!0}),t({albumId:e,contextDisambiguator:this.onUploaderFileSelect})}componentWillUnmount(){var{clearUploaderContext:e}=this.props;e()}setBackUrl(){var{history:e}=this.props,o=e.location.state&&e.location.state.albumBackUrl,{groupId:t,query:r,urls:n,lastFragment:a}=this.props;if(t){var i=n.groups,{contentType:c}=r;o=c?new d.A("".concat(i,"/").concat(t),_objectSpread(_objectSpread({},r),{},{contentType:"albums"})).toString():new d.A("".concat(i,"/").concat(t)).toString()}var s=n.album.substr(1),l=new RegExp("(^|/)".concat(s,"($|/)"),"i");null==o&&(o=a),(null==o||l.test(o))&&(o=n.albums),this.backUrl=o}renderGallery(e){var{nodeId:o,collection:t,album:n,authenticated:a,groupId:i,memberIdToMember:c}=this.props,{group:s}=this.props;if(!o)return null;var l=s?"group":"album",m=s||n;return i?r.createElement(P.A,{collection:t,pageUrlModel:e,group:s,nodeId:o,shareId:i,authenticated:a,useOwnerId:!0,parentModel:m,parentContext:l,name:"albumGallery",memberIdToMember:c}):(n&&n.belongsToCurrentUser()&&(s=null),r.createElement(M,{ilbConfig:{name:"albumGallery",isActive:!0,changeHash:o},showFavorite:!0,useOwnerId:!1,parentModel:m,parentContext:l,collection:t,nodeId:o,pageUrlModel:e}))}render(){var{createMode:e,selectModeButtons:o=S,overflowSelectButtons:t=L,urls:n}=this.props,{query:a={},collection:i,count:c,album:s,nodeId:l,group:d}=this.props,{sort:u}=a,p=n.gallery,g=r.createElement(b.A,{createMode:e,album:s}),_=this.pageUrlModel.clone(),A=_.clone().addPath(p),P=this.renderGallery(_);return s&&s.belongsToCurrentUser()||(o=N,t=void 0),s&&s.name===(0,m.A)("amazon-photos-new-album-default-name")&&a.new&&(e=!0),r.createElement(y.A,{collection:i,enableSelectionDrag:!0,showPrimaryNav:!1,page:"album",edgeless:!0,selectionButtons:o,overflowButtons:t,parentModel:s},r.createElement(f.A,{group:d,collection:i,model:s,createMode:e,pageUrlModel:_,count:c,backUrl:this.backUrl}),P,r.createElement(C,{ilbConfig:{name:"albumGrid",isActive:!P,changeHash:u},query:a,activeNodeId:l,collection:i,sortOptions:T,currentSort:u,pageUrlModel:_,emptyState:g,placeSection:"sortDateUploaded"===u?v.SU:v.Xo,showShareButton:s&&s.belongsToCurrentUser()},(e=>{var o,{model:t,width:n,height:a,onSelectShiftClick:c,index:s}=e,l=t?t.id:s;return t&&(o=A.clone().addPath(t.id).toString()),r.createElement(k.A,{key:l,onShiftClick:c,href:o,width:n,height:a,model:t},r.createElement(h.A,{collection:i,model:t}))})))}}var I=n.A.connect((0,p.A)(AlbumPage),[{store:A.A,setup:e=>n.A.emit("getAlbum",e),onUpdate:e=>n.A.emit("getAlbum",e),teardown:()=>A.A.suspend()},{store:s.A,mapToProps:["lastFragment","history"]},{store:i.A,mapToProps:["urls"]},{store:c.A,mapToProps:["authenticated"]}]);const O=(0,a.Ng)(void 0,{clearUploaderContext:E.HP,setUploaderContext:E.o})(I)},21675:(e,o,t)=>{t.d(o,{A:()=>M});var r=t(55378),n=t.n(r),a=t(96540),i=t(35994),c=t(61738),s=t(14324),l=t(94788),m=t(84503),d=t(47389),u=t(18742),p=t(71086),h=t(6687),g=t(21572),v=t(97463),y=t(46600),f=t(40248),b=t(55319),k=t(54493),_=t(455),A=t(56966),P=t(92034),E=t(95785);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var w=(0,h.A)(y.Ay);class Albums extends a.Component{constructor(){super(...arguments),_defineProperty(this,"onCollectionChange",(()=>{this.forceUpdate()})),_defineProperty(this,"onCreateAmazonDriveAlbumClick",(()=>{i.A.emit("openDialog",a.createElement(A.Ay,null))})),_defineProperty(this,"renderItems",(e=>{var{models:o,onSelectShiftClick:t}=e,r=new d.A(u.A.getProperty("urls.album")),i=!p.A.getProperty("printingMode");return n()(o,((e,o)=>a.createElement(E.A,{model:e,key:e&&e.id||o,showShareList:!0,onShiftClick:t,href:e&&r.clone().addPath(e.id).toString(),isSelectable:i})))}))}UNSAFE_componentWillMount(){k.A.restore(),k.A.componentState(this),c.A.pickComponentState(this,["size"]),s.A.pickComponentState(this,["selectMode"]),this.getAlbums(this.props)}componentDidMount(){var{collection:e}=this.state;e&&e.listen(this.onCollectionChange,this)}UNSAFE_componentWillReceiveProps(e){this.getAlbums(e)}componentWillUnmount(){var{collection:e}=this.state;e&&e.unListen(null,this),k.A.endComponentState(this),k.A.suspend(),c.A.endComponentState(this),s.A.endComponentState(this)}onCreateAlbumClick(){(0,b.A)({},{eventTag:"AlbumsPage"})}getAlbums(e){i.A.emit("getAlbums",e)}render(){var e,{selectModeButtons:o=["share","trashAlbum"],query:t={},hasContent:r}=this.props,{collection:n,selectMode:i}=this.state,c=new d.A(u.A.getProperty("urls.albums")),s=p.A.getProperty("printingMode"),h=(0,g.A)("amazon-photos-albums-drive-tip",[a.createElement("span",{className:"create-drive-album-icon"}),a.createElement("strong",null,(0,g.A)("amazon-photos-create-album"))]),v=a.createElement("p",{className:"amazon-drive-tip"},h);return n&&n.count&&(e=a.createElement(P.A,{options:["sortDateCreated","sortDateModified","sortAlphaName"],selectedSort:t.sort||"sortDateCreated",pageUrlModel:c})),a.createElement(f.A,{page:"albums",selectionButtons:o,hideSelectAll:s,edgeless:!0,collection:n,enableSelectionDrag:!1},a.createElement("header",{className:"albums-header"},a.createElement("h1",null,a.createElement(l.A,null,"amazon-photos-albums-nav")),r&&a.createElement(m.A,{name:"create-album icon-add",onClick:this.onCreateAlbumClick,disabled:i,label:(0,g.A)("amazon-photos-create-album")},a.createElement(l.A,null,"amazon-photos-create-album")),r&&a.createElement(m.A,{name:"create-amazon-drive-album",onClick:this.onCreateAmazonDriveAlbumClick,label:(0,g.A)("amazon-photos-accessibility-create-album-from-folder")},a.createElement(l.A,null,"amazon-photos-create-drive-album-cta")),e),a.createElement(w,{ilbConfig:{name:"albums",isActive:!0,changeHash:t.sort},collection:n,registerCollection:!0,useWindowScroll:!0,pageSize:30,overscanRowCount:1,emptyState:a.createElement(_.A,null),useGridLayout:!1,after:[v]},this.renderItems))}}const M=i.A.connect(Albums,{store:v.A,mapToProps:["hasContent"]})},5274:(e,o,t)=>{t.d(o,{A:()=>ask_photos_page});var r=t(96540),n=t(40248),a=t(95871),i=t(41031),c=t(76202),s=t(32485),l=t.n(s),m=t(84503),d=t(21572);const u="ask-photos-input-module__askPhotosInputContainer__SdLHr",p="ask-photos-input-module__toggleContainer__E4Gf_",h="ask-photos-input-module__input__ci74u",g="ask-photos-input-module__submitButton__HFLdQ";const ask_photos_input=e=>{var{disabled:o,onSubmit:t,showFollowUpPlaceholder:n,toggle:a}=e,[i,c]=(0,r.useState)(""),handleSubmit=()=>{t(i),c("")};return r.createElement("section",{className:u},a&&r.createElement("div",{className:p},a),r.createElement("input",{autoFocus:!0,className:l()(h),disabled:o,onChange:e=>{var{target:{value:o}}=e;c(o)},onKeyDown:e=>{"Enter"===e.key&&handleSubmit()},onSubmit:handleSubmit,value:i,type:"text",placeholder:(0,d.A)(n?"amazon-photos-ask-photos-follow-up-input-placeholder":"amazon-photos-ask-photos-input-placeholder")}),r.createElement(m.A,{title:(0,d.A)("amazon-photos-reactions-add-comment"),name:"submit-message",onClick:handleSubmit,disabled:i.length<1||o,className:g}))};var v=t(32239);const ask_photos_error=()=>{var e=(0,a.GV)(i.OQ),o=(0,a.GV)(i.J3),t=(0,a.GV)(i.xy),n=e===c.Z.FAILED||o===c.Z.FAILED||t===c.Z.FAILED;return(0,r.useEffect)((()=>{n&&(0,v.A)((0,d.A)("amazon-photos-error-fatal-body"),{heading:(0,d.A)("amazon-photos-error-fatal-header"),confirmText:(0,d.A)("amazon-photos-error-fatal-button"),name:"ServiceCallErrorDialog",onConfirmClick:()=>window.location.reload()})}),[n]),null},y="ask-photos-shopping-suggestions-module__shoppingSuggestionContainer__ugJIa",f="ask-photos-shopping-suggestions-module__shoppingSuggestion__u4y6s",b="ask-photos-shopping-suggestions-module__shoppingSuggestionCaption__fgVzd";const ask_photos_shopping_suggestions=()=>{var e=(0,a.GV)(i.sc);return null!=e&&e.length?r.createElement("div",{className:y},null==e?void 0:e.map((e=>r.createElement("a",{href:"/s?k=".concat(e),key:e,rel:"noreferrer",target:"_blank"},r.createElement("div",{className:f},r.createElement("p",{className:b},e)))))):null},k="ask-photos-follow-up-questions-module__followUpQuestionsContainer__TD2Pf",_="ask-photos-follow-up-questions-module__followUpQuestionPill__gTpOs";const ask_photos_follow_up_questions=()=>{var e=(0,a.jL)(),o=(0,a.GV)(i.ss);return o&&o.length?r.createElement("div",{className:k},o.map((o=>r.createElement("button",{className:_,key:o,onClick:()=>e((0,i.TZ)(o)),type:"button"},o)))):null},A="ask-photos-suggestions-module__suggestionsContainer__au5No",P="ask-photos-suggestions-module__hidden__gyZun";const ask_photos_suggestions=()=>{var e=(0,a.GV)(i.J3),o=(0,a.GV)(i.ss),t=(0,a.GV)(i.sc);return o&&o.length||t&&t.length?r.createElement("div",{className:l()(A,{[P]:e!==c.Z.SUCCEEDED})},r.createElement(ask_photos_shopping_suggestions,null),r.createElement(ask_photos_follow_up_questions,null)):null},E="ask-photos-question-module__questionContainer__ZUEKr",w="ask-photos-question-module__question__jlE9T",M="ask-photos-question-module__clearButton__spEP7";const ask_photos_question=e=>{var{onClearButtonClick:o,question:t}=e;return t?r.createElement("div",{className:E},r.createElement("h2",{className:w},t),o&&r.createElement("button",{className:M,onClick:o,type:"button"},(0,d.A)("amazon-photos-ask-photos-clear-session-button-label"))):null};var C=t(7350),S=t.n(C),L=t(35994);const N={add:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add.svg"',"add-album":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20album.svg"',"add-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20image.svg"',"add-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add%20inline.svg"',alexa:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/alexa.svg"',albums:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/albums.svg"',"aspect-ratio":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/aspect%20ratio.svg"',back:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back.svg"',"blocked-contacts":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/blocked-contacts.svg"',"back-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back%20android.svg"',"broken-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/broken%20image.svg"',burst:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/burst.svg"',calendar:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/calendar.svg"',camera:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/camera.svg"',cancel:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel.svg"',"cancel-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel%20inline.svg"',"caret-down":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20down.svg"',"caret-left":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20left.svg"',"caret-right":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20right.svg"',"caret-up":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20up.svg"',"checkbox-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-on.svg"',"checkbox-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-off.svg"',"checkmark-circle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark_Hover.svg"',checkmark:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark.svg"',"cloud-upload":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cloud%20upload.svg"',contact:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact.svg"',"contact-inverted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact-inverted.svg"',"contact-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20add.svg"',"contact-group":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20group.svg"',delete:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/delete.svg"',device:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/device.svg"',dislike:"ask-photos-q-and-a-feedback-buttons-module__dislike___gnGc",done:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done.svg"',"done-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done%20inline.svg"',download:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download.svg"',"download-cloud":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download-cloud.svg"',"down-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/down-arrow.svg"',"drive-logo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/drive-logo.svg"',dropdown:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown.svg"',"dropdown-active":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown%20active.svg"',edit:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit.svg"',"edit-text":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/edit%20text.svg"',email:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/email.svg"',error:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/error.svg"',"external-link":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/external-link.svg"',"face-tags":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit-tags.svg"',"family-storage":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/family-storage.svg"',"family-vault":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/family_vault.svg"',filter:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/filter.svg"',"fire-tv":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/fire%20tv.svg"',flag:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/flag.svg"',folder:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder.svg"',"folder-move":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder_move.svg"',"group-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/group-add.svg"',"heart-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20off.svg"',"heart-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20on.svg"',help:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/help.svg"',hide:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/hide.svg"',hyperlink:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/hyperlink.svg"',image:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image.svg"',"image-landscape":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image%20landscape.svg"',information:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/information.svg"',"jump-back":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/jump%20back.svg"',like:"ask-photos-q-and-a-feedback-buttons-module__like__n5mKc","live-photo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live%20photo.svg"',"live-photo-play":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-play.svg"',"live-photo-pause":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-pause.svg"',location:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/location.svg"',"magic-sparkle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/magic%20sparkle.svg"',menu:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/menu.svg"',magnify:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify.svg"',"magnify-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify-out.svg"',merge:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/merge.svg"',microphone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/microphone.svg"',more:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/more.svg"',music:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/music.svg"',"network-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20error.svg"',"network-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20off.svg"',"notification-bell":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/notification%20bell.svg"',overflow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/overflow.svg"',pause:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause.svg"',"pause-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause%20inline.svg"',phone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/phone.svg"',photos:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/photos.svg"',play:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play.svg"',"play-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play%20inline.svg"',"radio-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-off.svg"',"radio-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-on.svg"',remove:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove.svg"',"remove-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove%20inline.svg"',reply:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/reply.svg"',search:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/search.svg"',secure:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure.svg"',"secure-locked":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure%20locked.svg"',"send-message":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/send%20message.svg"',settings:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/settings.svg"',share:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share.svg"',"share-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share%20android.svg"',sharing:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing.svg"',"sharing-bubble":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing%20bubble.svg"',"shopping-cart":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/shopping%20cart.svg"',show:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/show.svg"',signout:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/signout.svg"',slideshow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/slideshow.svg"',"star-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20off.svg"',"star-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20on.svg"',"stop-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/stop%20inline.svg"',storage:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/storage.svg"',sync:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/sync.svg"',upload:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/upload.svg"',"up-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/up-arrow.svg"',video:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/video.svg"',volume:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume.svg"',"volume-muted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20muted.svg"',"volume-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20off.svg"',warning:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/warning.svg"',"wifi-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20error.svg"',"wifi-not-connected":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20not%20connected.svg"',"wifi-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20off.svg"',"zoom-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/zoom%20out.svg"',feedbackButton:"ask-photos-q-and-a-feedback-buttons-module__feedbackButton__MGQoR",activeFeedbackButton:"ask-photos-q-and-a-feedback-buttons-module__activeFeedbackButton__Ctm1E"};const ask_photos_q_and_a_feedback_buttons=()=>{var e=(0,a.jL)(),[o,t]=(0,r.useState)(null);return r.createElement(r.Fragment,null,[{rating:1,className:N.like,title:(0,d.A)("amazon-photos-ask-photos-positive-feedback-button-label")},{rating:0,className:N.dislike,title:(0,d.A)("amazon-photos-ask-photos-negative-feedback-button-label")}].map((n=>{var{className:a,rating:c,title:s}=n;return r.createElement("button",{className:l()(N.feedbackButton,a,{[N.activeFeedbackButton]:c===o}),key:c,onClick:S()((()=>{c!==o&&(t(c),e((0,i.Wz)(c)),L.A.emit("showToast",{message:(0,d.A)("amazon-photos-ask-photos-feedback-received-message")}))}),2e3),title:s,type:"button"})})))},T={add:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add.svg"',"add-album":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20album.svg"',"add-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20image.svg"',"add-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add%20inline.svg"',alexa:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/alexa.svg"',albums:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/albums.svg"',"aspect-ratio":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/aspect%20ratio.svg"',back:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back.svg"',"blocked-contacts":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/blocked-contacts.svg"',"back-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back%20android.svg"',"broken-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/broken%20image.svg"',burst:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/burst.svg"',calendar:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/calendar.svg"',camera:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/camera.svg"',cancel:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel.svg"',"cancel-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel%20inline.svg"',"caret-down":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20down.svg"',"caret-left":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20left.svg"',"caret-right":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20right.svg"',"caret-up":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20up.svg"',"checkbox-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-on.svg"',"checkbox-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-off.svg"',"checkmark-circle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark_Hover.svg"',checkmark:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark.svg"',"cloud-upload":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cloud%20upload.svg"',contact:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact.svg"',"contact-inverted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact-inverted.svg"',"contact-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20add.svg"',"contact-group":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20group.svg"',delete:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/delete.svg"',device:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/device.svg"',dislike:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/dislike.svg"',done:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done.svg"',"done-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done%20inline.svg"',download:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download.svg"',"download-cloud":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download-cloud.svg"',"down-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/down-arrow.svg"',"drive-logo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/drive-logo.svg"',dropdown:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown.svg"',"dropdown-active":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown%20active.svg"',edit:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit.svg"',"edit-text":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/edit%20text.svg"',email:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/email.svg"',error:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/error.svg"',"external-link":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/external-link.svg"',"face-tags":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit-tags.svg"',"family-storage":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/family-storage.svg"',"family-vault":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/family_vault.svg"',filter:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/filter.svg"',"fire-tv":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/fire%20tv.svg"',flag:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/flag.svg"',folder:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder.svg"',"folder-move":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder_move.svg"',"group-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/group-add.svg"',"heart-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20off.svg"',"heart-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20on.svg"',help:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/help.svg"',hide:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/hide.svg"',hyperlink:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/hyperlink.svg"',image:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image.svg"',"image-landscape":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image%20landscape.svg"',information:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/information.svg"',"jump-back":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/jump%20back.svg"',like:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/like.svg"',"live-photo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live%20photo.svg"',"live-photo-play":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-play.svg"',"live-photo-pause":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-pause.svg"',location:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/location.svg"',"magic-sparkle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/magic%20sparkle.svg"',menu:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/menu.svg"',magnify:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify.svg"',"magnify-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify-out.svg"',merge:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/merge.svg"',microphone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/microphone.svg"',more:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/more.svg"',music:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/music.svg"',"network-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20error.svg"',"network-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20off.svg"',"notification-bell":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/notification%20bell.svg"',overflow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/overflow.svg"',pause:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause.svg"',"pause-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause%20inline.svg"',phone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/phone.svg"',photos:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/photos.svg"',play:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play.svg"',"play-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play%20inline.svg"',"radio-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-off.svg"',"radio-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-on.svg"',remove:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove.svg"',"remove-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove%20inline.svg"',reply:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/reply.svg"',search:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/search.svg"',secure:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure.svg"',"secure-locked":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure%20locked.svg"',"send-message":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/send%20message.svg"',settings:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/settings.svg"',share:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share.svg"',"share-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share%20android.svg"',sharing:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing.svg"',"sharing-bubble":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing%20bubble.svg"',"shopping-cart":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/shopping%20cart.svg"',show:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/show.svg"',signout:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/signout.svg"',slideshow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/slideshow.svg"',"star-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20off.svg"',"star-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20on.svg"',"stop-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/stop%20inline.svg"',storage:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/storage.svg"',sync:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/sync.svg"',upload:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/upload.svg"',"up-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/up-arrow.svg"',video:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/video.svg"',volume:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume.svg"',"volume-muted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20muted.svg"',"volume-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20off.svg"',warning:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/warning.svg"',"wifi-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20error.svg"',"wifi-not-connected":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20not%20connected.svg"',"wifi-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20off.svg"',"zoom-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/zoom%20out.svg"',answerContainer:"ask-photos-answer-module__answerContainer__EA5mv",fade:"ask-photos-answer-module__fade__hxD9Y",headingContainer:"ask-photos-answer-module__headingContainer__AkrUh",heading:"ask-photos-answer-module__heading__YHLtR",textPlaceholder:"ask-photos-answer-module__textPlaceholder__itJyx",shimmer:"ask-photos-answer-module__shimmer__rbOQk",answerText:"ask-photos-answer-module__answerText__S7SIA",feedbackContainer:"ask-photos-answer-module__feedbackContainer__WvUdL"};const ask_photos_answer=()=>{var e=(0,a.GV)(i.OQ),o=(0,a.GV)(i.J3),t=(0,a.GV)(i.BF);return e!==c.Z.SUCCEEDED?null:r.createElement("section",{className:T.answerContainer},r.createElement("div",{className:T.headingContainer},r.createElement("h2",{className:T.heading},(0,d.A)("amazon-photos-ask-photos-answer-heading")),o===c.Z.SUCCEEDED&&r.createElement("div",{className:T.feedbackContainer},r.createElement(ask_photos_q_and_a_feedback_buttons,null))),o!==c.Z.SUCCEEDED&&r.createElement("div",{className:T.loadingPlaceholderContainer},["1","2","3"].map((e=>r.createElement("p",{className:T.textPlaceholder,key:e})))),o===c.Z.SUCCEEDED&&r.createElement("p",{className:T.answerText},t))},I="ask-photos-loading-indicator-module__loader__h74si",O="ask-photos-loading-indicator-module__inner__btO3X",D="ask-photos-loading-indicator-module__one__UMQyi",x="ask-photos-loading-indicator-module__two___ESx3",U="ask-photos-loading-indicator-module__three___T_Vv";const ask_photos_loading_indicator=()=>r.createElement("div",{"aria-live":"polite",className:I},r.createElement("div",{className:l()(O,D)}),r.createElement("div",{className:l()(O,x)}),r.createElement("div",{className:l()(O,U)}));var z=t(73509),F=t(85796),G=t(63734),j=t(61738),q=t(59055),V=t(49479),R=t(76767);const B="ask-photos-q-and-a-topic-module__topicContainer__dyj8T",H="ask-photos-q-and-a-topic-module__overlay__XVYMV";var W={maxFont:11.8,minFont:5.9,maxLength:37,lineHeightScalingFactor:1.2},Q={maxFont:4.2,minFont:3.2,maxLength:20,lineHeightScalingFactor:1};const ask_photos_q_and_a_topic=e=>{var o,{topic:t}=e;return r.createElement("div",{className:B},t.coverNodes[0]&&""!==(null===(o=t.coverNodes[0])||void 0===o?void 0:o.id)?r.createElement(z.t$,null,(e=>{var{width:o,height:n}=e;return r.createElement(F.A,{model:new V.A(t.coverNodes[0]),clip:!0,thumbnail:!0,height:n,width:o})})):r.createElement("img",{alt:"placeholder",src:"https://picsum.photos/id/127/300/300"}),r.createElement("div",{className:H},r.createElement(R.A,{title:t.title,subtitle:"",titleAutoSizeStyle:W,subtitleAutoSizeStyle:Q})))},K="ask-photos-loading-mosaic-module__container__iTnDF",Z="ask-photos-loading-mosaic-module__cellContainer__W8cXo",Y="ask-photos-loading-mosaic-module__cellItem__KnQU7",J="ask-photos-loading-mosaic-module__faceContainer__xjI2E",X="ask-photos-loading-mosaic-module__face__ENjEQ",$="ask-photos-loading-mosaic-module__imageContainer__KJ8P2",ee="ask-photos-loading-mosaic-module__hidden__jd0e7",oe="ask-photos-loading-mosaic-module__shown__GGUUO";function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(this,arguments)}const ask_photos_loading_mosaic=e=>{var{photos:o=[],people:t=[],events:n=[],topics:a=[],maxCellSize:i}=e;if(!(o.length||t.length||n.length||a.length))return null;var c=(0,G.N)(j.A,(e=>e.size.mobile)),s=(0,r.useRef)(null),m=(0,r.useRef)(((e,o,t,n,a)=>{for(var i=[...[e.map((e=>r.createElement("div",{className:$,key:e.id},r.createElement(z.t$,null,(o=>{var{width:t,height:n}=o;return r.createElement(F.A,{model:new V.A(e),clip:!0,thumbnail:!0,width:t,height:n})}))))),o.map((e=>r.createElement("div",{className:J,key:e.id},r.createElement(q.A,{className:X,cdsClusterId:e.id}),r.createElement("label",null,e.title)))),t.map((e=>r.createElement(ask_photos_q_and_a_topic,{key:e.id,topic:e}))),n.map((e=>r.createElement(ask_photos_q_and_a_topic,{key:e.id,topic:e})))].flat().sort((()=>Math.random()-.5))],c=i.length>15&&!a?8:4,s=Array(c).fill([]),l=0;i.length>0;){l>c-1&&(l=0);var m=i.pop();if(void 0===m)break;s[l]=[...s[l],m],l+=1}return s.map(((e,o)=>({id:"cell-".concat(o),items:e})))})(o,t,n,a,c)),[d,u]=(0,r.useState)({cellToAnimate:0,currentVisibleCellItemForCell:new Array(m.current.length).fill(0)});(0,r.useEffect)((()=>(s.current=setInterval((()=>{u((e=>{var{cellToAnimate:o,currentVisibleCellItemForCell:t}=e,r=o+1;(r===m.current.length||m.current[r].items.length<2)&&(r=0);var n=t[r]+1;return n===m.current[r].items.length&&(n=0),t[r]=n,{cellToAnimate:r,currentVisibleCellItemForCell:t}}))}),600),()=>{null!==s.current&&clearTimeout(s.current)})),[]);var p={};return i&&(p={style:{maxHeight:"".concat(i,"px"),maxWidth:"".concat(i,"px")}}),r.createElement("div",{className:K},m.current.map(((e,o)=>r.createElement("div",_extends({className:Z,key:e.id},p),e.items.map(((e,t)=>r.createElement("div",{className:l()(Y,t===d.currentVisibleCellItemForCell[o]||0===d.currentVisibleCellItemForCell[o]&&0===t?oe:ee),key:e.key},e)))))))},te="ask-photos-section-heading-module__information__iQqX9",re="ask-photos-section-heading-module__askPhotosSectionHeading__qF8Dm",ne="ask-photos-section-heading-module__disableDivider__UoRfz",ae="ask-photos-section-heading-module__lightText__BsaXE",ie="ask-photos-section-heading-module__sparkle__MGC4_",ce="ask-photos-section-heading-module__shopping__GEQqm",se="ask-photos-section-heading-module__collection__ww1uy";var le=function(e){return e.information="information",e.sparkle="sparkle",e.shopping="shopping",e.collection="collection",e}({}),me={[le.information]:te,[le.sparkle]:ie,[le.shopping]:ce,[le.collection]:se};const ask_photos_section_heading=e=>{var{darkBackground:o,disableDivider:t,stringId:n,icon:a}=e;return r.createElement("h2",{className:l()(re,me[a],{[ne]:t},{[ae]:o})},(0,d.A)(n))};const ask_photos_q_and_a_question_context=e=>{var{photos:o=[],people:t=[],events:n=[],topics:a=[]}=e;return o.length||t.length||n.length||a.length?r.createElement(r.Fragment,null,r.createElement(ask_photos_section_heading,{icon:le.sparkle,stringId:"amazon-photos-ask-photos-context-loading-section-heading"}),r.createElement(ask_photos_loading_mosaic,{photos:o,people:t,events:n,topics:a})):null},de="ask-photos-accordion-module__accordion__ggOvX",ue="ask-photos-accordion-module__accordionHeader__rWEX3",pe="ask-photos-accordion-module__headerContainer__eabah",he="ask-photos-accordion-module__summaryContainer__c54Vf",ge="ask-photos-accordion-module__summaryClosed__ExAOm",ve="ask-photos-accordion-module__toggleButton__UN_9P",ye="ask-photos-accordion-module__toggleButtonOpened__g3gby",fe="ask-photos-accordion-module__detailsContainer__DhSy0",be="ask-photos-accordion-module__detailsContainerOpened__YmWmZ";const ask_photos_accordion=e=>{var{header:o,summary:t,details:n}=e,[a,i]=(0,r.useState)(!1);return r.createElement("div",{className:de},r.createElement("div",{className:ue},r.createElement("div",{className:pe},o),n&&r.createElement("button",{className:l()(ve,{[ye]:a}),onClick:()=>i(!a),type:"button"})),r.createElement("div",{className:l()(he,{[ge]:a})},t),n&&r.createElement("div",{className:l()(fe,{[be]:a})},n))};var ke=t(5556),_e=t.n(ke),Ae=t(57717);const Pe="ask-photos-image-mosaic-module__image__t7eqH",Ee="ask-photos-image-mosaic-module__container__q_zZe";var we=200,Me=150,AskPhotosImageMosaic=e=>{var{nodes:o,itemSpacing:t=0,thumbnailHeight:n=we,mobileThumbnailHeight:a=Me}=e,i=(0,G.N)(j.A,(e=>e.size.mobile))?a:n;return r.createElement(Ae.A,{className:Ee,models:o.map((e=>new V.A({id:e.id||e.nodeId,ownerId:e.ownerId,contentProperties:e.contentProperties}))),itemSpacing:t,height:i},(e=>{var{model:o,height:t,width:n}=e;return r.createElement(F.A,{className:Pe,model:o,height:t,width:n,thumbnail:!0})}))};AskPhotosImageMosaic.propTypes={nodes:_e().arrayOf(_e().shape({id:_e().string.isRequired,ownerId:_e().string.isRequired,contentProperties:_e().shape({image:_e().shape({height:_e().number,width:_e().number})}).isRequired})),itemSpacing:_e().number,thumbnailHeight:_e().number,mobileThumbnailHeight:_e().number};const Ce=AskPhotosImageMosaic,Se="ask-photos-q-and-a-answer-context-module__contextSection__bNq1p",Le="ask-photos-q-and-a-answer-context-module__previewContentContainer__W67z9",Ne="ask-photos-q-and-a-answer-context-module__summaryPhotos__M2OKi",Te="ask-photos-q-and-a-answer-context-module__detailsContentContainer__XCX2G",Ie="ask-photos-q-and-a-answer-context-module__answerMosaic__dmfkQ",Oe="ask-photos-q-and-a-answer-context-module__centeredMosaic__QjGZy",De="ask-photos-q-and-a-answer-context-module__faceContainer__oCPFW",xe="ask-photos-q-and-a-answer-context-module__face__WdwBH",Ue="ask-photos-q-and-a-answer-context-module__topicContainer__iKLUZ";const ask_photos_q_and_a_answer_context=e=>{var{photos:o=[],people:t=[],events:n=[],topics:a=[]}=e;if(!(o.length||t.length||n.length||a.length))return null;var i=(0,G.N)(j.A,(e=>e.size.mobile))?6:10,c=o.length>i||t.length>0||n.length>0||a.length>0;return r.createElement(ask_photos_accordion,{header:r.createElement(ask_photos_section_heading,{disableDivider:!0,icon:le.sparkle,stringId:"amazon-photos-ask-photos-context-section-heading"}),summary:r.createElement("div",null,r.createElement("div",{className:Le},(null==o?void 0:o.length)>0&&r.createElement("div",{className:Ne},r.createElement(Ce,{nodes:[...o.slice(0,i)]})))),details:c&&r.createElement("div",{className:Te},(null==o?void 0:o.length)>0&&r.createElement("div",{className:Se},r.createElement(Ce,{nodes:o})),(null==t?void 0:t.length)>0&&r.createElement("div",{className:l()(Se,Ie,Oe)},t.map((e=>r.createElement("div",{className:De,key:e.id},r.createElement(q.A,{className:xe,cdsClusterId:e.id}),r.createElement("label",null,e.title))))),(null==a?void 0:a.length)>0&&r.createElement("div",{className:l()(Se,Ie,Oe)},[...a.slice(0,2)].map((e=>r.createElement("div",{className:Ue,key:e.id},r.createElement(ask_photos_q_and_a_topic,{topic:e}))))))})},ze="ask-photos-q-and-a-context-module__answerContextContainer__V4fbP";const ask_photos_q_and_a_context=()=>{var e=(0,a.GV)(i.OQ),o=(0,a.GV)(i.DB),t=(0,a.GV)(i.J3),n=(0,a.GV)(i.w9),s=null;return null===o&&e!==c.Z.PENDING?s:(e===c.Z.PENDING&&(s=r.createElement(ask_photos_loading_indicator,null)),e===c.Z.SUCCEEDED&&t===c.Z.PENDING&&null!==o&&(s=r.createElement(ask_photos_q_and_a_question_context,{photos:o.media,people:o.people,events:o.events,topics:o.topics})),e===c.Z.SUCCEEDED&&t===c.Z.SUCCEEDED&&null!==n&&(s=r.createElement(ask_photos_q_and_a_answer_context,{photos:n.media,people:n.people,events:n.events,topics:n.topics})),r.createElement("section",{className:ze},s))};var Fe=t(42026);const Ge="ask-photos-q-and-a-empty-state-module__emptyStateContainer__EG7_U",je="ask-photos-q-and-a-empty-state-module__emptyStateImage__DCgkk";const ask_photos_q_and_a_empty_state=()=>{var e=(0,a.GV)(i.OQ),o=(0,a.GV)(i.J3);return e!==c.Z.IDLE||o!==c.Z.IDLE?null:r.createElement("section",{className:Ge},r.createElement(Fe.A,{header:"amazon-photos-ask-photos-empty-state-title",sceneContent:r.createElement("img",{alt:"Ask Photos",className:l()("splash-img",je),src:"https://dcupkcmoyuvm5.cloudfront.net/accept-to-post.jpg"})}))};const ask_photos_q_and_a_page_contents=()=>{var e=(0,a.jL)(),o=(0,a.GV)(i.CZ);return r.createElement(r.Fragment,null,r.createElement(ask_photos_q_and_a_empty_state,null),r.createElement(ask_photos_question,{onClearButtonClick:()=>e((0,i.B5)()),question:o}),r.createElement(ask_photos_answer,null),r.createElement(ask_photos_q_and_a_context,null),r.createElement(ask_photos_suggestions,null))};var qe=t(32098);const Ve={add:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add.svg"',"add-album":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20album.svg"',"add-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20image.svg"',"add-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add%20inline.svg"',alexa:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/alexa.svg"',albums:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/albums.svg"',"aspect-ratio":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/aspect%20ratio.svg"',back:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back.svg"',"blocked-contacts":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/blocked-contacts.svg"',"back-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back%20android.svg"',"broken-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/broken%20image.svg"',burst:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/burst.svg"',calendar:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/calendar.svg"',camera:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/camera.svg"',cancel:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel.svg"',"cancel-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel%20inline.svg"',"caret-down":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20down.svg"',"caret-left":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20left.svg"',"caret-right":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20right.svg"',"caret-up":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20up.svg"',"checkbox-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-on.svg"',"checkbox-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-off.svg"',"checkmark-circle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark_Hover.svg"',checkmark:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark.svg"',"cloud-upload":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cloud%20upload.svg"',contact:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact.svg"',"contact-inverted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact-inverted.svg"',"contact-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20add.svg"',"contact-group":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20group.svg"',delete:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/delete.svg"',device:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/device.svg"',dislike:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/dislike.svg"',done:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done.svg"',"done-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done%20inline.svg"',download:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download.svg"',"download-cloud":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download-cloud.svg"',"down-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/down-arrow.svg"',"drive-logo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/drive-logo.svg"',dropdown:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown.svg"',"dropdown-active":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown%20active.svg"',edit:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit.svg"',"edit-text":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/edit%20text.svg"',email:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/email.svg"',error:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/error.svg"',"external-link":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/external-link.svg"',"face-tags":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit-tags.svg"',"family-storage":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/family-storage.svg"',"family-vault":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/family_vault.svg"',filter:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/filter.svg"',"fire-tv":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/fire%20tv.svg"',flag:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/flag.svg"',folder:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder.svg"',"folder-move":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder_move.svg"',"group-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/group-add.svg"',"heart-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20off.svg"',"heart-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20on.svg"',help:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/help.svg"',hide:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/hide.svg"',hyperlink:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/hyperlink.svg"',image:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image.svg"',"image-landscape":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image%20landscape.svg"',information:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/information.svg"',"jump-back":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/jump%20back.svg"',like:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/like.svg"',"live-photo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live%20photo.svg"',"live-photo-play":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-play.svg"',"live-photo-pause":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-pause.svg"',location:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/location.svg"',"magic-sparkle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/magic%20sparkle.svg"',menu:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/menu.svg"',magnify:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify.svg"',"magnify-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify-out.svg"',merge:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/merge.svg"',microphone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/microphone.svg"',more:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/more.svg"',music:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/music.svg"',"network-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20error.svg"',"network-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20off.svg"',"notification-bell":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/notification%20bell.svg"',overflow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/overflow.svg"',pause:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause.svg"',"pause-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause%20inline.svg"',phone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/phone.svg"',photos:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/photos.svg"',play:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play.svg"',"play-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play%20inline.svg"',"radio-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-off.svg"',"radio-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-on.svg"',remove:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove.svg"',"remove-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove%20inline.svg"',reply:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/reply.svg"',search:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/search.svg"',secure:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure.svg"',"secure-locked":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure%20locked.svg"',"send-message":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/send%20message.svg"',settings:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/settings.svg"',share:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share.svg"',"share-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share%20android.svg"',sharing:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing.svg"',"sharing-bubble":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing%20bubble.svg"',"shopping-cart":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/shopping%20cart.svg"',show:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/show.svg"',signout:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/signout.svg"',slideshow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/slideshow.svg"',"star-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20off.svg"',"star-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20on.svg"',"stop-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/stop%20inline.svg"',storage:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/storage.svg"',sync:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/sync.svg"',upload:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/upload.svg"',"up-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/up-arrow.svg"',video:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/video.svg"',volume:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume.svg"',"volume-muted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20muted.svg"',"volume-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20off.svg"',warning:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/warning.svg"',"wifi-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20error.svg"',"wifi-not-connected":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20not%20connected.svg"',"wifi-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20off.svg"',"zoom-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/zoom%20out.svg"',coachmark:"toggle-tooltip-module__coachmark__AAkls",fadeIn:"toggle-tooltip-module__fadeIn__pKHbE",left:"toggle-tooltip-module__left__KqOMZ",right:"toggle-tooltip-module__right__cBegO",up:"toggle-tooltip-module__up__vpT0U",down:"toggle-tooltip-module__down__v_FNY",leading:"toggle-tooltip-module__leading__xVuPX",center:"toggle-tooltip-module__center__U8kw4",trailing:"toggle-tooltip-module__trailing__sNBcc"};var Re=function(e){return e.leading="leading",e.center="center",e.trailing="trailing",e}({}),Be=function(e){return e.up="up",e.down="down",e.left="left",e.right="right",e}({});const toggle_tooltip=e=>{var{caretAlignment:o=Re.center,caretDirection:t=Be.down,children:n}=e,a=l()(Ve.coachmark,Ve[o],Ve[t]);return r.createElement("aside",{className:a},n)},He="ask-photos-curation-mode-toggle-module__askPhotosCurationModeToggleDesktop__dVwdc",We="ask-photos-curation-mode-toggle-module__askPhotosCuratonModeToggleMobileContainer__D_uos",Qe="ask-photos-curation-mode-toggle-module__askPhotosCurationModeToggleMobile__Gec1P",Ke="ask-photos-curation-mode-toggle-module__mobileToggleIcon__bS7QJ",Ze="ask-photos-curation-mode-toggle-module__mobileQnAIcon__lpyyS",Ye="ask-photos-curation-mode-toggle-module__mobileCurationIcon__f3nz5",Je="ask-photos-curation-mode-toggle-module__tab__as4AL",Xe="ask-photos-curation-mode-toggle-module__activeTab__ulyo8",$e="ask-photos-curation-mode-toggle-module__qAndATab__mnF1H",eo="ask-photos-curation-mode-toggle-module__qAndAMenuItem__owx7x",oo="ask-photos-curation-mode-toggle-module__curationModeTab__A0IOn",to="ask-photos-curation-mode-toggle-module__curationMenuItem__PKF9u",ro="ask-photos-curation-mode-toggle-module__coachmarkContainer__C5gyU";function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}const ask_photos_curation_mode_toggle=e=>{var{curationModeEnabled:o,onChange:t}=e,[n,a]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),s={name:(0,d.A)("amazon-photos-ask-photos-qna-toggle-label-heading"),id:"qAndA",title:(0,d.A)("amazon-photos-ask-photos-qna-toggle-label-heading"),description:(0,d.A)("amazon-photos-ask-photos-qna-toggle-label-body")},u={name:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-toggle-label-heading"),id:"curation",title:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-toggle-label-heading"),description:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-toggle-label-body")},p=[_objectSpread(_objectSpread({},s),{className:$e,tooltipShown:n,setTooltipShown:a,tooltipCaretAlignment:Re.leading}),_objectSpread(_objectSpread({},u),{className:oo,tooltipShown:i,setTooltipShown:c,tooltipCaretAlignment:Re.leading})],h=[_objectSpread(_objectSpread({},s),{buttonClassName:eo}),_objectSpread(_objectSpread({},u),{buttonClassName:to})];return r.createElement(r.Fragment,null,r.createElement("div",{className:We},r.createElement(qe.A,{label:o?u.title:s.title,text:r.createElement("span",{className:l()(Ke,{[Ye]:o},{[Ze]:!o})}),alignment:"top",position:"left",name:"ask-photos-curation-mode-toggle",className:Qe},r.createElement("ul",null,h.map((e=>{var{name:n,id:a,buttonClassName:i}=e,c=a===u.id&&o||a===s.id&&!o;return r.createElement("li",{key:a},r.createElement("button",{className:i,onClick:()=>{c||t()},type:"button"},n))}))))),r.createElement("nav",{id:"ask-photos-curation-mode-toggle",className:He},p.map((e=>{var{name:n,id:a,className:i,tooltipShown:c,setTooltipShown:d,tooltipCaretAlignment:p,title:h,description:g}=e,v=a===u.id&&o||a===s.id&&!o;return r.createElement(r.Fragment,{key:a},r.createElement(m.A,{key:a,name:n,className:l()(i,Je,{[Xe]:v}),onClick:()=>{v||t()},onMouseOver:()=>d(!0),onMouseOut:()=>d(!1)},c&&r.createElement("div",{className:l()(ro)},r.createElement(toggle_tooltip,{caretAlignment:p,caretDirection:Be.down},r.createElement("div",null,r.createElement("h4",null,h),r.createElement("p",null,g))))))}))))};const ask_photos_no_content_found=()=>r.createElement(Fe.A,{header:"amazon-photos-ask-photos-dynamic-curation-empty-response-title",body:"amazon-photos-ask-photos-dynamic-curation-empty-response-description",sceneContent:r.createElement("img",{alt:"404",className:"splash-img",src:"https://dcupkcmoyuvm5.cloudfront.net/pngs/404-no-search-results.png"})});var no=t(1583);const ao="ask-photos-curation-storybook-intro-module__introContainer__p_rcs",io="ask-photos-curation-storybook-intro-module__loadingIndicatorContainer__BXo0V",co="ask-photos-curation-storybook-intro-module__loadingMosaicContainer__O7R2v",so="ask-photos-curation-storybook-intro-module__loadingCategoriesSection__txTTs",lo="ask-photos-curation-storybook-intro-module__loadingCategoriesContainer__rJlBc",mo="ask-photos-curation-storybook-intro-module__loadingCategoryContainer__EQgdr",uo="ask-photos-curation-storybook-intro-module__loadingShimmer__TRB2A",po="ask-photos-curation-storybook-intro-module__hidden__sAQVD",ho="ask-photos-curation-storybook-intro-module__question___fLfB";const ask_photos_curation_storybook_intro=e=>{var{categoriesReady:o,dynamicCategories:t,initialNodes:n,questionText:a}=e,i=t.slice(0,3);return r.createElement("section",{className:ao},!o&&r.createElement("div",{className:l()(io,{[po]:o})},r.createElement("div",{className:co},r.createElement(ask_photos_loading_mosaic,{photos:n,people:[],events:[],topics:[],maxCellSize:325})),r.createElement("div",{className:so},r.createElement(ask_photos_section_heading,{darkBackground:!0,stringId:"amazon-photos-ask-photos-dynamic-categories-section-title",icon:le.collection}),r.createElement("div",{className:lo},i.map((e=>r.createElement("div",{className:mo,key:e.name},r.createElement(ask_photos_q_and_a_topic,{topic:{id:e.name,title:e.name,coverNodes:e.nodes}})))),Array.from(Array(4-i.length).keys()).map((e=>r.createElement("div",{className:mo,key:e},r.createElement("div",{className:uo}))))))),r.createElement("h2",{className:ho},a))};var go=t(37796),vo=t(61510),yo=t(82657);const fo="ask-photos-curation-ephemeral-story-player-module__storyContainer__wvC0C",bo="ask-photos-curation-ephemeral-story-player-module__controlsContainer__BXabF",ko="ask-photos-curation-ephemeral-story-player-module__ctaButtonContainer__Ab1FM",_o="ask-photos-curation-ephemeral-story-player-module__ctaButton__XPQXM",Ao="ask-photos-curation-ephemeral-story-player-module__replayCtaButton__V2S3o",Po="ask-photos-curation-ephemeral-story-player-module__saveCtaButton__ADnw6",Eo="ask-photos-curation-ephemeral-story-player-module__ribbonButtonContainer__KKdj6",wo="ask-photos-curation-ephemeral-story-player-module__saveRibbonButton__luldN",Mo="ask-photos-curation-ephemeral-story-player-module__saveRibbonText__dMP0O";function ask_photos_curation_ephemeral_story_player_ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function ask_photos_curation_ephemeral_story_player_objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ask_photos_curation_ephemeral_story_player_ownKeys(Object(t),!0).forEach((function(o){ask_photos_curation_ephemeral_story_player_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ask_photos_curation_ephemeral_story_player_ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function ask_photos_curation_ephemeral_story_player_defineProperty(e,o,t){return(o=function ask_photos_curation_ephemeral_story_player_toPropertyKey(e){var o=function ask_photos_curation_ephemeral_story_player_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}const ask_photos_curation_ephemeral_story_player=e=>{var{ephemeralStory:o,onSaveStoryClicked:t,storyGenerationStatus:n}=e,[a,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),m=(0,r.useRef)(null);return(0,r.useEffect)((()=>{var e,t;i(!1),m.current||(m.current=new yo.StoryAnimator(s.current,{musicDisabled:!0}));var r=m.current;if(r)return r.start({storyNarrative:ask_photos_curation_ephemeral_story_player_objectSpread(ask_photos_curation_ephemeral_story_player_objectSpread({},o),{},{subtitle:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-memory-subtitle")}),width:null==s||null===(e=s.current)||void 0===e?void 0:e.offsetWidth,height:null==s||null===(t=s.current)||void 0===t?void 0:t.offsetHeight}),r.on("playerLoadComplete",(()=>{r.setMute(!0),r.play(),document.addEventListener("keyup",(e=>{" "===e.key&&(r.isPlaying?r.pause():r.play())}))})),r.on("animationEnded",(()=>{i(!0),r.renderFrameAtTime(0)})),()=>{r.unload()}}),[o]),o?r.createElement("div",{className:fo,ref:s},r.createElement("div",{className:bo},a?r.createElement("div",{className:ko},r.createElement("button",{className:l()(Ao,_o),onClick:()=>{var e;null!=m&&m.current&&(i(!1),null==m||null===(e=m.current)||void 0===e||e.play())},type:"button"},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-replay-story-button-label")),r.createElement("button",{className:l()(Po,_o),onClick:t,type:"button"},n===c.Z.PENDING?r.createElement("span",{className:"askPhotosCreateStoryButtonLoadingIndicator"}):(0,d.A)("amazon-photos-ask-photos-dynamic-curation-create-story-button-label"))):r.createElement("div",{className:Eo},r.createElement("button",{className:wo,onClick:t,type:"button",name:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-create-story-button-label")},n===c.Z.PENDING?r.createElement("span",{className:"askPhotosCreateStoryButtonLoadingIndicator"}):r.createElement("span",{className:Mo},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-create-story-short-button-label")))))):null};var Co=t(47389),So=t(60453),Lo=t(18742),No=t(94330);const ask_photos_curation_single_media_view=e=>{var{nodes:o}=e,[t,n]=(0,r.useState)(0),a=0===t?o.length-1:t-1,i=t===o.length-1?0:t+1,c=o[a],s=o[t],l=o[i],m=new Co.A("".concat(Lo.A.getProperty("urls").askPhotos),(0,So.A)(window.location.search));(0,r.useEffect)((()=>()=>n(0)),[]);var navigateSmv=e=>{n("next"===e?t===o.length-1?0:t+1:0===t?o.length-1:t-1)};return r.createElement(No.A,{nodeHeader:{component:()=>r.createElement(r.Fragment,null)},faceEditingVisible:!1,reportAbuseVisible:!1,hideActions:!0,hideReactions:!0,shareMode:!1,showFavorite:!1,showHide:!1,isSharedPage:!1,pageUrlModel:m,currentNode:s,prevNode:c,nextNode:l,nodesToLoad:[c,s,l],viewName:"AskPhotos",backUrl:m.toString(),buildNavigationLink:()=>m.toString(),handleNavigate:navigateSmv,onNextButtonClicked:()=>navigateSmv("next"),onPrevButtonClicked:()=>navigateSmv("prev")})};var To=function(e){return e.summary="summary",e.singleMediaView="singleMediaView",e.mosaic="mosaic",e}({});const Io="ask-photos-curation-storybook-chapter-module__contentContainer___aBqQ",Oo="ask-photos-curation-storybook-chapter-module__nodeMosaicContainer__nukK8",Do="ask-photos-curation-storybook-chapter-module__summaryContainer__ITBbQ",xo="ask-photos-curation-storybook-chapter-module__summaryMetadataContainer__MNjf9",Uo="ask-photos-curation-storybook-chapter-module__summaryStorySection__uKDYQ",zo="ask-photos-curation-storybook-chapter-module__summaryStoryContainer__zdl4a";const ask_photos_curation_storybook_chapter=e=>{var o,{categoryStory:t,categoryEphemeralStory:n,dynamicCategory:c,storyGenerationStatus:s,viewType:l}=e,m=(0,a.jL)(),{description:u,name:p,nodes:h}=c,g=h.map((e=>new V.A({id:e.id,ownerId:e.ownerId,contentProperties:e.contentProperties}))),v=r.createElement("div",{className:Oo},r.createElement(Ce,{nodes:h,thumbnailHeight:500,mobileThumbnailHeight:200,itemSpacing:4}));(l===To.singleMediaView&&(v=r.createElement(ask_photos_curation_single_media_view,{nodes:g})),l===To.summary)&&(t&&(o=new vo.A(t)),v=r.createElement("div",{className:Do},r.createElement("aside",{className:xo},r.createElement("h1",null,p),r.createElement("p",null,u)),r.createElement("section",{className:Uo},o?r.createElement("div",{className:zo},r.createElement(go.A,{model:o,showChrome:!1,isActive:!0,storyId:o._id})):r.createElement(ask_photos_curation_ephemeral_story_player,{ephemeralStory:n,onSaveStoryClicked:()=>{m((0,i.bf)({category:c,storySubtitle:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-memory-subtitle")}))},storyGenerationStatus:s}))));return r.createElement("div",{className:Io},v)},Fo={add:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add.svg"',"add-album":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20album.svg"',"add-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20image.svg"',"add-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add%20inline.svg"',alexa:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/alexa.svg"',albums:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/albums.svg"',"aspect-ratio":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/aspect%20ratio.svg"',back:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back.svg"',"blocked-contacts":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/blocked-contacts.svg"',"back-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back%20android.svg"',"broken-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/broken%20image.svg"',burst:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/burst.svg"',calendar:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/calendar.svg"',camera:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/camera.svg"',cancel:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel.svg"',"cancel-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel%20inline.svg"',"caret-down":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20down.svg"',"caret-left":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20left.svg"',"caret-right":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20right.svg"',"caret-up":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20up.svg"',"checkbox-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-on.svg"',"checkbox-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-off.svg"',"checkmark-circle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark_Hover.svg"',checkmark:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark.svg"',"cloud-upload":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cloud%20upload.svg"',contact:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact.svg"',"contact-inverted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact-inverted.svg"',"contact-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20add.svg"',"contact-group":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20group.svg"',delete:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/delete.svg"',device:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/device.svg"',dislike:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/dislike.svg"',done:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done.svg"',"done-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done%20inline.svg"',download:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download.svg"',"download-cloud":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download-cloud.svg"',"down-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/down-arrow.svg"',"drive-logo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/drive-logo.svg"',dropdown:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown.svg"',"dropdown-active":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown%20active.svg"',edit:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit.svg"',"edit-text":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/edit%20text.svg"',email:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/email.svg"',error:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/error.svg"',"external-link":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/external-link.svg"',"face-tags":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit-tags.svg"',"family-storage":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/family-storage.svg"',"family-vault":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/family_vault.svg"',filter:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/filter.svg"',"fire-tv":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/fire%20tv.svg"',flag:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/flag.svg"',folder:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder.svg"',"folder-move":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder_move.svg"',"group-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/group-add.svg"',"heart-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20off.svg"',"heart-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20on.svg"',help:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/help.svg"',hide:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/hide.svg"',hyperlink:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/hyperlink.svg"',image:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image.svg"',"image-landscape":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image%20landscape.svg"',information:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/information.svg"',"jump-back":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/jump%20back.svg"',like:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/like.svg"',"live-photo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live%20photo.svg"',"live-photo-play":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-play.svg"',"live-photo-pause":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-pause.svg"',location:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/location.svg"',"magic-sparkle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/magic%20sparkle.svg"',menu:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/menu.svg"',magnify:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify.svg"',"magnify-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify-out.svg"',merge:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/merge.svg"',microphone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/microphone.svg"',more:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/more.svg"',music:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/music.svg"',"network-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20error.svg"',"network-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20off.svg"',"notification-bell":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/notification%20bell.svg"',overflow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/overflow.svg"',pause:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause.svg"',"pause-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause%20inline.svg"',phone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/phone.svg"',photos:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/photos.svg"',play:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play.svg"',"play-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play%20inline.svg"',"radio-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-off.svg"',"radio-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-on.svg"',remove:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove.svg"',"remove-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove%20inline.svg"',reply:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/reply.svg"',search:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/search.svg"',secure:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure.svg"',"secure-locked":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure%20locked.svg"',"send-message":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/send%20message.svg"',settings:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/settings.svg"',share:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share.svg"',"share-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share%20android.svg"',sharing:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing.svg"',"sharing-bubble":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing%20bubble.svg"',"shopping-cart":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/shopping%20cart.svg"',show:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/show.svg"',signout:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/signout.svg"',slideshow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/slideshow.svg"',"star-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20off.svg"',"star-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20on.svg"',"stop-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/stop%20inline.svg"',storage:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/storage.svg"',sync:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/sync.svg"',upload:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/upload.svg"',"up-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/up-arrow.svg"',video:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/video.svg"',volume:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume.svg"',"volume-muted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20muted.svg"',"volume-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20off.svg"',warning:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/warning.svg"',"wifi-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20error.svg"',"wifi-not-connected":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20not%20connected.svg"',"wifi-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20off.svg"',"zoom-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/zoom%20out.svg"',mobileToggleContainer:"ask-photos-curation-storybook-view-mode-toggle-module__mobileToggleContainer__ZkfFp",mobileExpandableMenuButton:"ask-photos-curation-storybook-view-mode-toggle-module__mobileExpandableMenuButton__EU5Bs",mobileMenuItem:"ask-photos-curation-storybook-view-mode-toggle-module__mobileMenuItem__I72ah",desktopToggleContainer:"ask-photos-curation-storybook-view-mode-toggle-module__desktopToggleContainer__D3mPA",toggleButton:"ask-photos-curation-storybook-view-mode-toggle-module__toggleButton___fXbZ",activeToggleButton:"ask-photos-curation-storybook-view-mode-toggle-module__activeToggleButton__BnYzY",summaryViewButton:"ask-photos-curation-storybook-view-mode-toggle-module__summaryViewButton__kwBEF",singleMediaViewButton:"ask-photos-curation-storybook-view-mode-toggle-module__singleMediaViewButton__CCiCs",mosaicViewButton:"ask-photos-curation-storybook-view-mode-toggle-module__mosaicViewButton__Rx7DB",leftmostButton:"ask-photos-curation-storybook-view-mode-toggle-module__leftmostButton__bUiZ5",rightmostButton:"ask-photos-curation-storybook-view-mode-toggle-module__rightmostButton__xYoD7"};const ask_photos_curation_storybook_view_mode_toggle=e=>{var{activeViewType:o,onToggleButtonClick:t}=e,n=[{className:Fo.summaryViewButton,label:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-storybook-summary-view-toggle-label"),viewType:To.summary},{className:Fo.mosaicViewButton,label:(0,d.A)("amazon-photos-ask-photos-dynamic-curation-storybook-grid-view-toggle-label"),viewType:To.mosaic},{className:Fo.singleMediaViewButton,label:(0,d.A)("amazon-photos-slideshow"),viewType:To.singleMediaView}],a=n.find((e=>e.viewType===o));return r.createElement(r.Fragment,null,r.createElement("div",{className:Fo.mobileToggleContainer},r.createElement(qe.A,{label:null==a?void 0:a.label,text:r.createElement("span",{className:l()(Fo.mobileToggleIcon,null==a?void 0:a.className)}),position:"right",name:"ask-photos-storybook-view-toggle",className:Fo.mobileExpandableMenuButton},r.createElement("ul",null,n.map((e=>{var{className:n,label:a,viewType:i}=e,c=i===o;return r.createElement("li",{key:a},r.createElement("button",{className:l()(Fo.mobileMenuItem,n),onClick:()=>{c||t(i)},type:"button"},a))}))))),r.createElement("div",{className:Fo.desktopToggleContainer},n.map(((e,a)=>r.createElement("button",{className:l()(Fo.toggleButton,e.className,{[Fo.activeToggleButton]:o===e.viewType},{[Fo.leftmostButton]:0===a},{[Fo.rightmostButton]:a===n.length-1}),onClick:()=>t(e.viewType),key:e.viewType,title:e.label,type:"button"})))))},Go="ask-photos-curation-storybook-dialog-module__dialogHeader__I0fAh",jo="ask-photos-curation-storybook-dialog-module__contentContainer__VLOA5",qo="ask-photos-curation-storybook-dialog-module__chapterTitle__GE8n0",Vo="ask-photos-curation-storybook-dialog-module__closeDialog__DkRL4",Ro="ask-photos-curation-storybook-dialog-module__viewModeToggleContainer__Z7knU",Bo="ask-photos-curation-storybook-dialog-module__closeDialogLabel__gBY93",Ho="ask-photos-curation-storybook-dialog-module__placeholderTextContainer__gbnOG",Wo="ask-photos-curation-storybook-dialog-module__placeholderTextParagraphContainer__rv5Ph",Qo="ask-photos-curation-storybook-dialog-module__placeholderTextParagraph__m0KZ7",Ko="ask-photos-curation-storybook-dialog-module__placeholderTextRightPadding__ZnDnF",Zo="ask-photos-curation-storybook-dialog-module__chapterNavigationContainer__SgSSm",Yo="ask-photos-curation-storybook-dialog-module__chapterButton__TUsBA",Jo="ask-photos-curation-storybook-dialog-module__previousChapterButton__fSUyG",Xo="ask-photos-curation-storybook-dialog-module__previousChapterIcon__usLNY",$o="ask-photos-curation-storybook-dialog-module__nextChapterButton__uRIb1",et="ask-photos-curation-storybook-dialog-module__nextChapterIcon__zdHmt";const ask_photos_curation_storybook_dialog=()=>{var e=(0,a.jL)(),[o,t]=(0,r.useState)(To.summary),n=(0,a.GV)(i.R3),s=(0,a.GV)(i.xy),m=(0,a.GV)(i.IW),u=(0,a.GV)(i.Ju),p=(0,a.GV)(i.ON),h=(0,a.GV)(i.Sx),g=(0,a.GV)(i.MG),v=(0,a.GV)(i.Ms),y=(0,a.GV)(i.go);if((0,r.useEffect)((()=>(n?L.A.emit("enterFullScreen"):L.A.emit("exitFullScreen"),()=>{L.A.emit("exitFullScreen")})),[n]),!n||m.length<1||null===p)return null;var f=m[h],b=0===h,k=h>=m.length-1;return r.createElement(no.A,{name:"ask-photos-curation-storybook-dialog",style:{}},r.createElement("header",{className:Go},r.createElement("button",{className:Vo,onClick:()=>e((0,i.Xj)(!1)),type:"button"},r.createElement("span",{className:Bo},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-storybook-dialog-hide"))),s===c.Z.PENDING&&r.createElement(r.Fragment,null,r.createElement("div",{className:Ho},r.createElement("div",{className:Wo},r.createElement("p",{className:Qo},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-loading-placeholder")))),r.createElement("div",{className:Ko})),h>-1&&f&&r.createElement(r.Fragment,null,r.createElement("h3",{className:qo},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-chapter-title",[h+1]),": ",f.name),r.createElement("div",{className:Ro},r.createElement(ask_photos_curation_storybook_view_mode_toggle,{activeViewType:o,onToggleButtonClick:t})))),r.createElement("main",{className:jo},-1===h&&u.length>0&&r.createElement(ask_photos_curation_storybook_intro,{initialNodes:u,dynamicCategories:m.filter((e=>"initial results"!==e.name.toLowerCase())),categoriesReady:s===c.Z.SUCCEEDED,questionText:p}),h>-1&&r.createElement(r.Fragment,null,r.createElement(ask_photos_curation_storybook_chapter,{categoryStory:g,categoryEphemeralStory:v,dynamicCategory:f,storyGenerationStatus:y,viewType:o}),r.createElement("div",{className:Zo},r.createElement("button",{className:l()(Yo,Jo),disabled:b,onClick:()=>{b||e((0,i.yU)(h-1))},type:"button"},r.createElement("span",{className:Xo}),r.createElement("span",null,(0,d.A)("amazon-photos-ask-photos-dynamic-curation-previous-chapter-button-label"))),r.createElement("button",{className:l()(Yo,$o),onClick:()=>{e(k?(0,i.Xj)(!1):(0,i.yU)(h+1))},type:"button"},r.createElement("span",null,k?(0,d.A)("amazon-photos-ask-photos-dynamic-curation-end-storybook-button-label"):(0,d.A)("amazon-photos-ask-photos-dynamic-curation-next-chapter-button-label")),r.createElement("span",{className:et}))))))},ot="ask-photos-curation-empty-state-module__emptyStateContainer__Cg3HM",tt="ask-photos-curation-empty-state-module__emptyStateImage__t09jn",rt="ask-photos-curation-empty-state-module__cta___bzpc";const ask_photos_curation_empty_state=()=>(0,a.GV)(i.xy)!==c.Z.IDLE?null:r.createElement("section",{className:ot},r.createElement(Fe.A,{header:"amazon-photos-ask-photos-dynamic-curation-empty-state-title",sceneContent:r.createElement("div",null,r.createElement("img",{alt:"Ask Photos",className:l()("splash-img",tt),src:"https://dcupkcmoyuvm5.cloudfront.net/pngs/empty-state-album.png"}))},r.createElement("p",{className:rt},(0,d.A)("amazon-photos-ask-photos-dynamic-curation-empty-state-cta")))),nt="ask-photos-dynamic-categories-module__categoriesGrid__Tv7JD",at="ask-photos-dynamic-categories-module__categoryCard__t6QXH",it="ask-photos-dynamic-categories-module__categoryImagesGrid__tlJms",ct="ask-photos-dynamic-categories-module__categoryLabel__egbFD",st="ask-photos-dynamic-categories-module__loadingSpace__oJZQD";const ask_photos_dynamic_categories=()=>{var e=(0,a.jL)(),o=(0,a.GV)(i.xy),t=(0,a.GV)(i.IW);return null===t||t.length<1?null:r.createElement("div",{className:nt},t.map(((t,n)=>{var a=[];return(null==t?void 0:t.nodes.length)>0&&(a=t.nodes.length<4?[t.nodes[0]]:t.nodes.slice(0,4)),r.createElement("div",{key:t.name,className:at,onClick:()=>{o===c.Z.SUCCEEDED&&e((0,i.yU)(n)),e((0,i.Xj)(!0))},role:"button",tabIndex:0,"aria-label":"View ".concat(t.name," category")},r.createElement("div",{className:it},a.map((e=>r.createElement(F.A,{key:"".concat(t.name,"-img-").concat(e.id),model:new V.A({id:e.id,ownerId:e.ownerId,contentProperties:e.contentProperties}),thumbnail:!0,height:116})))),r.createElement("div",{className:ct},t.name))})),o!==c.Z.SUCCEEDED&&r.createElement("div",{className:l()(st,at)}))},lt="ask-photos-dynamic-categories-section-module__askPhotosCurationContainer__J1eno";const ask_photos_dynamic_categories_section=()=>{var e=(0,a.GV)(i.xy),o=(0,a.GV)(i.IW);return e===c.Z.IDLE||o.length<1?null:r.createElement("section",{className:lt},r.createElement(ask_photos_section_heading,{stringId:"amazon-photos-ask-photos-dynamic-categories-section-title",icon:le.collection}),r.createElement(ask_photos_dynamic_categories,null))};var mt=t(76520),dt=t.n(mt);const ut="ask-photos-curation-answer-module__answerContainer__qJhVX";const ask_photos_curation_answer=()=>{var e=(0,a.GV)(i.sv),o=(0,a.GV)(i.IW);return null===e||o.length<1?null:r.createElement("section",{className:ut},r.createElement(ask_photos_section_heading,{stringId:"amazon-photos-ask-photos-dynamic-curation-answer-title",icon:le.information}),r.createElement(dt(),null,e))},pt="ask-photos-curation-page-contents-module__curationPageContents__w1F7p";const ask_photos_curation_page_contents=()=>{var e=(0,a.jL)(),o=(0,a.GV)(i.xy),t=(0,a.GV)(i.IW),n=(0,a.GV)(i.ON);return r.createElement("div",{className:pt},r.createElement(ask_photos_curation_empty_state,null),r.createElement(ask_photos_question,{onClearButtonClick:()=>e((0,i.Nb)()),question:n}),o===c.Z.PENDING&&t.length<1&&r.createElement("section",null,r.createElement(ask_photos_loading_indicator,null)),o===c.Z.SUCCEEDED&&t.length<1&&r.createElement(ask_photos_no_content_found,null),r.createElement(ask_photos_curation_storybook_dialog,null),r.createElement(ask_photos_dynamic_categories_section,null),r.createElement(ask_photos_curation_answer,null))},ht="ask-photos-page-module__askPhotosContainer__BC40f";var gt="curationMode",vt="true";const ask_photos_page=()=>{var e=(0,a.jL)(),o=(0,a.GV)(i.J3),t=(0,a.GV)(i.xy),[s,l]=(0,r.useState)(new URLSearchParams(window.location.search).get(gt)===vt);return r.createElement(n.A,{page:"askPhotos"},r.createElement("div",{className:ht},s?r.createElement(ask_photos_curation_page_contents,null):r.createElement(ask_photos_q_and_a_page_contents,null),r.createElement(ask_photos_input,{disabled:s?t===c.Z.PENDING:o===c.Z.PENDING,onSubmit:s?o=>{e((0,i.Nb)()),e((0,i.z9)(o))}:o=>{e((0,i.TZ)(o))},showFollowUpPlaceholder:o===c.Z.SUCCEEDED,toggle:r.createElement(ask_photos_curation_mode_toggle,{curationModeEnabled:s,onChange:()=>{var e=new URLSearchParams(window.location.search),o=!(e.get(gt)===vt);l(o),e.set(gt,o?vt:"false");var t="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(e.toString());window.history.pushState({path:t},"",t)}})}),r.createElement(ask_photos_error,null)))}},10969:(e,o,t)=>{t.d(o,{A:()=>f});var r=t(96540),n=t(5556),a=t.n(n),i=t(60788),c=t(35994),s=t(84503),l=t(68),m=t(18742),d=t(42852),u=t(43840),p=t(94788),h=t(67172),g=t(46600),v=t(6527),y=t(40248);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class BlockedMemberPage extends r.Component{constructor(){super(...arguments),_defineProperty(this,"onRemoveBlockedMember",((e,o)=>{var{model:t}=o,{customerId:n}=t;h.A.deleteContactBlock({customerId:n}).done((()=>{c.A.emit("removeModels",[t]),c.A.emit("showToast",{className:"success",message:r.createElement(p.A,null,"amazon-photos-unblock")})}))}))}renderEmptyStateView(){return r.createElement("div",{className:"no-blocked-member"},r.createElement("span",{className:"no-contacts"},r.createElement("i",null,r.createElement(p.A,null,"amazon-photos-blocked-contact-empty-message"))))}render(){var{collection:e={},query:o}=this.props,{blockedContacts:t,all:n}=m.A.getProperty("urls",{}),{backUrl:a}=o;a&&-1===a.indexOf(t)||(a=n);var i=r.createElement("div",null,r.createElement(l.A,{sizeGroups:["a",null]},r.createElement(u.A,{href:a,name:"back"},r.createElement(p.A,null,"amazon-photos-go-back-link")),r.createElement("h1",null,r.createElement(p.A,null,"amazon-photos-blocked-contact"))),r.createElement("p",null,r.createElement(p.A,null,"amazon-photos-blocked-contact-description-sharing")));return r.createElement(y.A,{page:"blocked-contacts",showPrimaryNav:!1,header:i},r.createElement(g.Ay,{pageSize:1,useWindowScroll:!0,collection:e,emptyState:this.renderEmptyStateView()},(e=>{var{models:o}=e,t=o[0];if(!t)return null;var{name:n}=t;return r.createElement("div",{className:"blocked-member"},n,r.createElement(s.A,{model:t,name:"remove-blocked-member",onClick:this.onRemoveBlockedMember}))})))}}_defineProperty(BlockedMemberPage,"propTypes",{collection:a().instanceOf(i.A)});const f=c.A.connect((0,d.A)(BlockedMemberPage),[{store:v.A,setup:()=>c.A.emit("getBlockedContacts"),teardown:()=>v.A.suspend(),onUpdate:()=>c.A.emit("getBlockedContacts")}])},31536:(e,o,t)=>{t.d(o,{A:()=>x});var r=t(96540),n=t(71468),a=t(5556),i=t.n(a),c=t(21572),s=t(32485),l=t.n(s);const m="collection-card-section-module__collectionCardSection__q6CGE",d="collection-card-section-module__contentWrapper__ktK6t",u="collection-card-section-module__multipleCollectionCards__ehsWW",p="collection-card-section-module__sectionHeader__R0xK2",h="collection-card-section-module__titleText__o48rX",g="collection-card-section-module__subtitleText__eZIyB";var CollectionCardSection=e=>{var{collectionCards:o=[],subtitle:t,title:n}=e;if(0===o.length||!t||!n)return null;var a=o.length>1,i=l()(d,{[u]:a});return r.createElement("section",{className:m},r.createElement("div",{className:i},r.createElement("header",{className:p},r.createElement("h2",{className:h},n),r.createElement("div",{className:g},t)),o))};CollectionCardSection.propTypes={collectionCards:i().arrayOf(i().node),subtitle:i().string.isRequired,title:i().string.isRequired};const v=CollectionCardSection;var y=t(84956),f=t(41374),b=t(35994),k=t(18742),_=t(47389),A=t(43840),P=t(14697),E=t(94788);const w="collection-card-module__collectionCard__d0phb",M="collection-card-module__cardContents__Ch8nz",C="collection-card-module__chevron__G1lXq",S="collection-card-module__count__OQrZE",L="collection-card-module__coverPhoto__FYzTv",N="collection-card-module__details__moMqj",T="collection-card-module__name__EJrQB";var CollectionCard=e=>{var{children:o,collectionName:t,collectionUrl:n,count:a,coverPhotoUrl:i}=e,c=r.createElement("div",{className:M},r.createElement("figure",{className:L},Boolean(i)&&r.createElement(P.A,{src:i})),r.createElement("div",{className:N},r.createElement("h3",{className:T},t),r.createElement(E.A,{className:S,count:a,replace:a},"amazon-photos-group-items-count"),o),r.createElement("div",{className:C}));return r.createElement("div",{className:w},n?r.createElement(A.A,{name:"collection-card-link",href:n},c):c)};CollectionCard.propTypes={children:i().node,collectionName:i().string,collectionUrl:i().string,count:i().number,coverPhotoUrl:i().string};const I=CollectionCard;var SharedPhotoAlbumCollectionCard=e=>{var{collectionId:o,collectionName:t,count:n,coverPhotoUrl:a,groupsUrl:i}=e,c=o&&o.replace(/^(group-)/,""),s=c?new _.A("".concat(i,"/").concat(c)).toString():void 0;return r.createElement(I,{collectionName:t,collectionUrl:s,count:n,coverPhotoUrl:a})};SharedPhotoAlbumCollectionCard.propTypes={collectionId:i().string,collectionName:i().string,count:i().number,coverPhotoUrl:i().string,groupsUrl:i().string.isRequired};const O=b.A.connect(SharedPhotoAlbumCollectionCard,{store:k.A,mapToProps:e=>{var{urls:o}=e;return{groupsUrl:o.groups}}}),D="shared-photo-albums-section-module__sharedPhotoAlbumsSection__pFdfs";var SharedPhotoAlbumsSection=e=>{var{isLoading:o,sharedPhotoAlbumCollections:t=[]}=e;if(o||0===t.length)return null;var n=t.map((e=>{var{collectionId:o,collectionName:t,count:n,coverPhotoUrl:a}=e;return r.createElement(O,{collectionId:o,collectionName:t,count:n,coverPhotoUrl:a,key:o})}));return r.createElement("div",{className:D},r.createElement(v,{collectionCards:n,subtitle:(0,c.A)("amazon-photos-device-personalization-shared-photo-albums-heading-subtitle"),title:(0,c.A)("amazon-photos-device-personalization-shared-photo-albums-heading-title")}))};SharedPhotoAlbumsSection.propTypes={isLoading:i().bool,sharedPhotoAlbumCollections:i().arrayOf(i().shape({collectionId:i().string,collectionName:i().string,collectionType:i().string,count:i().number,coverPhotoUrl:i().string}))};const x=(0,n.Ng)((e=>{var{devicePersonalization:o}=e,{selectedCollectionsCallStatus:t}=o;return{isLoading:t!==y.A.CALL_STATUSES.SUCCESS,sharedPhotoAlbumCollections:(0,f.y)(e)}}))(SharedPhotoAlbumsSection)},19892:(e,o,t)=>{t.d(o,{N:()=>FamilyStoragePage});var r=t(21572),n=t(96540),a=t(49907),i=t(95871),c=t(40248),s=t(14127),l=t(71560),m=t(49666),d=t(63138),u=t(46713),p=t(74769),h=t(32485),g=t.n(h),v=t(18398),y=t(25363);const f="family-member-row-module__familyMemberRow__ThaNH",b="family-member-row-module__familyMemberProfile__AOz2u",k="family-member-row-module__familyMemberQuotaConsumption__CB1Ry",_="family-member-row-module__nonPhotosMember__vCQOR";var FamilyMemberRow=e=>{var{hasPhotosAccount:o,customerId:t,name:a,quotaConsumption:c}=e,s=(0,i.GV)(l.lc),m=null;return o?s&&(m=(0,v.$)(c)):m=(0,r.A)("amazon-photos-family-plan-member-status-pending"),n.createElement("div",{className:f},n.createElement("div",{className:b},n.createElement(y.Oy,{customerID:t,size:y.PR.large}),n.createElement("span",{className:g()({[_]:!o}),"data-testid":"family-member-name"},a)),n.createElement("div",{className:k,"data-testid":"family-member-quota-consumption"},n.createElement("span",null,m)))},FamilyMemberList=()=>{var e=(0,i.GV)(l.sh),o=(0,i.GV)(l.x7),t=(0,i.GV)(l.IS),a=(0,i.GV)(l.Wd);return n.createElement("div",{"data-testid":"family-member-list"},e.map((e=>{var i;return n.createElement(FamilyMemberRow,{key:"family-member-list-".concat(e),customerId:e,hasPhotosAccount:a[e],name:null!==(i=t[e].customerName)&&void 0!==i?i:(0,r.A)(p.J),quotaConsumption:o[e]})})))};const A="family-usage-card-module__familyUsageCard__OW1yo",P="family-usage-card-module__usageBar__AM1KA";var E=["var(--familyMemberColor1)","var(--familyMemberColor2)","var(--familyMemberColor3)","var(--familyMemberColor4)","var(--familyMemberColor5)","var(--familyMemberColor6)","var(--familyMemberColor7)","var(--familyMemberColor8)","var(--familyMemberColor9)","var(--familyMemberColor10)"],FamilyUsageCard=()=>{var e=(0,i.GV)(l.Wd),o=(0,i.GV)(l.x7),t=(0,i.GV)(l.pn),a=(0,i.GV)(l.oS),c=(0,i.GV)(l.C2),s=(0,i.GV)(l.p7),p=(0,i.GV)(l.BB),h=(0,i.GV)(l.sh),g=(0,i.GV)(l.cg),v=h.filter((o=>e[o])).map(((e,t)=>({key:"family-member-usage-".concat(e),size:o[e],color:E[t]}))),y=v.map((e=>e.size)).reduce(((e,o)=>e+Math.max(0,o)),0),f=Math.max(g,y);return t?n.createElement(d.W,{className:A,headingText:(0,r.A)("amazon-photos-family-storage-table-header")},n.createElement(u.y,{title:(0,r.A)("amazon-photos-storage-photo-category"),count:p,bytesUsed:s,bytesAvailable:"unlimited"}),n.createElement(u.y,{title:(0,r.A)("amazon-photos-storage-video-category"),count:c,bytesUsed:a,bytesAvailable:g,isFamilyStorage:!0},n.createElement("div",{className:P},n.createElement(m.x,{total:f,segments:v})),n.createElement(FamilyMemberList,null))):n.createElement(d.W,{className:A,headingText:(0,r.A)("amazon-photos-family-storage-table-header")},n.createElement(u.y,{title:(0,r.A)("amazon-photos-storage-unified-storage-category"),bytesUsed:a,bytesAvailable:g,isFamilyStorage:!0},n.createElement("div",{className:P},n.createElement(m.x,{total:f,segments:v})),n.createElement(FamilyMemberList,null)))};const w="non-sharing-family-summary-card-module__nonSharingFamilyMemberList__VXBJF";var NonSharingFamilySummaryCard=()=>n.createElement(d.W,{headingText:(0,r.A)("amazon-photos-family-storage-table-header")},n.createElement("div",{className:w},n.createElement(FamilyMemberList,null))),M=t(97463),C=t(54205);const S="go-to-family-button-module__goToFamilyButton__Wv3Nk",L="go-to-family-button-module__buttonContents__Pgdj2";var GoToFamilyButton=()=>{var e=M.A.getProperty("customerRetailUrl"),o="https://".concat(e,"/amazonfamily");return n.createElement(C.A,{className:S,href:o,name:"go-to-amazon-family",target:"_blank",type:"button"},n.createElement("span",{className:L},(0,r.A)("amazon-photos-family-storage-manage-button")))};const N="manage-family-card-module__subHeader__Wl4Ys",T="manage-family-card-module__cta__rWC9m";var ManageFamilyCard=()=>n.createElement(d.W,{headingText:(0,r.A)("amazon-photos-family-storage-manage-header")},n.createElement("div",{className:N},(0,r.A)("amazon-photos-family-storage-manage-subheader")),n.createElement("div",{className:T},n.createElement(GoToFamilyButton,null)));const I="start-sharing-storage-module__startSharingStorage__dSfrk",O="start-sharing-storage-module__heading__CKPc5",D="start-sharing-storage-module__body__dwAKa";var StartSharingStorage=()=>n.createElement("section",{className:I},n.createElement("h5",{className:O},(0,r.A)("amazon-photos-family-storage-start-sharing-heading")),n.createElement("div",{className:D},(0,r.A)("amazon-photos-family-storage-start-sharing-body")));const x="family-storage-content-module__familyStorageLayout__yet4s";var U=t(18742),z=t(83694),FamilyStorageOverquotaNotification=()=>{var e=(0,i.GV)(l.Hb);return(0,i.GV)(l.lc)&&e?n.createElement(z.A,{level:"warning",title:(0,r.A)("amazon-photos-family-storage-overquota-title"),messages:[(0,r.A)("amazon-photos-family-storage-overquota-message")],links:[n.createElement(C.A,{name:"data-retention-policy-link",key:"data-retention-policy-link",href:U.A.getProperty("urls.dataRetentionPolicy"),metricOverrides:{eventName:"ClickedOverQuotaRetentionPolicy"}},(0,r.A)("amazon-photos-storage-learn-more"))]}):null},FamilyStorageNotifications=()=>n.createElement(n.Fragment,null,n.createElement(FamilyStorageOverquotaNotification,null)),FamilyStorageContent=()=>{var e=(0,i.GV)(l.lc);return n.createElement("div",{className:x},n.createElement("div",null,n.createElement(FamilyStorageNotifications,null),e?n.createElement(FamilyUsageCard,null):n.createElement(n.Fragment,null,n.createElement(StartSharingStorage,null),n.createElement(NonSharingFamilySummaryCard,null))),n.createElement("div",null,n.createElement(ManageFamilyCard,null)))};const F="family-storage-page-module__header__TPGLi";var G=t(74169);const j="family-storage-empty-state-module__layout__ClcIu",q="family-storage-empty-state-module__title__RyLEr",V="family-storage-empty-state-module__description__ebeqi",R="family-storage-empty-state-module__cta__icX8u";var FamilyStorageEmptyState=()=>n.createElement("div",{className:j},n.createElement("img",{src:"".concat(G.D$,"/cooper/emptyStates/family_storage_empty_state.png"),alt:""}),n.createElement("header",{className:q},(0,r.A)("amazon-photos-family-storage-empty-state-title")),n.createElement("div",{className:V},(0,r.A)("amazon-photos-family-storage-empty-state-description")),n.createElement("div",{className:R},n.createElement(GoToFamilyButton,null))),FamilyStoragePage=()=>{var e=(0,i.jL)();(0,n.useEffect)((()=>{e((0,l.fJ)()),e((0,l.db)()),e((0,l.TN)())}),[]);var o=(0,i.GV)(l.so);return n.createElement(c.A,{page:"familyStorage"},n.createElement(s.A,{attribution:"family-storage"},n.createElement("header",{className:F},(0,r.A)("amazon-photos-family-storage-header")),o?n.createElement(FamilyStorageContent,null):n.createElement(FamilyStorageEmptyState,null),n.createElement(a.A,{status:"completed"})))}},4495:(e,o,t)=>{t.d(o,{A:()=>U});var r=t(62216),n=t.n(r),a=t(2404),i=t.n(a),c=t(44383),s=t.n(c),l=t(91648),m=t.n(l),d=t(96540),u=t(35994),p=t(18742),h=t(47389),g=t(71086),v=t(42852),y=t(6687),f=t(49879),b=t(38893),k=t(25205),_=t(53037),A=t(98731),P=t(40418),E=t(91401),w=t(91747),M=t(80442),C=t(40248),S=t(36482),L=t(96721),N=(0,y.A)(M.A),T=(0,y.A)(w.A),I=["type","time","things","people","familyMembers","location"],O=m()(I,"type"),D=g.A.getProperty("printingMode")?O:I,x=[...D,"timeMonth","timeYear","sort","lcf"],updateContent=e=>{u.A.emit("getFamilyNodes",{query:e,searchContext:"family"})};class FamilyVault extends d.Component{UNSAFE_componentWillReceiveProps(e){var{query:o}=this.props,{query:t}=e;o=s()(o,x),t=s()(t,x),i()(o,t)||updateContent(t)}render(){var e,{query:o,nodeId:t,collection:r,memberIdToMember:a,hasPrime:i}=this.props,{pageIndex:c,sort:s,familyMembers:l}=o,m=new h.A(p.A.getProperty("urls.familyArchive"),o),u=new h.A(m.base+p.A.getProperty("urls.gallery"),m.query);return t&&(e=d.createElement(T,{ilbConfig:{name:"familyGallery",isActive:!0,changeHash:t},collection:r,nodeId:t,pageIndex:c,useOwnerId:!0,contributorData:a,pageUrlModel:m})),d.createElement(C.A,{page:"family",collection:r,enableSelectionDrag:!0,selectionButtons:["recents","share","download","addToAlbum","buyPrints","removeFromArchive","editDateAndTime","editLocation","trash"],edgeless:!0,sideNavContent:d.createElement(_.Ay,{collection:r,aggregationFilters:D,contributorData:a,pageUrlModel:m})},i&&d.createElement(P.A,null),d.createElement(N,{ilbConfig:{name:"familyGrid",isActive:n()(e),changeHash:g.A.getProperty("route.metrics.query")},query:o,activeNodeId:t,collection:r,currentSort:s,pageUrlModel:m,emptyState:d.createElement(A.A,{selectedMember:l}),placeSection:"sortDateUploaded"===s?f.SU:f.Xo},(e=>{var o,{model:t,width:r,height:n,onSelectShiftClick:i,index:c}=e,s=t?t.id:c;return t&&(o=u.clone().addPath(t.ownerNodeId).toString()),d.createElement(S.A,{key:s,onShiftClick:i,href:o,width:r,height:n,model:t},d.createElement(E.A,{model:t,contributorData:a}))})),e)}}const U=u.A.connect((0,v.A)(FamilyVault),[{store:b.A,setup:e=>{var{query:o}=e;updateContent(o)},teardown:()=>b.A.suspend()},{store:k.A,mapToProps:["familyId","hasNoFamily","memberIdToMember"]},{store:L.A,mapToProps:["hasPrime"]}])},60094:(e,o,t)=>{t.d(o,{A:()=>h});var r=t(96540),n=t(71468),a=t(54351),i=t(94788),c=t(42026),s=t(24764);const l="folder-view-empty-state-module__folderEmptyState__M2Izg",m="folder-view-empty-state-module__contentContainer__woD3C",d="folder-view-empty-state-module__emptyStateImage__GxvDR",u="folder-view-empty-state-module__emptyFolderMessage__tHRqr",p="folder-view-empty-state-module__addPhotos__MqHar";const h=(0,n.Ng)((e=>{var{folders:o}=e;return{rootFolderId:o.rootFolderId}}))((e=>{var{currentFolderId:o,rootFolderId:t}=e,n=t===(o||t),h=n?"amazon-photos-folder-empty-state-no-folder-text":"amazon-photos-folder-empty-state-no-content-text";return r.createElement(c.A,{name:"FolderEmptyState"},r.createElement("div",{className:l},r.createElement("div",{className:m},r.createElement(a.A,{className:d,alt:""},"empty-state-folder"),r.createElement(i.A,{className:u},h))),!n&&r.createElement(s.A,{className:p,name:"add-photos",useContext:!0},r.createElement(i.A,null,"amazon-photos-folder-empty-state-add-photos")))}))},67105:(e,o,t)=>{t.d(o,{A:()=>G});var r=t(96540),n=t(5556),a=t.n(n),i=t(71468),c=t(35994),s=t(21572),l=t(38530),m=t(18742),d=t(43840),u=t(14127),p=t(57427),h=t(60094),g=t(79419),v=t(23934),y=t(7160),f=t(88632);const b="folder-list-module__nameText__scTdP",k="folder-list-module__nodePreviewContainer__VPA84",_="folder-list-module__folderListContainer__LgoVb";var FolderList=e=>{var{selectedModelsToMove:o,models:t,currentFolderId:n,isFolderEmpty:a,hydrateCurrentFolderNextPage:i,infiniteScrollRowCount:c,loadingNextPage:s,setCurrentFolder:l}=e,isClickable=e=>!o.some((o=>o.id===e));return r.createElement("div",{id:"folder-list",className:_},a?r.createElement(h.A,null):r.createElement(y.A,{fetchContent:()=>{s||i(n)},infiniteScrollRowCount:c,models:t,isHeadless:!0,itemPropsFactory:e=>({isSelectable:!1,showSecondaryInfo:!1,nodePreview:r.createElement("div",{className:k},r.createElement(f.A,{model:e})),name:r.createElement("div",{className:b},e.name),canClickRow:isClickable(e.id),onClick:()=>{if(!isClickable(e.id))return null;l(e.id)}}),useWindowScroller:!1}))};FolderList.propTypes={currentFolderId:a().string.isRequired,isFolderEmpty:a().bool.isRequired,selectedModelsToMove:a().arrayOf(a().instanceOf(p.A)).isRequired};const A=(0,i.Ng)((e=>({infiniteScrollRowCount:(0,v.z6)(e),loadingNextPage:(0,v.vp)(e),models:(0,v.$L)(e),isFolderEmpty:(0,v.jE)(e)})),(e=>({hydrateCurrentFolderNextPage:o=>e((0,g.yb)(o)),setCurrentFolder:o=>e((0,g.TC)(o))})))(FolderList);var P=t(61950);const E="folder-picker-breadcrumbs-module__breadcrumbs__jTTWL",w="folder-picker-breadcrumbs-module__modalCrumb__N0JVu";var FolderPickerBreadcrumbs=e=>{var{parentTree:o=[],rootFolderId:t,setCurrentFolder:n}=e,a=((e,o)=>Math.max(e.length-o,0))(o,2),i=((e,o)=>e.slice(o))(o,a);if(!o.length)return null;var c=(0,s.A)("amazon-photos-folder-view-root-folder-name"),l=i.map((e=>{var o=e.id===t?c:e.name;return r.createElement("li",{key:e.id,className:w,onClick:()=>{return o=e.id,void n(o);var o}},o)}));return r.createElement("ul",{className:E},l)};FolderPickerBreadcrumbs.propTypes={parentTree:a().arrayOf(a().object),rootFolderId:a().string};const M=(0,i.Ng)(null,(e=>({setCurrentFolder:o=>e((0,g.TC)(o))})))(FolderPickerBreadcrumbs),C="folder-picker-dialog-contents-module__modalDialogContents__EvPor";var FolderPickerDialogContents=e=>{var{selectedModelsToMove:o,hydrateCurrentFolderContents:t,rootFolderId:n,currentFolderId:a,loading:i,parentTree:c}=e,s=a||n;(0,r.useEffect)((()=>{s&&t(s)}),[s]);var l=r.createElement("div",{"aria-live":"polite",id:"empty-folder-picker-dialog-contents"});return i||(l=r.createElement(r.Fragment,null,r.createElement(M,{parentTree:c,rootFolderId:n}),r.createElement(A,{selectedModelsToMove:o,currentFolderId:s}))),r.createElement("section",{id:"folder-view-dialog-contents",className:C},l)};FolderPickerDialogContents.propTypes={rootFolderId:a().string.isRequired,hydrateCurrentFolderContents:a().func.isRequired,loading:a().bool.isRequired,parentTree:a().arrayOf(a().object).isRequired,selectedModelsToMove:a().arrayOf(a().instanceOf(p.A)).isRequired};const S=(0,i.Ng)((e=>({rootFolderId:(0,P.eI)(e),currentFolderId:(0,v.dB)(e),folderContents:(0,v.qO)(e),parentTree:(0,v.rn)(e),loading:(0,v.Nz)(e)})),(e=>({hydrateCurrentFolderContents:o=>e((0,g.ep)(o))})))(FolderPickerDialogContents);var L=t(21013),N=t.n(L),T=t(73725),I=t(78439),O=t(13489),D=t(18821);function getConflictSelection(e){return new Promise((o=>{c.A.emit("openDialog",r.createElement(D.A,{conflictNodeName:e,onSkip:()=>o(),onAbort:()=>o("abort")}))}))}function asyncGeneratorStep(e,o,t,r,n,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?o(s):Promise.resolve(s).then(r,n)}function _asyncToGenerator(e){return function(){var o=this,t=arguments;return new Promise((function(r,n){var a=e.apply(o,t);function _next(e){asyncGeneratorStep(a,r,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,r,n,_next,_throw,"throw",e)}_next(void 0)}))}}var x="NAME_ALREADY_EXISTS",U=function(){var e=_asyncToGenerator((function*(e,o,t){var r=e.map((e=>((e,o,t)=>new Promise(((r,n)=>{I.A.moveChild({childId:e.id,toParent:o,fromParent:t}).done((o=>{O.A.log({name:"MoveNodesSuccess"}),r({model:e,value:o})})).fail((o=>{var{responseJSON:t}=o||{},{code:r}=t||{};if(r===x){var a=new Error("Name Conflict");a.model=e,a.reason=r,n(a)}else{O.A.log({name:"MoveNodesFailure"});var i=new Error("Unexpected Error");i.model=e,i.reason=o,n(i)}}))})))(e,o,t).then((e=>({status:"success",model:e.model,response:e.value}))).catch((e=>({status:"error",error:e,model:e.model,reason:e.reason})))));return Promise.all(r)}));return function batchMoveNodes(o,t,r){return e.apply(this,arguments)}}();var z=t(26939),F="MoveNodesToast",FolderPickerDialog=e=>{var{models:o,currentFolderId:t,removeMovedNodes:n,closeFolderPicker:a}=e;if(0===o.length)throw new Error("Nodes must be selected in order to use folder picker dialog");var i=o[0].serviceProperties.parentFolderId,displayCompletionToastAndUpdateView=e=>{var{movedNodes:o,toastOptions:t}=e;c.A.emit("closeToast",{id:F}),c.A.emit("showToast",t),c.A.emit("deselectAll"),n(o),c.A.emit("uncache")},onProgress=e=>{var{progress:t=0}=e;c.A.emit("showToast",{id:F,name:"MoveNodesProgressToast",message:(0,s.A)("amazon-photos-folder-view-move-nodes-initiation-toast",[o.length],o.length),icon:"spinner",progressPercent:t,stay:!0})},{moveNodes:p}=function moveNodesUtil(e){var{nodes:o,toParent:t,fromParent:r,onSuccess:n,onFailure:a,onProgress:i}=e,c=[],s=function(){var e=_asyncToGenerator((function*(){if(0!==o.length){for(var e=N()(o,5),s=!1,l=0;l<e.length;l++){var m=e[l];if(s)break;for(var d=yield U(m,t,r),u=void 0,p=0;p<d.length;p++)if("success"===(u=d[p]).status){c.push(u.model);var h=Math.floor(c.length/o.length*100);i&&i({progress:h,movedNodes:c})}else if("error"===u.status){if(s)continue;u.reason===x?"abort"===(yield getConflictSelection(u.model.name))&&(s=!0):(T.A.error("CDS MoveChild failed with error: ".concat(u.error)),s=!0)}}c.length>0&&n?n({movedNodes:c,toParent:t}):0===c.length&&a&&a({movedNodes:c})}else a({movedNodes:c})}));return function moveNodes(){return e.apply(this,arguments)}}();return{moveNodes:s}}({nodes:o,fromParent:i,toParent:t,onSuccess:e=>{var{movedNodes:o=[],toParent:t}=e,n={name:"MoveNodesCompletionToast",className:"success",message:(0,s.A)("amazon-photos-folder-view-move-nodes-completion-toast",[o.length],o.length),icon:"done-inline",stay:!1,action:r.createElement(d.A,{name:"view",href:"".concat(m.A.getProperty("urls").folderView,"/").concat(t)},(0,s.A)("amazon-photos-view-item"))};displayCompletionToastAndUpdateView({movedNodes:o,toastOptions:n})},onFailure:e=>{var{movedNodes:t=[]}=e,r=0;o.length>0&&(r=o.length);var n={name:"MoveNodesFailureToast",className:"fail",message:r>0?(0,s.A)("amazon-photos-folder-view-move-nodes-failed-toast",[r],r):(0,s.A)("amazon-photos-folder-view-move-nodes-failed-empty-models"),stay:!1};displayCompletionToastAndUpdateView({movedNodes:t,toastOptions:n})},onProgress});return r.createElement(l.A,{buttons:[{disabled:!(i!==t),label:(0,s.A)("amazon-photos-folder-view-move-nodes-dialog-button"),name:"move-nodes",onClick:()=>{onProgress({progress:0}),p()},type:"submit"}],onClose:a,heading:(0,s.A)("amazon-photos-folder-view-move-nodes-dialog-title"),name:"MoveNodesButtonDialog"},r.createElement(u.A,{attribution:"folder-view-move-nodes"},r.createElement(S,{selectedModelsToMove:o})))};FolderPickerDialog.propTypes={models:a().arrayOf(a().instanceOf(p.A)).isRequired,currentFolderId:a().string.isRequired};const G=(0,i.Ng)((e=>({currentFolderId:(0,v.dB)(e)})),(e=>({closeFolderPicker:()=>e((0,g.fA)()),removeMovedNodes:o=>e((0,z.ZH)(o))})))(FolderPickerDialog)},2484:(e,o,t)=>{t.d(o,{R:()=>FolderViewPage});var r=t(96540),n=t(49907),a=t(95871),i=t(40248),c=t(14127),s=t(32608),l=t(94788),m=t(35994),d=t(56347),u=t(71468),p=t(61950),h=t(38530),g=t(21572);const v="create-folder-button-dialog-module__error__tHnIG",y="create-folder-button-dialog-module__createFolderDialogInput__JSiN1";var f=t(78439),b=t(13489),k=t(47389),_=t(18742),A=t(60453),P=t(91474);function useCreateFolder(e){var[o,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(!1);return{folderName:o,hasValidationError:n,onCreateFolder:()=>{n||f.A.createFolder({name:o,parents:e}).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b.A.log({name:"CreateFolderSuccess"});var{id:o}=e;o&&(new k.A("".concat(_.A.getProperty("urls").folderView,"/").concat(e.id),(0,A.A)(window.location.search)).go(),m.A.emit("uncache"),m.A.emit("showToast",{closeable:!0,message:(0,g.A)("amazon-photos-folder-view-create-folder-success-message"),name:"createFolderSuccessToast"}))})).fail((e=>{var o,t,{responseJSON:r}=e||{},{code:n}=r||{};b.A.log({name:"CreateFolderFailure"}),m.A.emit("showToast",(o="amazon-photos-folder-view-create-folder-generic-error",t="createFolderGenericErrorToast","NAME_ALREADY_EXISTS"===n&&(o="amazon-photos-folder-view-create-folder-existing-name",t="createFolderExistingNameToast"),{closeable:!0,message:(0,g.A)(o),name:t}))}))},onChange:e=>{t(e.target.value),a(!(0,P.A)(e.target.value))}}}const create_folder_button_dialog=e=>{var{parentFolderId:o}=e,t=(0,r.useRef)(null),{folderName:n,hasValidationError:a,onCreateFolder:i,onChange:c}=useCreateFolder(o);(0,r.useEffect)((()=>{t.current.focus(),t.current.select()}),[]);return r.createElement("form",{onSubmit:e=>{e.preventDefault(),i()}},r.createElement(h.A,{buttons:[{disabled:!n||a,label:(0,g.A)("amazon-photos-folder-view-create-folder-dialog-create-button-text"),name:"create-folder",noClose:a,onClick:i,type:"submit"}],heading:r.createElement(l.A,null,"amazon-photos-folder-view-create-folder-dialog-heading"),name:"CreateFolderButtonDialog"},r.createElement("input",{className:y,onChange:c,placeholder:(0,g.A)("amazon-photos-folder-view-create-folder-placeholder-hint"),ref:t,type:"text",value:n}),n&&a&&r.createElement("div",{className:v},(0,g.A)("amazon-photos-folder-view-create-folder-invalid-input"))))},E="create-folder-button-module__createFolder__ICpYs";const w=(0,u.Ng)((e=>({rootFolderId:(0,p.eI)(e)})))((e=>{var{rootFolderId:o}=e,{folderId:t=o}=(0,d.g)();return r.createElement("button",{className:E,onClick:()=>{m.A.emit("openDialog",r.createElement(create_folder_button_dialog,{parentFolderId:t}))},type:"button"},r.createElement(l.A,null,"amazon-photos-folder-view-create-folder-button-text"))}));var M=t(17059);const C="folder-view-page-heading-module__heading__v5RE5",S="folder-view-page-heading-module__headingText__SL_an",L="folder-view-page-heading-module__createFolderButton__kvXrh";const folder_view_page_heading=()=>r.createElement("section",null,r.createElement("div",{className:C},r.createElement("h1",{className:S},r.createElement(l.A,null,"amazon-photos-folder-view-page-heading-title")),r.createElement("div",{className:L},r.createElement(w,null))),r.createElement(M.Ay,null));var N=t(5556),T=t.n(N),I=t(53540),O=t(32098),D=t(61738),x=t(43840),FolderBreadcrumbLink=e=>{var{name:o,id:t,pageUrlModel:n,rootFolderId:a}=e,i="clicked.breadcrumb-link",c=o;return t===a&&(c=(0,g.A)("amazon-photos-folder-view-root-folder-name"),i="clicked.all-link"),r.createElement(x.A,{metricOverrides:{eventName:i,eventTag:"Breadcrumbs",eventCount:1},name:c,href:"".concat(n.base,"/").concat(t).concat(n.toQueryString())},c)};FolderBreadcrumbLink.propTypes={name:T().string,id:T().string.isRequired,pageUrlModel:T().instanceOf(k.A).isRequired,rootFolderId:T().string.isRequired};const U=FolderBreadcrumbLink,z="folder-breadcrumbs-module__overflow__rdVhS",F="folder-breadcrumbs-module__folderBreadcrumbs__sEGaO",G="folder-breadcrumbs-module__crumb__JdHK3",j="folder-breadcrumbs-module__count___cYKM";var q=5,V=4,R=2,FolderBreadcrumbsView=e=>{var{count:o=0,isLoading:t=!1,pageUrlModel:n,parentTree:a=[],rootFolderId:i,size:c}=e,s=(e=>{var o=q;return e.tablet&&(o=V),e.mobile&&(o=R),o})(c),l=((e,o)=>Math.max(e.length-o,0))(a,s),m=((e,o)=>e.slice(o))(a,l),d=((e,o)=>o<1?[]:e.slice(0,o))(a,l);return a.length?r.createElement("ul",{className:F},d.length>0&&r.createElement(O.A,{alignment:"bottom",position:"left",name:"Folder View breadcrumbs overflow",text:r.createElement("span",{className:z})},r.createElement("ul",null,d.map((e=>{var{name:o,id:t}=e;return r.createElement("li",{key:t},r.createElement(U,{name:o,id:t,pageUrlModel:n,rootFolderId:i}))})))),m.map((e=>{var{name:o,id:t}=e;return r.createElement("li",{key:t,className:G},r.createElement(U,{name:o,id:t,pageUrlModel:n,rootFolderId:i}))})),r.createElement("li",{className:j,key:"count"},!t&&o)):null};FolderBreadcrumbsView.propTypes={count:T().number,isLoading:T().bool,pageUrlModel:T().instanceOf(k.A).isRequired,parentTree:T().arrayOf(T().object),rootFolderId:T().string.isRequired};var B=(0,u.Ng)((e=>{var{folders:o}=e;return{count:o.currentFolderTotalCount,parentTree:o.parentTree,rootFolderId:o.rootFolderId}}))(FolderBreadcrumbsView);const H=m.A.connect(B,[{store:D.A,mapToProps:["size"]}]);var W=t(60094),Q=t(14324),K=t(88632),Z=t(59786),Y=t(7160),J=t(26939);const build_gallery_link_for_node=(e,o)=>{var t=function getNodeId(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.id)return e.id}(e);return t?"".concat(o.base,"/gallery/").concat(t).concat(o.toQueryString()):"".concat(o.base).concat(o.toQueryString())};var X=m.A.connect((e=>{var{currentFolderId:o,maxSelectAllCount:t,pageUrlModel:n,selection:i,isLoading:c=!1}=e,s=(0,a.jL)(),m=(0,a.GV)(p.z6),d=(0,a.GV)(p.vp),u=(0,a.GV)(p.$L),h=(0,a.GV)(p.by),g=(0,a.GV)(p.Ec),v=(0,a.GV)(p.LI),y=c?[]:u,f=n.clone();if(o){var b=_.A.getProperty("urls").folderView,k="".concat(b,"/").concat(o);f._urlData.pathname=k}return r.createElement(Y.A,{fetchContent:()=>{d||s((0,J.yb)(o))},headingName:r.createElement(l.A,null,"amazon-photos-folder-view-name-column-heading"),headingDate:r.createElement(l.A,null,"amazon-photos-folder-view-date-added-column-heading"),headingSize:r.createElement(l.A,null,"amazon-photos-folder-view-file-size-column-heading"),hydrateAllPages:()=>s((0,J.KN)(o,t)),infiniteScrollRowCount:m,totalCount:c?0:h,models:y,itemPropsFactory:e=>{var{contentType:t,id:a,isMedia:c,name:s}=e,l={href:build_gallery_link_for_node(e,new Z.A("".concat(_.A.getProperty("urls").folderView,"/").concat(o),(0,A.A)(window.location.search))),name:"Folder View node ".concat(a," navigation"),replace:!1,stopPropagation:!0,metricOverrides:{eventName:"clicked.file-link",eventTag:c?t:"NonMedia"}};return e.isFolder()?(l.href="".concat(n.base,"/").concat(a).concat(n.toQueryString()),l.metricOverrides={eventName:"clicked.folder-link",eventTag:""}):c||(l.href="".concat(n.base,"/").concat(o).concat(n.toQueryString()),l.replace=!0),{isSelectable:!0,showSecondaryInfo:!0,nodePreview:r.createElement(x.A,l,r.createElement(K.A,{model:e})),name:r.createElement(x.A,l,s),canClickRow:!0,isNodeSelected:i.isSelected(a)}},isLoading:c,useWindowScroller:!0,pageUrlModel:f,currentSortToken:g,currentSortOrder:v})}),[{store:Q.A,mapToProps:["selection","maxSelectAllCount"]}]);const $=X;var FileList=e=>{var{currentFolderId:o,isFolderEmpty:t,isLoading:n}=e,a=new k.A(_.A.getProperty("urls").folderView,(0,A.A)(window.location.search));return r.createElement("div",{id:"file-list"},r.createElement(H,{isLoading:n,pageUrlModel:a}),n||!t?r.createElement($,{currentFolderId:o,pageUrlModel:a,isLoading:n}):r.createElement(W.A,{currentFolderId:o}))};FileList.propTypes={currentFolderId:T().string.isRequired,isFolderEmpty:T().bool,isLoading:T().bool},FileList.defaultProps={isLoading:!1};const ee=FileList;var oe=t(51549),te=t(66607),re="removeModels",FolderViewPageContentsView=e=>{var{clearUploaderContext:o,folderPath:t,handleContentDeletion:n,hydrateCurrentFolderContents:a,hydrateRootFolderId:i,isFolderEmpty:c,loading:s,rootFolderId:l,setUploaderContext:u,updateSortParameters:p}=e,{folderId:h}=(0,d.g)(),v=h||l;return(0,r.useEffect)((()=>(i(),m.A.listen(re,n),()=>{m.A.unListen(re,n),o()})),[]),(0,r.useEffect)((()=>{var e=(0,A.A)(window.location.search),{sortToken:o,sortOrder:t}=(e=>{var{sortToken:o,sortOrder:t}=e;return{sortToken:[I._6.SortKind,I._6.SortAlphaName,I._6.SortDateCreated,I._6.SortSize].includes(o)?o:I._6.SortKind,sortOrder:Object.values(I.xB).includes(t)?t:I.xB.Descending}})(e);p(o,t),v&&a(v)}),[v,window.location.search]),(0,r.useEffect)((()=>{v&&u({folderId:v,folderPath:t,contextDisambiguator:()=>(0,te.A)({contextName:"folder",uploadToContextButtonString:(0,g.A)("amazon-photos-uploader-context-confirm-folder")})})}),[t]),r.createElement("section",{id:"folder-view-contents"},r.createElement(ee,{currentFolderId:v,isFolderEmpty:c,isLoading:s}))};FolderViewPageContentsView.propTypes={rootFolderId:T().string.isRequired,hydrateCurrentFolderContents:T().func.isRequired,hydrateRootFolderId:T().func.isRequired,loading:T().bool.isRequired,isFolderEmpty:T().bool.isRequired,updateSortParameters:T().func.isRequired};const ne=(0,u.Ng)((e=>({loading:(0,p.ND)(e),rootFolderId:(0,p.eI)(e),folderContents:(0,p.qO)(e),isFolderEmpty:(0,p.jE)(e),folderPath:(0,p.CH)(e)})),(e=>({hydrateRootFolderId:()=>e((0,J.Gp)()),hydrateCurrentFolderContents:o=>e((0,J.ep)(o)),handleContentDeletion:o=>e((0,J.ZH)(o)),setUploaderContext:o=>e((0,oe.o)(o)),clearUploaderContext:()=>e((0,oe.HP)()),updateSortParameters:(o,t)=>e((0,J.Zb)(o,t))})))(FolderViewPageContentsView);var ae=t(6687),ie=t(66569),ce=t(49479),se=t(94330),le=t(71086),getNodeIndexById=(e,o)=>o.findIndex((o=>o.id===e)),getNodeByIndex=(e,o)=>e<0||e>o.length-1?null:o[e],me=(0,ae.A)(se.A),FolderViewGalleryView=e=>{var{currentFolderGalleryContents:o,currentFolderAllContents:t,hydrateCurrentFolderNextPage:n,preloadBuffer:a}=e,{folderId:i,nodeId:c}=(0,d.g)();if(!c||!Array.isArray(o))return null;var s=new k.A("".concat(_.A.getProperty("urls").folderView,"/").concat(i),(0,A.A)(window.location.search)),l=getNodeIndexById(c,o),u=getNodeByIndex(l,o),p=getNodeByIndex(l-1,o),h=getNodeByIndex(l+1,o),g=le.A.getPageContext();return r.createElement(me,{ilbConfig:{name:"folderViewGallery",isActive:!0,changeHash:c},faceEditingVisible:!1,reportAbuseVisible:!1,hideActions:u&&!u.isMedia,hideReactions:!0,shareMode:!1,showFavorite:!1,showHide:!1,isSharedPage:!1,pageUrlModel:s,currentNode:u,prevNode:p,nextNode:h,nodesToLoad:[p,u,h],viewName:g,backUrl:s.toString(),handleNavigate:function handleNavigate(e){var{nextNode:o,prevNode:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="next"===e?o||h:r||p;((e,o)=>{(0,ie.A)(build_gallery_link_for_node(e,o),{replace:!0}),m.A.emit("stopVideo")})(c,s),((e,o,t)=>{var r=function getNodeId(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.id)return e.id}(e);return getNodeIndexById(r,o)+t>=o.length})(c,t,a)&&n(i)},buildNavigationLink:(e,o)=>build_gallery_link_for_node(o,e)})};FolderViewGalleryView.propTypes={currentFolderGalleryContents:T().arrayOf(T().instanceOf(ce.A)).isRequired,currentFolderAllContents:T().arrayOf(T().object).isRequired,hydrateCurrentFolderNextPage:T().func.isRequired,preloadBuffer:T().number},FolderViewGalleryView.defaultProps={preloadBuffer:20};const de=(0,u.Ng)((e=>({currentFolderGalleryContents:(0,p.b7)(e),currentFolderAllContents:(0,p.qO)(e)})),(e=>({hydrateCurrentFolderNextPage:o=>e((0,J.yb)(o))})))(FolderViewGalleryView);var FolderViewPage=()=>{var e=(0,a.jL)(),o=(0,a.GV)(s.he);(0,r.useEffect)((()=>{o||e((0,s.n8)())}),[]);return r.createElement(i.A,{page:"folder-view",showPrimaryNav:!0,edgeless:!1,enableSelectionDrag:!1,selectionButtons:["download","moveNodes","rename","trash"],downloadCountLimit:1e3},r.createElement(c.A,{attribution:"folder-view"},r.createElement(folder_view_page_heading,null),r.createElement(ne,null),r.createElement(de,null),r.createElement(n.A,{status:"completed"})))}},64974:(e,o,t)=>{t.d(o,{A:()=>rename_dialog});var r=t(96540),n=t(38530),a=t(94788),i=t(21572);const c="rename-dialog-module__error__O6gM4",s="rename-dialog-module__dialogInput__ikfZV";var l=t(35994),m=t(78439),d=t(71468),u=t(91474),p=t(26939);function useRenameNode(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=(0,d.wA)(),[n,a]=(0,r.useState)(o),[c,s]=(0,r.useState)(!1);return{newName:n,hasValidationError:c,onRenameNode:()=>{c||(t((0,p.Y7)(e.id,{name:n})),Promise.resolve(m.A.updateNode({id:e.id,data:{name:n},doNotAlertOnFatal:!0})).then((()=>{l.A.emit("showToast",{closeable:!0,message:(0,i.A)("amazon-photos-rename-success"),name:"renameSuccessToast",icon:"checkmark-circle"})})).catch((r=>{var n,a,c,s=null==r||null===(n=r.responseJSON)||void 0===n?void 0:n.code;t((0,p.Y7)(e.id,{name:o})),l.A.emit("showToast",(a="amazon-photos-rename-fail",c="renameNodeGenericErrorToast","NAME_ALREADY_EXISTS"===s&&(a="amazon-photos-folder-view-rename-existing-name",c="renameNodeExistingNameToast"),{closeable:!0,message:(0,i.A)(a),name:c,icon:"error"}))})).finally((()=>{l.A.emit("uncache"),l.A.emit("deselectAll")})))},onChange:e=>{a(e.target.value),s(!(0,u.A)(e.target.value))}}}const rename_dialog=e=>{var{model:o,currentName:t}=e,l=(0,r.useRef)(null),{newName:m,hasValidationError:d,onRenameNode:u,onChange:p}=useRenameNode(o,t);(0,r.useEffect)((()=>{if(l.current){var e;l.current.focus();var r=null==o?void 0:o.isFolder(),n=null!==(e=null==t?void 0:t.lastIndexOf("."))&&void 0!==e?e:-1;if(r||-1===n)return void l.current.select();l.current.setSelectionRange(0,n)}}),[t]);return r.createElement("form",{onSubmit:e=>{e.preventDefault(),u()}},r.createElement(n.A,{buttons:[{disabled:!m||d,label:(0,i.A)("amazon-photos-rename-save-button"),name:"rename",noClose:d,onClick:u,type:"submit"}],heading:r.createElement(a.A,null,"amazon-photos-rename-heading"),name:"RenameDialog"},r.createElement("input",{className:s,onChange:e=>p(e),placeholder:"",ref:l,spellCheck:!1,type:"text",value:m}),m&&d&&r.createElement("div",{className:c},(0,i.A)("amazon-photos-folder-view-create-folder-invalid-input"))))}},71070:(e,o,t)=>{t.d(o,{A:()=>M});var r=t(96540),n=t(35994),a=t(71086),i=t(1683),c=t(18742),s=t(68),l=t(43840),m=t(94788),d=t(21572),u=t(47389),p=t(84503),h=t(61738),g=t(58556),v=t(48988),y=t(82354),f=t(80442),b=t(31505),k=t(36482),_=t(40248),A=t(77390),P=t(13319);function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var E=["mosaic"],w=["grid-lg"],onLinkCopy=()=>{n.A.emit("showToast",{name:"CopyLinkSuccessToast",message:(0,d.A)("amazon-photos-successful-copy-to-clipboard"),className:"success"})};const M=n.A.connect((0,v.A)((e=>{var{groupId:o,group:t={},collection:n,shareUrl:a,backUrl:i,size:c={},query:d={}}=e,{contentType:h="photos"}=d,v=new u.A(i).addPath(o),A=c.mobile?["a",null,"b"]:["a",null,"a"],{contentAggregations:M={}}=t,{photoCount:C,albumCount:S,videoCount:L}=M,N=C+L,T="albums"===h,I=r.createElement(s.A,{sizeGroups:A},r.createElement(l.A,{href:i,name:"back"},r.createElement(m.A,null,"amazon-photos-go-back-link")),r.createElement("h1",null,t.name),r.createElement("div",{className:"actions"},r.createElement(y.A,{collection:n,className:"download",removeOnDisabled:!1,disabled:T},r.createElement(m.A,null,"amazon-photos-download")),r.createElement(p.A,{className:"add",name:"add-photos",onClick:()=>(e=>{var{group:o}=e;(0,P.Ay)({group:o,type:"share",eventTag:"add-to-shared-link"})})({group:t})},r.createElement(m.A,null,"amazon-photos-group-add-photos"))));return r.createElement(_.A,{page:"group-share-detail",showPrimaryNav:!1,header:I,selectionButtons:["removeFromGroupShare","trash"],parentModel:t,edgeless:!0},r.createElement("div",{className:"options"},a&&r.createElement(g.A,{onCopy:onLinkCopy,inputContent:a}),r.createElement(b.A,{activeType:h,pageUrlModel:v,photoCount:N,albumCount:S,showAlbums:!0})),r.createElement(f.A,{collection:n,key:h,displayOptions:T?w:E,hideScrubber:!0,emptyState:r.createElement("span",null)},(e=>{var{model:o,width:t,height:n,index:a,onSelectShiftClick:i}=e;return r.createElement(k.A,{key:o?o.id:a,onShiftClick:i,width:t,height:n,model:o,selectFromAnywhere:!0})})))})),[{store:A.A,mapToProps:e=>{var{addUploadedFileToGroup:o,addUploadConflictToGroup:t}=A.A;return _objectSpread(_objectSpread({},e),{},{model:e.group,addUploadedFileToGroup:o,addUploadConflictToGroup:t})},setup:e=>{n.A.emit("getGroupContent",_objectSpread(_objectSpread({},e),{},{getShareUrl:!0})),i.A.log("ViewShareLink",void 0,a.A.getPageContext())},onUpdate:e=>n.A.emit("getGroupContent",e),teardown:()=>A.A.suspend()},{store:h.A,mapToProps:["size"]},{store:c.A,mapToProps:e=>{var{urls:o}=e;return{backUrl:o.shareList}}}])},4917:(e,o,t)=>{t.d(o,{A:()=>so});var r=t(96540),n=t(5556),a=t.n(n),i=t(35994),c=t(1683),s=t(13489),l=t(54260),m=t(71468),d=t(90801),u=t(42852),p=t(47389),h=t(97463),g=t(18742),v=t(21572),y=t(49907),f=t(42843),b=t(55858),k=t(40248),_=t(63059),A=t(51549),P=t(49551),E=t(94141),w=t(74081),M=t(14127),C=t(75758),S=t(6687),L=t(91747),N=(0,S.A)(L.A),reportAbuse=(e,o)=>{var{id:t,shareToken:r,ownerId:n}=o;i.A.emit("openDialog",{component:b.A,props:{shareType:C.V8,nodeId:t,shareId:r,ownerId:n}})},SharedPhotoAlbumLandingGallery=e=>{var{collection:o,pageUrlModel:t,nodeId:n}=e;return n?r.createElement(N,{ilbConfig:{name:"sharedPhotoAlbumLandingGallery",isActive:!0,changeHash:n},shareMode:!0,reportAbuseVisible:!0,onReportAbuseClick:reportAbuse,collection:o,nodeId:n,pageUrlModel:t}):null};SharedPhotoAlbumLandingGallery.propTypes={collection:a().instanceOf(d.A).isRequired,pageUrlModel:a().instanceOf(p.A).isRequired,nodeId:a().string};const T=SharedPhotoAlbumLandingGallery;var I=t(32485),O=t.n(I),D=t(74169),x=t(80442),U=t(36482);const z="shared-photo-album-landing-media-grid-module__sharedPhotoAlbumLandingMediaGridContent__iy330";var F=(0,S.A)(x.A),SharedPhotoAlbumLandingMediaGrid=e=>{var{collection:o,pageUrlModel:t,isActive:n=!0}=e;if(!n||!o)return null;var{count:a=0}=o,i=O()({[z]:a>0}),c=t.clone().addPath(D.DS.gallery);return r.createElement("div",{className:i},r.createElement(F,{ilbConfig:{name:"sharedPhotoAlbumLandingMediaGrid",isActive:n},centerSinglePhoto:!0,collection:o,showShareButton:!1,displayOptions:["grid-sm"],emptyState:r.createElement("span",null)},(e=>{var o,{model:t,width:n,height:a,onSelectShiftClick:i,index:s}=e,l=t?t.id:s;return t&&(o=c.clone().addPath(t.id).toString()),r.createElement(U.A,{key:l,onShiftClick:i,href:o,width:n,height:a,model:t})})))};SharedPhotoAlbumLandingMediaGrid.propTypes={collection:a().instanceOf(d.A),pageUrlModel:a().instanceOf(p.A).isRequired,isActive:a().bool};const G=SharedPhotoAlbumLandingMediaGrid;var j=t(94788),q=t(51164),V=t(30272),R="aph_I_spalp",B="aph_A_spalp";const H="shared-photo-album-landing-page-footer-module__sharedPhotoAlbumLandingPageFooter__SgpXT",W="shared-photo-album-landing-page-footer-module__headingText__eI9Mg",Q="shared-photo-album-landing-page-footer-module__appStoreBadges__kVZ14";var SharedPhotoAlbumLandingPageFooter=e=>{var{isPrimeExperienceAvailable:o}=e;return r.createElement("section",{className:H},o&&r.createElement("h5",{className:W},r.createElement(j.A,null,"amazon-photos-shared-content-prime-benefit")),r.createElement("div",{className:Q},r.createElement(V.A,{refMarker:R}),r.createElement(q.A,{refMarker:B})))};SharedPhotoAlbumLandingPageFooter.propTypes={isPrimeExperienceAvailable:a().bool};const K=i.A.connect(SharedPhotoAlbumLandingPageFooter,{store:h.A,mapToProps:["isPrimeExperienceAvailable"]});var Z=t(58156),Y=t.n(Z),J=t(84503),X=t(91601),$=t(94368),ee=t(17050),oe=t(4340),te=t(66941);const re="shared-photo-album-landing-members-sidebar-module__sharedPhotoAlbumLandingMembersSidebar__jo6KE",ne="shared-photo-album-landing-members-sidebar-module__heading__geq_d",ae="shared-photo-album-landing-members-sidebar-module__additionalMembers__YE7Pj",ie="shared-photo-album-landing-members-sidebar-module__additionalMembersCount__foKVf",ce="shared-photo-album-landing-members-sidebar-module__additionalMembersText__l4F_d";var SharedPhotoAlbumLandingMembersSidebar=e=>{var{featuredMembers:o=[],group:t,memberCount:n=0}=e,a=n-o.length,i=a>99?"99+":"+".concat(a),c=a>0;return r.createElement(ee.A,{name:"shared-photo-album-landing-members-sidebar"},r.createElement("section",{className:re},r.createElement("h3",{className:ne},r.createElement(j.A,null,"amazon-photos-shared-photo-album-landing-members-sidebar-heading-title")),o.map((e=>r.createElement(oe.A,{key:e.customerId,member:e,group:t}))),c&&r.createElement("div",{className:ae},r.createElement("div",{className:ie},i),r.createElement(j.A,{className:ce,count:a},"amazon-photos-shared-photo-album-landing-additional-members"))))};SharedPhotoAlbumLandingMembersSidebar.propTypes={featuredMembers:a().arrayOf(a().object),group:a().instanceOf(te.A),memberCount:a().number};const se=i.A.connect(SharedPhotoAlbumLandingMembersSidebar,[{store:l.A,mapToProps:e=>{var{group:o={}}=e;return{featuredMembers:o.featuredMembers,group:o,memberCount:o.memberCount}}}]);var le=t(54205);const me="shared-photo-album-landing-sign-in-button-module__sharedPhotoAlbumLandingSignInButton__TSIz_";var SharedPhotoAlbumLandingSignInButton=e=>{var{authPortalUrl:o}=e;return r.createElement(le.A,{className:O()(me),href:new p.A(o).toString(),name:"shared-photo-album-landing-sign-in"},r.createElement(j.A,null,"amazon-photos-shared-photo-frame-sign-in-button-text"))};SharedPhotoAlbumLandingSignInButton.propTypes={authPortalUrl:a().string.isRequired};const de=i.A.connect(SharedPhotoAlbumLandingSignInButton,[{store:g.A,mapToProps:e=>{var{urls:o={}}=e;return{authPortalUrl:o.authPortal}}}]);var ue=t(11611),pe=t(13319),SharedPhotoAlbumLandingUploadButton=e=>{var{disabled:o,group:t}=e;return r.createElement(ue.A,{text:(0,v.A)("amazon-photos-shared-photo-frame-upload-button-text"),isAlbums:!1,alignment:"bottom",position:"center",onAddPhotosClick:()=>(e=>(0,pe.Ay)({group:e,type:"shared-photo-album-landing-page"}))(t),disabled:o})};SharedPhotoAlbumLandingUploadButton.propTypes={disabled:a().bool,group:a().instanceOf(te.A)};const he=i.A.connect(SharedPhotoAlbumLandingUploadButton,[{store:l.A,mapToProps:e=>{var{group:o}=e;return{group:o}}}]);var ge=t(38530),ve=t(59786);const ye="shared-photo-album-landing-page-info-dialog-module__infoList__cbsei";var fe=r.createElement(le.A,{name:"shared-photo-album-info-dialog-help-link",href:new ve.A("/gp/help/customer/display.html?nodeId=GXR5TVHYVVVFK36D").toString(),target:"_blank"},r.createElement(j.A,null,"amazon-photos-shared-photo-album-info-dialog-link")),SharedPhotoAlbumLandingPageInfoDialog=e=>{var{groupOwnerFirstName:o}=e;return r.createElement(ge.A,{name:"SharedPhotoAlbumLandingPageInfoDialog",className:"shared-photo-album-landing-page-info-dialog",heading:(0,v.A)("amazon-photos-shared-photo-album-info-dialog"),buttons:[{name:"close",label:(0,v.A)("amazon-photos-close-dialog"),className:"button-secondary"}]},r.createElement("ol",{className:ye},r.createElement("li",null,r.createElement(j.A,{replace:o},"amazon-photos-shared-photo-album-info-dialog-body-1")),r.createElement("li",null,r.createElement(j.A,null,"amazon-photos-shared-photo-album-info-dialog-body-2")),r.createElement("li",null,r.createElement(j.A,null,"amazon-photos-shared-photo-album-info-dialog-body-3")),r.createElement("li",null,r.createElement(j.A,{replace:fe},"amazon-photos-shared-photo-album-info-dialog-body-4")),r.createElement("li",null,r.createElement(j.A,null,"amazon-photos-shared-photo-album-info-dialog-body-5"))))};SharedPhotoAlbumLandingPageInfoDialog.propTypes={groupOwnerFirstName:a().string};const be=i.A.connect(SharedPhotoAlbumLandingPageInfoDialog,[{store:l.A,mapToProps:e=>{var{group:o}=e;return{groupOwnerFirstName:Y()(o,"ownerProfile.names.firstName","")}}}]),ke="shared-photo-album-landing-page-header-module__sharedPhotoAlbumLandingPageHeader__Buj9f",_e="shared-photo-album-landing-page-header-module__titleText__F_Z1C",Ae="shared-photo-album-landing-page-header-module__emptyStateImage__bli5i",Pe="shared-photo-album-landing-page-header-module__subtitleText__gsFUC",Ee="shared-photo-album-landing-page-header-module__learnMoreLink__zMmtU";function onMemberClick(){i.A.emit("openDialog",{id:"shared-photo-album-landing-members-sidebar",component:r.createElement(se,null)})}var SharedPhotoAlbumLandingPageHeader=e=>{var{authenticated:o,groupOwnerFirstName:t,groupName:n,isEmpty:a,isMember:c,featuredMembers:s,memberCount:l}=e;return r.createElement("header",{className:ke},a&&r.createElement("img",{className:Ae,src:"https://dcupkcmoyuvm5.cloudfront.net/spf-header-empty-state.png",alt:""}),r.createElement("h1",{className:_e},o?n:r.createElement(j.A,{replace:n},"amazon-photos-shared-photo-album-unauthenticated-header-title")),r.createElement(X.A,{featuredMembers:s,memberCount:l,maxFeaturedMembers:4,onMemberClick}),r.createElement("p",{className:Pe},function getHeaderSubtitleString(e,o){var t=r.createElement(J.A,{name:"shared-photo-album-header-learn-more",className:Ee,onClick:()=>{i.A.emit("openDialog",r.createElement(be,null))}},r.createElement(j.A,null,"amazon-photos-shared-photo-album-header-learn-more")),n=e?"amazon-photos-shared-photo-album-authenticated-header-subtitle":"amazon-photos-shared-photo-album-unauthenticated-header-subtitle";return r.createElement(j.A,{replace:[o,t]},n)}(o,t)),o?r.createElement(he,{disabled:!c}):r.createElement(de,null))};SharedPhotoAlbumLandingPageHeader.propTypes={authenticated:a().bool,groupOwnerFirstName:a().string,groupName:a().string,isEmpty:a().bool,isMember:a().bool,featuredMembers:a().arrayOf(a().shape({avatar:a().instanceOf($.A),customerId:a().string})),memberCount:a().number};const we=i.A.connect(SharedPhotoAlbumLandingPageHeader,[{store:l.A,mapToProps:e=>{var{group:o,isMember:t}=e;return{groupOwnerFirstName:Y()(o,"ownerProfile.names.firstName",""),groupName:o.name,isMember:t,featuredMembers:o.featuredMembers,memberCount:o.memberCount}}},{store:h.A,mapToProps:["authenticated"]}]);var Me=["reportAbuse","download"],Ce=f.A.MID+f.A.SHORT,SharedPhotoAlbumLandingPage=e=>{var{collection:o,shareToken:t,nodeId:n,setUploaderContext:a,clearUploaderContext:c,group:s,isMember:l,authenticated:m,totalSucceededFiles:d,totalFileCount:u,uploadQueueStatus:h,isMobile:g,refMarker:f,sharedPhotoAlbumLandingPageUrl:A}=e,[E,S]=r.useState(!1),[L,N]=r.useState(!1),[I,O]=r.useState(!1),{groupId:D}=s;(0,r.useEffect)((()=>(c(),i.A.listen("endOperation",(e=>{var{operationName:o,groups:t=[]}=e;o===_.A.name&&(t.some((e=>e.groupId===D))&&N(!0))})),()=>{i.A.unListen("endOperation")})),[]);var showFileDropOverrideToast=()=>{i.A.emit("showToast",{message:(0,v.A)("amazon-photos-shared-photo-frame-unable-to-add"),className:"warning",icon:"warning"})};(0,r.useEffect)((()=>{l?a({groupId:D}):(a({groupId:D,fileDropOverride:showFileDropOverrideToast}),m&&i.A.emit("joinGroup",{group:s,shareToken:t,redirect:!1}))}),[l,m]),(0,r.useEffect)((()=>{E||u===d&&h===P.cQ.COMPLETE&&(N(!1),S(!0))}),[d,u,h]);var x=E&&L;(0,r.useEffect)((()=>{x&&!I&&setTimeout((()=>{i.A.emit("showToast",{name:"congratulatory-toast",closeable:!0,message:(0,v.A)("amazon-photos-shared-photo-album-congratulatory-toast-title"),icon:"done-inline"})}),Ce),x&&g&&!I&&(i.A.emit("showToast",{id:"app-upsell-toast",name:"AppUpsellToast",className:"app-upsell-toast",closeable:!0,stay:!0,fullReplace:r.createElement(w.A,{refMarker:f})}),O(!0))}),[x,g,I]);var U=new p.A(A,{}).addPath(t);return r.createElement(k.A,{collection:o,edgeless:!0,onReportAbuseClick:()=>{var{ownerProfile:e}=s;i.A.emit("openDialog",{component:b.A,props:{shareType:C.V8,nodeId:null,shareId:t,ownerId:null==e?void 0:e.customerId}})},header:r.createElement(we,{isEmpty:o&&0===o.count}),page:"shared-photo-album-landing",selectionButtons:Me,showPrimaryNav:!1},r.createElement(M.A,{attribution:"shared-photo-album-landing-page"},r.createElement(G,{collection:o,pageUrlModel:U,isActive:!n}),r.createElement(T,{collection:o,pageUrlModel:U,nodeId:n}),r.createElement(K,null),r.createElement(y.A,{status:"completed"})))};SharedPhotoAlbumLandingPage.propTypes={authenticated:a().bool,collection:a().instanceOf(d.A).isRequired,nodeId:a().string,shareToken:a().string.isRequired,isMobile:a().bool,refMarker:a().string,sharedPhotoAlbumLandingPageUrl:a().string};var Se=i.A.connect((0,u.A)(SharedPhotoAlbumLandingPage),[{store:l.A,mapStateToProps:e=>{var{isMember:o}=e;return{isMember:o}}},{store:h.A,mapToProps:["authenticated"]},{store:g.A,mapToProps:e=>{var{device:o,urls:t}=e;return{isMobile:o.isMobile,refMarker:o.isIOS?R:B,sharedPhotoAlbumLandingPageUrl:t.groupShare}}}]);const Le=(0,m.Ng)((e=>({totalSucceededFiles:(0,E.EH)(e),totalFileCount:(0,E.yL)(e),uploadQueueStatus:(0,E.uR)(e)})),{setUploaderContext:A.o,clearUploaderContext:A.HP})(Se);var Ne=t(55378),Te=t.n(Ne),Ie=t(21013),Oe=t.n(Ie),De=t(61738),xe=t(71086),Ue=t(43840),ze=t(88632),Fe=t(46600),Ge=t(57717),je=t(85307),qe=t(90581),Ve=t(18123),Re=t(92034),Be=t(23257),He=t(26977),We=t(61737),Qe=t(25641),Ke=t(86918),Ze=t(32098),Ye=t(85609),Je=t(48988),Xe=t(31505),$e=t(82354);const eo=(0,Je.A)((e=>{var{isMobile:o,model:t,collection:n,activeType:a,pageUrlModel:i,onReportAbuseClick:c}=e,{contentAggregations:s={}}=t,{photoCount:l,videoCount:m,reactionCount:d}=s,u=l+m;return r.createElement("section",{className:"group-share-header"},o&&r.createElement(Ye.Ay,{model:t,showAvatars:!1,allowRename:!1,transition:!0,openInRenameMode:!1,hideCoverPhoto:!0}),r.createElement("div",{className:"type-switcher"},r.createElement(Xe.A,{showComments:!0,showAlbums:!1,activeType:a,pageUrlModel:i,photoCount:u,commentCount:d}),r.createElement(Ze.A,{name:"options",position:"right"},r.createElement("ul",null,r.createElement("li",null,r.createElement($e.A,{collection:n,name:"download"},r.createElement(j.A,null,"amazon-photos-download-all"))),r.createElement("li",null,r.createElement(J.A,{onClick:c,name:"report-abuse-button"},r.createElement(j.A,null,"amazon-photos-report-abuse")))))))}));function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var oo=(0,S.A)(Fe.Ay),to=(0,S.A)(L.A),ro=["sortNewestToOldest","sortOldestToNewest"];class GroupShare extends r.Component{constructor(){super(...arguments),_defineProperty(this,"state",{showOverlayDialog:!0}),_defineProperty(this,"onExploreFirstClick",(()=>{this.setState({showOverlayDialog:!1})})),_defineProperty(this,"openBlockDialog",(()=>{var e,{joinUrl:o,collection:t,nodeId:n}=this.props;n&&t.getById(n).done((o=>{({reactionTopic:e}=o)})),i.A.emit("openDialog",r.createElement(Qe.A,{joinUrl:o,topic:e,contextType:"comment"}))})),_defineProperty(this,"onInputFocus",(e=>{var{authenticated:o}=this.props;if(!o)return e.currentTarget.blur(),this.openBlockDialog()})),_defineProperty(this,"onReportAbuseClick",(()=>{var{group:e,shareToken:o}=this.props,{ownerProfile:t}=e;i.A.emit("openDialog",{component:b.A,props:{shareType:C.V8,nodeId:null,shareId:o,ownerId:null==t?void 0:t.customerId}})})),_defineProperty(this,"onCommentSignInClick",(()=>{var{joinUrl:e}=this.props,o=new p.A(e).setParam("comment",!0).toString();window.location.href=o})),_defineProperty(this,"onAcceptInvitationClick",(()=>{var{joinUrl:e,authenticated:o}=this.props;if(o)return this.openJoin(null,null,null);var t=new p.A(e).toString();window.location.href=t})),_defineProperty(this,"onCommentClick",(()=>{var{authenticated:e}=this.props;e||this.openBlockDialog()})),_defineProperty(this,"onReactClick",((e,o)=>{var{joinUrl:t,group:n,nodeId:a,authenticated:c,joinInProgress:s,shareToken:l}=this.props;return s?null:c?(this.setState({isLoading:!0}),void this.openJoin(null,o,!0)):i.A.emit("openDialog",r.createElement(Qe.A,{nodeId:a,isSharedPage:!0,group:n,joinUrl:t,contextType:"react",coverNodes:e,topic:o,shareToken:l}))})),_defineProperty(this,"openAcceptDialog",(()=>{var{group:e,joinUrl:o}=this.props;i.A.emit("openDialog",r.createElement(je.A,{group:e,isSharedPage:!0,joinUrl:o}))})),_defineProperty(this,"onToggleOverlay",(()=>{var{showDetails:e}=this.state;this.setState({showDetails:!e})})),_defineProperty(this,"onAddComment",((e,o)=>{var{group:t,shareToken:r,query:n={}}=this.props;this.setState({isLoading:!0}),i.A.emit("joinGroup",{group:t,shareToken:r,query:n,commentText:e,topic:o})}))}componentDidMount(){var{nodeId:e}=this.props;e&&this.setState({showOverlayDialog:!1})}componentDidUpdate(e){var{isMember:o,groupsUrl:t,group:r}=this.props;if(!e.isMember&&o){var n=new p.A(t);n.addPath(r.id),n.go()}}get pageUrlModel(){var{query:e,shareToken:o,groupShareUrl:t}=this.props;return new p.A(t,e).addPath(o)}get contentType(){var{query:e={}}=this.props,{contentType:o}=e;return o||"photos"}openJoin(e,o,t){var{group:r,shareToken:n,query:a={}}=this.props;i.A.emit("joinGroup",{group:r,shareToken:n,query:a,commentText:e,topic:o,joinAndReact:t})}renderAcceptInvitation(){var e,{joinInProgress:o}=this.props,{showDetails:t}=this.state,{contentType:n}=this;return e="photos"===n?O()("accept-overlay photos",{"show-details":t}):O()("accept-overlay comments",{"show-details":t}),r.createElement("section",{className:e},r.createElement("div",{className:"overlay-wrapper"},t&&r.createElement(J.A,{name:"see-more",onClick:this.onToggleOverlay}),r.createElement(J.A,{name:"accept-invitation",onClick:this.onAcceptInvitationClick,disabled:o},r.createElement(j.A,null,"amazon-photos-group-share-accept-invitation")),r.createElement("p",null,r.createElement(j.A,null,"amazon-photos-group-share-overlay-description")),!t&&r.createElement(J.A,{name:"see-more",onClick:this.onToggleOverlay}),t&&r.createElement("ul",{className:"description"},r.createElement("li",null,r.createElement("p",null,r.createElement(j.A,{className:"bold"},"amazon-photos-group-share-activity-heading"),r.createElement(j.A,null,"amazon-photos-group-share-activity-description"))),r.createElement("li",null,r.createElement("p",null,r.createElement(j.A,{className:"bold"},"amazon-photos-group-share-content-heading"),r.createElement(j.A,null,"amazon-photos-group-share-content-description"))),r.createElement("li",null,r.createElement("p",null,r.createElement(j.A,{className:"bold"},"amazon-photos-group-share-reaction-heading"),r.createElement(j.A,null,"amazon-photos-group-share-reaction-description"))))))}renderPhotoGallery(){var{nodeId:e,group:o,collection:t,query:{pageIndex:n}}=this.props;if(e&&t)return r.createElement(to,{ilbConfig:{name:"groupShareGallery",isActive:!0,changeHash:e},parentModel:o,parentContext:"group",reportAbuseVisible:!0,onReportAbuseClick:this.onReportAbuseClick,collection:t,nodeId:e,pageIndex:n,goBackOnFail:!0,useOwnerId:!0,hideReactions:!0,pageUrlModel:this.pageUrlModel})}renderHeader(){var{group:e,collection:o,size:t}=this.props,n=t.mobile;return r.createElement(eo,{pageUrlModel:this.pageUrlModel,activeType:this.contentType,isMobile:n,collection:o,model:e,onReportAbuseClick:this.onReportAbuseClick})}renderSideNavContent(){return r.createElement(qe.Ay,{allowRename:!1,isSharedPage:!0})}renderBody(){var e,{group:o,collection:t,galleryUrl:n,authenticated:a,joinInProgress:i,joinUrl:c,size:s,defaultSort:l,query:m,nodeId:d,shareToken:u,memberIdToMember:p}=this.props,{showOverlayDialog:h,isLoading:g}=this.state,v=this.pageUrlModel.addPath(n),y=s.mobile,{contentType:f}=this,b=y?2:12,_="photos"===f,A="comments"!==f;return e=_?r.createElement("div",{className:"accept-invitation-container"},this.renderAcceptInvitation()):this.renderAcceptInvitation(),r.createElement(k.A,{showPrimaryNav:!1,page:"group-share-flow",edgeless:!0,header:this.renderHeader(),sideNavContent:this.renderSideNavContent()},r.createElement(M.A,{attribution:"group-share-landing-page"},g&&r.createElement("div",{className:"loading-container"},r.createElement("div",{className:"loading"})),d&&r.createElement(Be.A,{collection:t,pageUrlModel:this.pageUrlModel,group:o,isSharedPage:!0,nodeId:d,shareId:u,onCommentSignInClick:this.onCommentClick,onAddComment:this.onAddComment,useOwnerId:!0,name:"sharedLandingGallery",memberIdToMember:p,authenticated:a,addReactionOnJoin:this.onReactClick,shareToken:u}),!d&&h&&r.createElement(Ke.A,{authenticated:a,group:o,joinUrl:c,joinInProgress:i,shareToken:u,onExploreFirstClick:this.onExploreFirstClick,onSignInClick:this.onSaveAccessBlockedSignInClick}),r.createElement(We.A,{className:O()({"hide-reactions":A}),group:o,topic:o.reactionTopic,groupId:o.groupId,includeCoverPhotos:!0,onInputFocus:this.onInputFocus,shareToken:u,memberIdToMember:p,hideReply:!0,onAddComment:this.onAddComment,addReactionOnJoin:this.onReactClick,pageUrlModel:this.pageUrlModel,isSharedPage:!0,focusInput:!1}),_&&r.createElement("section",{className:"grid"},r.createElement(Re.A,{options:ro,selectedSort:m.sort||l,pageUrlModel:this.pageUrlModel}),r.createElement(oo,{ilbConfig:{name:"groupShareGrid",isActive:!0,changeHash:xe.A.getProperty("route.metrics.query")},collection:t,useWindowScroll:!0,useGridLayout:!1,pageSize:12,overscanRowCount:1,emptyState:r.createElement(Ve._v,null)},(e=>{var{models:o,width:t}=e,n=Oe()(o,b);return Te()(n,((e,o)=>r.createElement(Ge.A,{key:o,width:t,models:e},(e=>{var{width:o,height:t,model:n}=e;return r.createElement(Ue.A,{name:"mosaic-item",href:n?v.clone().addPath(n.ownerNodeId).toString():null},r.createElement(ze.A,{model:n,width:o,height:t}))}))))}))),e))}render(){var{show404:e,group:o}=this.props;return e?r.createElement(He.A,null):o?this.renderBody():r.createElement("div",{className:"loading"})}}_defineProperty(GroupShare,"contextTypes",{pageContext:a().string.isRequired});const no=i.A.connect(GroupShare,[{store:l.A,mapStateToProps:e=>{var{isMember:o}=e;return{isMember:o}}},{store:De.A,mapToProps:["size"]},{store:g.A,mapToProps:e=>{var{urls:o={}}=e;return{groupShareUrl:o.groupShare,groupsUrl:o.groups,galleryUrl:o.gallery}}},{store:h.A,mapToProps:["authenticated"]}]);const ao=function GroupShareFlow(e){return r.createElement(no,e)};var io="GroupSharePageShown",GroupShareWrapper=e=>{var{shareToken:o,group:t,nodeId:n,query:a}=e;if(!t)return null;var i="ONE_OR_MORE"===(null==t?void 0:t.showingOnDevice);return(0,r.useEffect)((()=>{if(t){var e=i?"SharedPhotoAlbum":"LegacyGroupShare";c.A.log(io,{eventTag:e}),s.A.log({name:io,segments:{Experience:e}})}}),[t,i]),i?r.createElement(Le,{shareToken:o,group:t,nodeId:n}):r.createElement(ao,{shareToken:o,group:t,nodeId:n,query:a})};GroupShareWrapper.propTypes={shareToken:a().string.isRequired,group:a().instanceOf(te.A),nodeId:a().string,query:a().shape({contentType:a().string,sort:a().string,pageIndex:a().number})};var co=i.A.connect(GroupShareWrapper,[{store:l.A,setup:e=>i.A.emit("getGroupShare",{shareToken:e.shareToken,redirectMembers:!1,query:e.query}),onUpdate:e=>{i.A.emit("getGroupShare",{shareToken:e.shareToken,redirectMembers:!1,query:e.query})},teardown:()=>l.A.suspend(),mapStateToProps:e=>{var{group:o}=e;return{group:o}}}]);const so=co},33295:(e,o,t)=>{t.d(o,{A:()=>E});var r=t(55378),n=t.n(r),a=t(96540),i=t(32485),c=t.n(i),s=t(84503),l=t(35994),m=t(47389),d=t(1683),u=t(42852),p=t(18742),h=t(49907),g=t(94788),v=t(43840),y=t(46600),f=t(18123),b=t(40248),k=t(13319),_=t(59041),A=t(33682),P=t(88687);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class GroupsPage extends a.Component{constructor(){super(...arguments),_defineProperty(this,"onCreateGroupClick",((e,o)=>{var{metricOverrides:{eventTag:t}}=o;e.currentTarget.disabled=!0,(0,k.Ay)({eventTag:t})}))}render(){var{collection:e,count:o,alexaGroups:t=[]}=this.props,r=new m.A(p.A.getProperty("urls.groups")),i=!0===(o&&0!==o),l=t.length>0;return a.createElement(b.A,{page:"groups"},a.createElement("header",{className:"actions"},a.createElement("h1",null,a.createElement(g.A,null,"amazon-photos-sharing-nav")),i&&a.createElement("div",null,a.createElement(s.A,{name:"create-group",onClick:this.onCreateGroupClick,metricOverrides:{eventName:"CreateGroupStart",eventTag:"list_groups"}},a.createElement(g.A,null,"amazon-photos-create-group")))),a.createElement(y.Ay,{pageSize:10,collection:e,emptyState:a.createElement(f.Ay,null),singleRows:!1,useWindowScroll:!0,useGridLayout:!0,className:c()("custom-groups",{hasAlexaGroups:l})},(e=>{var{models:o}=e;return n()(o,((e,o)=>a.createElement(v.A,{key:e&&e.id||o,name:"groups-list",href:e&&r.clone().addPath(e.id).toString()},a.createElement(A.A,{model:e}))))})),l&&a.createElement("section",{className:"alexa-groups"},a.createElement(P.A,{models:t})),i&&a.createElement(h.A,{status:"completed"}))}}const E=l.A.connect((0,u.A)(GroupsPage),{store:_.A,setup:e=>{l.A.emit("getGroups",e),d.A.log("ListGroups")},teardown:()=>_.A.suspend(),onUpdate:e=>l.A.emit("getGroups",e)})},91601:(e,o,t)=>{t.d(o,{A:()=>d});var r=t(96540),n=t(5556),a=t.n(n),i=t(21572),c=t(84503),s=t(49709),l=t(94368),m=t(88871),FeaturedMembers=e=>{var{featuredMembers:o=[],memberCount:t=0,maxFeaturedMembers:n=s.Hq,onMemberClick:a,showAddMemberButton:l=!1,onAddMemberClick:d}=e,u=t<=n?o.length:n-1,p=o.slice(0,u),h=t-u;return r.createElement("div",{className:"featured-members"},p.map((e=>{var{customerId:o,avatar:t,profile:n}=e;return r.createElement(c.A,{name:"member-preview",onClick:a,label:null==n?void 0:n.name,key:o},r.createElement(m.A,{node:t}))})),h>0&&r.createElement(c.A,{name:"remaining-members",onClick:a,key:"non-featured-member-button"},"+".concat(h)),l&&r.createElement(c.A,{name:"add-members",onClick:d,title:(0,i.A)("amazon-photos-group-add-people"),key:"add-member-button"},r.createElement("span",{className:"icon"})))};FeaturedMembers.propTypes={featuredMembers:a().arrayOf(a().shape({avatar:a().instanceOf(l.A),customerId:a().string,profile:a().shape({name:a().string})})).isRequired,memberCount:a().number.isRequired,maxFeaturedMembers:a().number,onMemberClick:a().func,showAddMemberButton:a().bool,onAddMemberClick:a().func};const d=FeaturedMembers},11611:(e,o,t)=>{t.d(o,{A:()=>GroupAddDropDown});var r=t(96540),n=t(5556),a=t(35994),i=t(84503),c=t(32098),s=t(21572),l=t(38530),m=t(94788),d=t(24764);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class GroupAddDropDown extends r.Component{constructor(){super(...arguments),_defineProperty(this,"onViewOnlyPreferenceClick",(()=>{var e=r.createElement(l.A,{name:"PrivacyError",heading:(0,s.A)("amazon-photos-groups-privacy-view-only-header"),buttons:[{name:"confirm",label:(0,s.A)("amazon-photos-ok")}]},r.createElement(m.A,null,"amazon-photos-groups-privacy-view-only-message"));a.A.emit("pushDialog",{component:e,isStacked:!0})}))}render(){var{isViewOnly:e,isAlbums:o,alignment:t,position:n,onToolTipConfirm:a,onAddPhotosClick:l,text:u=(0,s.A)("amazon-photos-add-to-sharing"),disabled:p=!1}=this.props;return e?r.createElement(i.A,{name:"add-content",className:"toggle-disabled",onClick:this.onViewOnlyPreferenceClick},r.createElement("span",null,u)):r.createElement(c.A,{name:"add-content",className:"add-content",alignment:t,position:n,onOpen:a,text:u,disabled:p},r.createElement("ul",null,r.createElement("li",null,r.createElement(d.A,{name:"add-from-device",metricOverrides:{eventTag:"overflow_menu_device"},useContext:!0},r.createElement(m.A,null,"amazon-photos-group-add-from-device"))),r.createElement("li",null,r.createElement(i.A,{name:"add-photos",metricOverrides:{eventTag:"overflow_menu_".concat(o?"albums":"photos")},isAlbums:o,onClick:l},r.createElement(m.A,null,"amazon-photos-group-add-from-account")))))}}_defineProperty(GroupAddDropDown,"propTypes",{isViewOnly:n.PropTypes.bool,isAlbums:n.PropTypes.bool,alignment:n.PropTypes.string,position:n.PropTypes.string,onToolTipConfirm:n.PropTypes.func,onAddPhotosClick:n.PropTypes.func,text:n.PropTypes.string,disabled:n.PropTypes.bool})},85377:(e,o,t)=>{t.d(o,{A:()=>fe});var r=t(60895),n=t.n(r),a=t(96540),i=t(35994),c=t(71468),s=t(5556),l=t.n(s),m=t(42843),d=t(18742),u=t(21572),p=t(71086),h=t(14324),g=t(61738),v=t(42852),y=t(27236),f=t(47389),b=t(94788),k=t(1683),_=t(67172),A=t(38530),P=t(77390),E=t(51549),w=t(17862),M=t(40248),C=t(13319),S=t(21537),L=t(66607),N=t(6687),T=t(18123),I=t(91401),O=t(36482),D=t(49879),x=t(23257),U=t(80442),z=(0,N.A)(U.A),F=["sortDateTaken","sortAddedToGroup"];const G=i.A.connect((e=>{var o,{authenticated:t,collection:r,defaultSort:n,galleryUrl:i,group:c,groupId:s,groupsUrl:l,isScrolled:m,isViewOnly:d,memberIdToMember:u,nodeId:h,query:g={},selectionOptions:v}=e,y=!!h,b=new f.A(l,g).addPath(s),k=b.clone().addPath(i),{sort:_=n}=g,A=v.locked;return o=A?T.Y$:T.J9,a.createElement("section",{className:"group-photos"},h&&a.createElement(x.A,{collection:r,pageUrlModel:b,group:c,nodeId:h,shareId:s,authenticated:t,name:"groupGallery",useOwnerId:!0,memberIdToMember:u}),a.createElement(z,{ilbConfig:{name:"groupGrid",isActive:!y,changeHash:p.A.getProperty("route.metrics.query")},query:g,collection:r,activeNodeId:h,pageUrlModel:b,contributorData:u,currentSort:_,showShareButton:!1,sortOptions:F,placeSection:"sortDateTaken"===_?D.Xo:function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return(0,D.yt)(...o,s)},emptyState:a.createElement(o,{isViewOnly:d,selectMode:A,group:c}),hideInactiveScrubber:!m},(e=>{var o,{model:t,width:r,height:n,onSelectShiftClick:i,index:c}=e,s=t?t.id:c;return t&&(o=k.clone().addPath(t.id).toString()),a.createElement(O.A,{key:s,onShiftClick:i,href:o,width:r,height:n,model:t},a.createElement(I.A,{model:t,contributorData:u}))})))}),{store:h.A,mapToProps:["selectionOptions"]});var j=t(58156),q=t.n(j),V=t(95785),R=t(88871);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var B=(0,N.A)(U.A),H=["sortAddedToGroup","sortAlphaName"];class GroupAlbums extends a.Component{constructor(){super(...arguments),_defineProperty(this,"onAlbumClick",(()=>{var{pageContext:e}=this.context;k.A.log("GroupOpenAlbum",null,e)}))}render(){var e,{group:o,groupId:t,query:r={},collection:n,memberIdToMember:i,groupsUrl:c,albumUrl:s,defaultSort:l,isScrolled:m,isViewOnly:d,selectionOptions:u}=this.props,h=new f.A(c,r).addPath(t),g=h.clone().deleteParam("sort").addPath(s),{sort:v=l}=r,y=u.locked;return e=y?T.Y$:T.P4,a.createElement("section",{className:"group-albums"},a.createElement(B,{ilbConfig:{name:"groupGrid",isActive:!0,changeHash:p.A.getProperty("route.metrics.query")},query:r,collection:n,pageUrlModel:h,contributorData:i,currentSort:v,showSharebutton:!1,sortOptions:H,displayOptions:["grid-lg"],emptyState:a.createElement(e,{isViewOnly:d,selectMode:y,group:o}),hideInactiveScrubber:!m,useGridLayout:!1},(e=>{var o,{model:t,placeholder:r,onSelectShiftClick:n,index:c}=e,s=t&&i&&i[t.ownerId],l=q()(s,"avatar.color"),m=q()(s,"names.firstName"),d=s?{id:s.avatarNodeId,ownerId:s.customerId}:null,u=r||!t,p=t?t.id:c;if(t){var{ownerId:h,id:v}=t;o=g.clone().addPath("".concat(h,":").concat(v)).toString()}return a.createElement(V.A,{key:p,href:o,model:t,isPlaceholder:u,onLinkClick:this.onAlbumClick,onShiftClick:n},a.createElement(R.A,{node:d,color:l,customerName:m}))})))}}const W=i.A.connect(GroupAlbums,{store:h.A,mapToProps:["selectionOptions"]});var Q=t(32485),K=t.n(Q),Z=t(84503),Y=t(49907),J=t(32721),X=t(82192),$=t(11611);function group_detail_posts_defineProperty(e,o,t){return(o=function group_detail_posts_toPropertyKey(e){var o=function group_detail_posts_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class GroupPosts extends a.Component{constructor(){super(...arguments),group_detail_posts_defineProperty(this,"onReactionInputFocus",(()=>{var{onReactionInputFocus:e}=this.props;e&&e()})),group_detail_posts_defineProperty(this,"onReactionInputBlur",(()=>{var{onReactionInputBlur:e}=this.props;e&&e()}))}renderAddContentDropDown(){var{renderAddContentDropDown:e,contentType:o}=this.props;e&&e("albums"===o,"top","right")}render(){var{group:e,size:o,query:t,showToolTip:r,isViewOnly:n,contentType:i,onAddPhotosClick:c,onToolTipConfirm:s,shareToken:l}=this.props,m=o.mobile||!1,{sharedLanding:d}=t,u="albums"===i,p="comments"!==i,h=a.createElement($.A,{isViewOnly:n,isAlbums:u,alignment:"top",position:"right",onToolTipConfirm:s,onAddPhotosClick:c});return a.createElement("section",{className:K()("group-detail-posts",{full:!p})},a.createElement("div",{className:"inner"},e&&a.createElement(X.A,{hideReactions:p,topic:e.reactionTopic,groupId:e.id,includeCoverPhotos:!0,onInputFocus:this.onReactionInputFocus,onInputBlur:this.onReactionInputBlur,disabledButtonView:m&&h,shareToken:l}),!d&&r&&a.createElement(J.A,{className:"new-member-tooltip",position:"top",text:a.createElement(b.A,null,"amazon-photos-group-join-tooltip"),active:!0,metricOverrides:{eventName:"AddToolTipShown"}},a.createElement(Z.A,{name:"confirm-button",onClick:s,metricOverrides:{eventName:"AddToolTipClicked"}},a.createElement(b.A,null,"amazon-photos-group-join-confirm")))),a.createElement(Y.A,{status:"completed"}))}}var ee=t(91648),oe=t.n(ee),te=t(90581),re=t(53037),ne=["type","time","things","people","groupMembers","location"],ae=oe()(ne,"type"),ie=p.A.getProperty("printingMode")?ae:ne;const group_detail_sidenav=e=>{var o,{collection:t,contentType:r,group:n,memberIdToMember:i,pageUrlModel:c,query:s={}}=e,l=Boolean(s.new)&&n&&n.isUntitled,m=!1;return"comments"!==r&&(m=!0,o=a.createElement(re.Ay,{contributorData:i,collection:t,aggregationFilters:ie,pageUrlModel:c})),a.createElement("div",{className:"group-nav"},a.createElement(te.Ay,{allowRename:!0,isNewGroup:l,shouldHideMembers:m}),o&&a.createElement("div",{className:"filters-container"},o))};var ce=t(43840),se=t(48988),le=t(85609),me=t(31505),de=t(31864);function group_detail_header_defineProperty(e,o,t){return(o=function group_detail_header_toPropertyKey(e){var o=function group_detail_header_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class GroupHeader extends a.Component{constructor(){super(...arguments),group_detail_header_defineProperty(this,"onSettingsClick",(()=>{var{model:e}=this.props;i.A.emit("openDialog",{id:"group-settings",component:a.createElement(de.A,{group:e,eventTag:"overflow_menu"})})}))}renderTypeSwitch(e){var{pageUrlModel:o}=e,{model:t={},query:r,contentType:n,commentCount:i}=this.props,c=o.clone(),{contentAggregations:s={}}=t,{photoCount:l,albumCount:m,videoCount:d,reactionCount:u}=s,p=l+d,h=i>=0?i:u,g=t&&t.isAlexaGroup;return r.sort&&c.setParam("sort",void 0),a.createElement(me.A,{showComments:!0,isAlexaGroup:g,activeType:n,pageUrlModel:c,photoCount:p,albumCount:m,commentCount:h,showAlbums:!0})}render(){var{backUrl:e,contentType:o,model:t,isScrolled:r,isViewOnly:n,keyboardOpen:i,onAddPhotosClick:c,onToolTipConfirm:s,pageUrlModel:l,query:m={},selectMode:d,showToolTip:p,size:g}=this.props,{sharedLanding:v}=m,y=h.A.getProperty("selectionOptions.locked"),f="albums"===o,k=r||i,_=d&&"photos"===o,A=t&&t.isAlexaGroup,P=g.mobile?3:6;if(y||!t)return null;var E=t&&t.groupPreferences.isJoinRestricted;return a.createElement("section",{className:K()("group-detail-header",{collapsed:k})},a.createElement("div",{className:"back-to-groups"},a.createElement(ce.A,{name:"back-link",href:e},a.createElement(b.A,null,"amazon-photos-sharing-nav"))),a.createElement(le.Ay,{className:"group-name",model:t,hideCoverPhoto:!0,showAvatars:!1,membersOnly:E,allowRename:!A,maxFeaturedMembers:P}),this.renderTypeSwitch({pageUrlModel:l}),a.createElement("div",{className:K()("actions",{"selection-mode":_})},a.createElement($.A,{isViewOnly:n,isAlbums:f,alignment:"bottom",position:"right",onToolTipConfirm:s,onAddPhotosClick:c}),!v&&a.createElement(J.A,{className:"new-member-tooltip",position:"bottom",text:a.createElement(b.A,null,"amazon-photos-group-join-tooltip"),active:p,metricOverrides:{eventName:"AddToolTipShown"}},a.createElement(Z.A,{name:"confirm-button",className:"tooltip-block",onClick:s,metricOverrides:{eventName:"AddToolTipClicked"}},a.createElement(b.A,null,"amazon-photos-group-join-confirm"))),!v&&p&&a.createElement(Z.A,{name:"confirm-button",className:"tooltip-block",onClick:s,metricOverrides:{eventName:"AddToolTipClicked"}}),a.createElement(Z.A,{name:"group-settings",onClick:this.onSettingsClick,label:(0,u.A)("amazon-photos-accessibility-group-header-settings")})))}}const ue=i.A.connect((0,se.A)(GroupHeader),[{store:h.A,mapToProps:["selectMode"]},{store:g.A,mapToProps:["size"]}]);var pe=["group","groupId","query","groupsUrl","collectionId","nodeId","size"],he=["group","groupId","query","groupsUrl","collection","collectionId","nodeId","size"];function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){group_detail_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(this,arguments)}function _objectWithoutProperties(e,o){if(null==e)return{};var t,r,n=function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||(n[t]=e[t]);return n}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function group_detail_defineProperty(e,o,t){return(o=function group_detail_toPropertyKey(e){var o=function group_detail_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var ge=["recents","share","addToAlbum","download","removeFromGroup","trash","editDateAndTime"],ve=["share","removeFromGroup","trash"];class GroupDetailPage extends a.Component{constructor(){super(...arguments),group_detail_defineProperty(this,"state",{showToolTip:!1,commentCount:void 0}),group_detail_defineProperty(this,"onAddPhotosClick",((e,o)=>{var{isAlbums:t,metricOverrides:r}=o,{group:n}=this.props,a=t?"albums":"photos";(0,C.Ay)({group:n,type:a,eventTag:r.eventTag})})),group_detail_defineProperty(this,"onReactionInputFocus",(()=>{var{group:e,groupsUrl:o}=this.props,{contentType:t}=this;(y.A.isIOS()||y.A.isAndroid())&&this.setState({keyboardOpen:!0}),"comments"!==t&&new f.A("".concat(o,"/").concat(e.id),{contentType:"comments"}).go()})),group_detail_defineProperty(this,"onReactionInputBlur",(()=>{var{keyboardOpen:e}=this.state;e&&this.setState({keyboardOpen:!1})})),group_detail_defineProperty(this,"onUploaderFileSelect",(()=>{var e,{isViewOnly:o}=this;o&&(e=()=>this.onViewOnlyPreferenceClick()),(0,L.A)({contextName:"group",onContextClickOverride:e,uploadToContextButtonString:(0,u.A)("amazon-photos-group-upload-context-group")})})),group_detail_defineProperty(this,"onUploaderFileDrop",(()=>{i.A.emit("showToast",{message:(0,u.A)("amazon-photos-groups-privacy-view-only-message"),className:"error"})})),group_detail_defineProperty(this,"onReactionsChanged",(()=>{n()((()=>this.refreshCount()),m.A.SHORT)})),group_detail_defineProperty(this,"onViewOnlyPreferenceClick",(()=>{var e=a.createElement(A.A,{name:"PrivacyError",heading:(0,u.A)("amazon-photos-groups-privacy-view-only-header"),buttons:[{name:"confirm",label:(0,u.A)("amazon-photos-ok")}]},a.createElement(b.A,null,"amazon-photos-groups-privacy-view-only-message"));i.A.emit("pushDialog",{component:e,isStacked:!0})})),group_detail_defineProperty(this,"onToolTipConfirm",(()=>{this.setState({showToolTip:!1})})),group_detail_defineProperty(this,"refreshCount",(()=>{var{group:e}=this.props,{groupId:o,reactionTopic:t}=e;_.A.listReactions({limit:1,groupId:o,topic:t}).done((e=>{this.setState({commentCount:e.count})}))}))}componentDidMount(){i.A.listen("reactionsChanged",this.onReactionsChanged,this),this.totalFullScreen=0}componentDidUpdate(e){var{isViewOnly:o,contentType:t,totalFullScreen:r}=this,{pageContext:n}=this.context,{group:c,groupId:s,setUploaderContext:l,groupsUrl:m,size:d}=this.props,{showToolTip:u}=this.state,{query:p={}}=this.props,{webToAppHandoff:h}=p,g=new f.A(m,p).addPath(s);d.mobile&&("comments"!==t&&""!==t||0!==r?"comments"!==t&&1===r&&(this.totalFullScreen-=1,i.A.emit("exitFullScreen")):(this.totalFullScreen+=1,i.A.emit("enterFullScreen"))),c!==e.group&&(h&&i.A.emit("openDialog",a.createElement(S.A,{group:c,pageUrlModel:g})),!c||null!==c.lastViewedDate||c.belongsToCurrentUser()||u||(k.A.log("AddToolTipShown",null,n),this.setState({showToolTip:!0})),l({groupId:s,fileDropOverride:o?this.onUploaderFileDrop:void 0,contextDisambiguator:this.onUploaderFileSelect}))}componentWillUnmount(){var{clearUploaderContext:e}=this.props;i.A.emit("closeDialog",{id:"upload-to-group-confirm"}),i.A.unListen("reactionsChanged",this.onReactionsChanged,this),e(),i.A.emit("exitFullScreen")}get contentType(){var{query:e={}}=this.props,{isAlexaGroup:o}=this,{contentType:t}=e;return o||!t?"photos":t}get backUrl(){var{history:e,groupsUrl:o}=this.props;return e.location.state&&e.location.state.groupsBackUrl||o}get isAlexaGroup(){var{group:e}=this.props;return e&&e.isAlexaGroup}get isViewOnly(){var{group:e}=this.props;return e&&e.groupPreferences.isContentRestricted&&!e.belongsToCurrentUser()}renderSideNavContent(e){var{pageUrlModel:o}=e,{group:t,collection:r,query:n={},defaultSort:i,memberIdToMember:c}=this.props,{contentType:s,isAlexaGroup:l}=this;return h.A.getProperty("selectionOptions.locked")?null:a.createElement(group_detail_sidenav,{group:t,collection:r,query:n,defaultSort:i,memberIdToMember:c,contentType:s,pageUrlModel:o,isAlexaGroup:l})}renderHeader(e){var{pageUrlModel:o}=e,t=this.props,{group:r,groupId:n,query:i={},groupsUrl:c,collectionId:s,nodeId:l,size:m}=t,d=_objectWithoutProperties(t,pe),{contentType:u,isAlexaGroup:p}=this,{showToolTip:h,commentCount:g,keyboardOpen:v}=this.state;return a.createElement(ue,_extends({pageUrlModel:o,model:r,contentType:u,showToolTip:h,query:i,commentCount:g,isViewOnly:this.isViewOnly,onAddPhotosClick:this.onAddPhotosClick,onToolTipConfirm:this.onToolTipConfirm,backUrl:this.backUrl,keyboardOpen:v,isAlexaGroup:p},d))}render(){var e,o=this.props,{group:t,groupId:r,query:n={},groupsUrl:i,collection:c,collectionId:s,nodeId:l,size:m}=o,d=_objectWithoutProperties(o,he),{contentType:u,isAlexaGroup:p}=this,{showToolTip:h}=this.state,g="albums"===u,v=new f.A(i,n).addPath(r),{collection:y}=n,b="true"===y;switch(u){case"photos":e=a.createElement(G,_extends({group:t,groupId:r,query:n,nodeId:l,groupsUrl:i,isViewOnly:this.isViewOnly,isAlexaGroup:p,collection:c},d));break;case"albums":e=a.createElement(W,_extends({group:t,groupId:r,query:n,groupsUrl:i,isViewOnly:this.isViewOnly,collection:c},d))}return a.createElement(M.A,{page:"group-detail",parentModel:t,showPrimaryNav:!1,edgeless:!0,sideNavContent:this.renderSideNavContent({pageUrlModel:v}),header:this.renderHeader({pageUrlModel:v,contentType:u}),selectionButtons:g?ve:ge,enableSelectionDrag:!g,collection:c},s&&a.createElement(w.A,{backUrl:v.toString(),group:t,groupId:r,collectionId:s,nodeId:l,showGridListView:b}),a.createElement(GroupPosts,{group:t,groupsUrl:i,size:m,query:n,showToolTip:h,isViewOnly:this.isViewOnly,contentType:this.contentType,onToolTipConfirm:this.onToolTipConfirm,onAddPhotosClick:this.onAddPhotosClick,onReactionInputFocus:this.onReactionInputFocus,onReactionInputBlur:this.onReactionInputBlur}),e)}}group_detail_defineProperty(GroupDetailPage,"contextTypes",{pageContext:l().string.isRequired});var ye=i.A.connect((0,v.A)(GroupDetailPage),[{store:P.A,mapToProps:e=>{var{addUploadedFileToGroup:o,addUploadConflictToGroup:t}=P.A;return _objectSpread(_objectSpread({},e),{},{addUploadedFileToGroup:o,addUploadConflictToGroup:t})},setup:e=>{i.A.emit("getGroupContent",_objectSpread(_objectSpread({},e),{},{searchContext:"groups"})),k.A.log("ViewGroup",void 0,p.A.getPageContext())},onUpdate:e=>i.A.emit("getGroupContent",_objectSpread(_objectSpread({},e),{},{searchContext:"groups"})),teardown:()=>P.A.suspend()},{store:g.A,mapToProps:["isScrolled","size"]},{store:d.A,mapToProps:e=>{var{urls:o={}}=e;return{groupsUrl:o.groups,galleryUrl:o.gallery,albumUrl:o.album}}},{store:p.A,mapToProps:["history"]},{store:h.A,mapToProps:["selectMode"]}]);const fe=(0,c.Ng)(void 0,{clearUploaderContext:E.HP,setUploaderContext:E.o})(ye)},92403:(e,o,t)=>{t.d(o,{A:()=>b});var r=t(96540),n=t(35994),a=t(6687),i=t(47389),c=t(40248),s=t(80442),l=t(91747),m=t(36482),d=t(27193),u=t(77815),p=t(74169),h=(0,a.A)(s.A),g=(0,a.A)(l.A),v=new i.A(p.DS.hidden),y=["download","unhide","trash"],f=["mosaic"];const b=n.A.connect((e=>{var{collection:o,nodeId:t}=e;return r.createElement(c.A,{page:"hidden",selectionButtons:y,edgeless:!0,collection:o,enableSelectionDrag:!1},Boolean(t)&&r.createElement(g,{ilbConfig:{name:"hiddenSPV",isActive:!0},goBackOnFail:!0,collection:o,nodeId:t,pageUrlModel:v,backUrl:v.toString(),hideActions:!0}),r.createElement(h,{ilbConfig:{name:"hiddenGrid",isActive:!t},collection:o,displayOptions:f,emptyState:r.createElement(u.A,null),activeNodeId:t},(e=>{var o,{model:t,width:n,height:a,onSelectShiftClick:i,index:c}=e,s=t?t.id:c;return t&&(o=v.clone().addPath(t.id).toString()),r.createElement(m.A,{key:s,onShiftClick:i,href:o,width:n,height:a,model:t})})))}),{store:d.A,setup:()=>n.A.emit("getHiddenItems"),teardown:()=>d.A.suspend()})},29498:(e,o,t)=>{t.d(o,{A:()=>Z});var r=t(96540),n=t(71468),a=t(47389),i=t(49907),c=t(39459),s=t(51549),l=t(49551),m=t(50543),d=t(5556),u=t.n(d),p=t(94788),h=t(85796),g=t(57717),v=t(72234),y=t(79563);class OnboardingFinishWebUploadPage extends r.PureComponent{constructor(e){super(e),this.previewableNodes=[],this.succeededFiles=[]}componentDidMount(){var{previewableNodes:e,succeededFiles:o}=this.props;e.length&&o.length&&(this.previewableNodes=e,this.succeededFiles=o)}createBizMetricOverride(e){return{eventName:e,eventTag:"Upload",pageContext:"FinishWebUpload"}}render(){var{previewableNodes:e,succeededFiles:o}=this.props,t=o.length||this.succeededFiles.length,n=e.length?e:this.previewableNodes,a=t?r.createElement("h1",{className:"heading"},r.createElement(p.A,null,"amazon-photos-upload-onboarding-success-heading")):r.createElement("h1",{className:"heading"},r.createElement(p.A,null,"amazon-photos-upload-onboarding-failure-heading")),i=t?r.createElement("div",{className:"upload-complete-grid"},r.createElement("div",{className:"mosaic-header"},r.createElement("strong",null,r.createElement(p.A,null,"amazon-photos-upload-onboarding-success-today"))," ",r.createElement(p.A,{className:"count",replace:[(0,v.A)(t)],count:t},"amazon-photos-section-header-count")),r.createElement(g.A,{itemSpacing:10,height:180,models:n},(e=>{var{model:o,width:t,height:n}=e;return r.createElement(h.A,{model:o,width:t,height:n})}))):null;return r.createElement("div",{className:"section-content upload-complete"},a,i,r.createElement(y.A,{metricOverrides:this.createBizMetricOverride("ClickContinue"),buttonName:"continue-to-app",buttonClassName:"continue-to-app",buttonStr:r.createElement(p.A,null,"amazon-photos-upload-onboarding-success-exit-button")}))}}!function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}(OnboardingFinishWebUploadPage,"propTypes",{succeededFiles:u().arrayOf(Object),previewableNodes:u().arrayOf(Object)});const f=(0,n.Ng)((e=>{var{uploader:o}=e,{previewableNodes:t,succeededFiles:r}=o;return{previewableNodes:t,succeededFiles:r}}))(OnboardingFinishWebUploadPage);var b=t(3443),k=t(35994),_=t(18742),A=t(60776),P=t(21964),E=t(1683),w=t(13489),M=t(56718),C=t(84503),S=t(43840);const onboarding_connect_continue=e=>{var{handleContinueClick:o,handleDismissClick:t,href:n,pageContext:a,treatment:i}=e;return r.createElement(M.A,{name:"continue-connect",className:"onboarding-connect-dialog",noClose:!0},r.createElement("header",null,r.createElement(p.A,null,"amazon-photos-growth-onboarding-continue-heading")),r.createElement("section",null,r.createElement(C.A,{type:"button",name:"continue",onClick:o,metricOverrides:{eventName:"ClickPollingTimeoutContinue",eventTag:i,pageContext:a}},r.createElement(p.A,null,"amazon-photos-growth-onboarding-continue-button")),r.createElement(S.A,{href:n,name:"cancel",onClick:t,metricOverrides:{eventName:"ClickPollingTimeoutDismiss",eventTag:i,pageContext:a}},r.createElement(p.A,null,"amazon-photos-growth-onboarding-device-skip"))))};const onboarding_connect_error=e=>{var{handleRetryClick:o,pageContext:t,treatment:n}=e;return r.createElement(M.A,{name:"continue-connect-error",className:"onboarding-connect-error",noClose:!0},r.createElement("header",null,r.createElement(p.A,null,"amazon-photos-growth-onboarding-error-heading")),r.createElement("section",null,r.createElement(C.A,{type:"button",name:"retry",onClick:o,metricOverrides:{eventName:"ClickPollingErrorContinue",eventTag:n,pageContext:t}},r.createElement(p.A,null,"amazon-photos-growth-onboarding-error-button"))))};function handlePollTimeExpired(e){var{continueUrl:o,handleContinueClick:t,handleDismissClick:n,healthMetricName:a,pageContext:i,pollingID:c,treatment:s}=e;clearInterval(c),E.A.log("PollingTimeoutDisplayed",{eventTag:s},i),w.A.log({name:a}),k.A.emit("openDialog",r.createElement(onboarding_connect_continue,{handleContinueClick:t,handleDismissClick:n,href:o,pageContext:i,treatment:s}))}function handleServiceCallError(e){var{handleContinueClick:o,pageContext:t,pollingID:n,serviceError:a,timeoutID:i,treatment:c}=e;clearInterval(n),clearTimeout(i),E.A.log("PollingErrorDisplayed",{eventTag:c},t),w.A.log({name:a}),k.A.emit("openDialog",r.createElement(onboarding_connect_error,{handleRetryClick:o,pageContext:t,treatment:c}))}function asyncGeneratorStep(e,o,t,r,n,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?o(s):Promise.resolve(s).then(r,n)}function onboarding_qr_code_start_container_defineProperty(e,o,t){return(o=function onboarding_qr_code_start_container_toPropertyKey(e){var o=function onboarding_qr_code_start_container_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var L="Upload",N="Welcome";class OnboardingQRCodeStartContainer extends r.PureComponent{constructor(){super(...arguments),onboarding_qr_code_start_container_defineProperty(this,"pollingID",null),onboarding_qr_code_start_container_defineProperty(this,"timeoutID",null),onboarding_qr_code_start_container_defineProperty(this,"shouldPoll",!0),onboarding_qr_code_start_container_defineProperty(this,"handleContinueClick",(()=>{k.A.emit("closeDialog"),this.waitForSignIn()})),onboarding_qr_code_start_container_defineProperty(this,"handleDismissClick",(()=>{k.A.emit("closeDialog")})),onboarding_qr_code_start_container_defineProperty(this,"handlePollTimeExpired",(()=>{var{urls:e}=this.props;handlePollTimeExpired({continueUrl:e.baseAppUrl,handleContinueClick:this.handleContinueClick,handleDismissClick:this.handleDismissClick,healthMetricName:"ConnectDevicePollingTimeoutDisplayed",pageContext:N,pollingID:this.pollingID,treatment:L})}))}componentDidMount(){this.waitForSignIn()}componentDidUpdate(e){var{serviceError:o}=e,{serviceError:t}=this.props;o!==t&&t&&this.handleServiceCallError(t)}componentWillUnmount(){clearInterval(this.pollingID),clearTimeout(this.timeoutID),this.shouldPoll=!1}handleServiceCallError(e){handleServiceCallError({handleContinueClick:this.handleContinueClick,pageContext:N,pollingID:this.pollingID,serviceError:e,timeoutID:this.timeoutID,treatment:L})}waitForSignIn(){var e=this;return function _asyncToGenerator(e){return function(){var o=this,t=arguments;return new Promise((function(r,n){var a=e.apply(o,t);function _next(e){asyncGeneratorStep(a,r,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,r,n,_next,_throw,"throw",e)}_next(void 0)}))}}((function*(){var{dispatchCheckHasSignedIntoMobileAppAndAdvance:o,query:t}=e.props;yield new Promise((e=>setTimeout(e,A.xl))),e.shouldPoll&&(e.pollingID=setInterval(o,A.Ws,t),e.timeoutID=setTimeout(e.handlePollTimeExpired,A.sD-A.xl))}))()}render(){return r.createElement(P.A,null)}}var T=k.A.connect(OnboardingQRCodeStartContainer,[{store:_.A,mapToProps:["urls"]}]);const I=(0,n.Ng)((e=>{var{onboarding:o}=e;return{serviceError:o.serviceError}}),(e=>({dispatchCheckHasSignedIntoMobileAppAndAdvance:o=>e((0,c.Bo)(o))})))(T);var O=t(97463),D=t(47619);function onboarding_add_photos_from_phone_container_defineProperty(e,o,t){return(o=function onboarding_add_photos_from_phone_container_toPropertyKey(e){var o=function onboarding_add_photos_from_phone_container_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var x="amazon-photos-onboarding-add-photos-from-your-phone-title",U="Upload",z="AddPhotosFromPhone";class OnboardingAddPhotosFromPhoneContainer extends r.PureComponent{constructor(){super(...arguments),onboarding_add_photos_from_phone_container_defineProperty(this,"pollingID",null),onboarding_add_photos_from_phone_container_defineProperty(this,"timeoutID",null),onboarding_add_photos_from_phone_container_defineProperty(this,"handleContinueClick",(()=>{k.A.emit("closeDialog"),this.waitForUpload()})),onboarding_add_photos_from_phone_container_defineProperty(this,"handleDismissClick",(()=>{k.A.emit("closeDialog")})),onboarding_add_photos_from_phone_container_defineProperty(this,"handlePollTimeExpired",(()=>{var{urls:e}=this.props;handlePollTimeExpired({continueUrl:e.baseAppUrl,handleContinueClick:this.handleContinueClick,handleDismissClick:this.handleDismissClick,healthMetricName:"UploadFromDevicePollingTimeoutDisplayed",pageContext:z,pollingID:this.pollingID,treatment:U})}))}componentDidMount(){this.waitForUpload()}componentDidUpdate(e){var{serviceError:o}=e,{serviceError:t}=this.props;o!==t&&t&&this.handleServiceCallError(t)}componentWillUnmount(){clearInterval(this.pollingID),clearTimeout(this.timeoutID)}handleServiceCallError(e){handleServiceCallError({handleContinueClick:this.handleContinueClick,pageContext:z,pollingID:this.pollingID,serviceError:e,timeoutID:this.timeoutID,treatment:U})}createBizMetricOverride(e){return{eventName:e,eventTag:U,pageContext:z}}waitForUpload(){var{dispatchCheckHasUploadedAndAdvance:e,numMedia:o}=this.props;this.pollingID=setInterval(e,A.Ws,o),this.timeoutID=setTimeout(this.handlePollTimeExpired,A.sD)}render(){return r.createElement(D.A,{ctaStringId:x,descriptionStringId:"amazon-photos-onboarding-add-photos-from-your-phone-text",graphicSrc:"https://m.media-amazon.com/images/G/01/digital/photos/connecting-phone.svg",graphicAltTextId:x,showSkipButton:!0,skipButtonMetric:this.createBizMetricOverride("ClickDismiss"),pageViewMetric:this.createBizMetricOverride("OnboardingScreenView"),appendEllipsisToCTAPrompt:!0})}}var F=k.A.connect(OnboardingAddPhotosFromPhoneContainer,[{store:_.A,mapToProps:["urls"]},{store:O.A,mapToProps:["numMedia"]}]);const G=(0,n.Ng)((e=>{var{onboarding:o}=e;return{serviceError:o.serviceError}}),(e=>({dispatchCheckHasUploadedAndAdvance:o=>e((0,c.UZ)(o))})))(F);var j=t(66569),q=t(32397);function onboarding_connect_success_container_defineProperty(e,o,t){return(o=function onboarding_connect_success_container_toPropertyKey(e){var o=function onboarding_connect_success_container_toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var V="amazon-photos-onboarding-connected-phone-title",R="Upload",B="FinishSetupPhone";class OnboardingConnectSuccessContainer extends r.PureComponent{constructor(){super(...arguments),onboarding_connect_success_container_defineProperty(this,"handleExitToApp",(()=>{var{urls:e}=this.props;E.A.log("ClickContinue",{eventTag:R},B),(0,q.A)(),(0,j.A)(e.baseAppUrl,{replace:!0})}))}createBizMetricOverride(e){return{eventName:e,eventTag:R,pageContext:B}}render(){return r.createElement(D.A,{graphicSrc:"https://m.media-amazon.com/images/G/01/digital/photos/complete-phone.svg",graphicAltTextId:V,ctaStringId:V,descriptionStringId:"amazon-photos-onboarding-connected-phone-text",buttonStringId:"amazon-photos-onboarding-see-my-photos",buttonOnClick:this.handleExitToApp,showSkipButton:!1,pageViewMetric:this.createBizMetricOverride("OnboardingScreenView")})}}const H=k.A.connect(OnboardingConnectSuccessContainer,[{store:_.A,mapToProps:["urls"]}]);var W={[c.QA.QR_START]:I,[c.QA.UPLOAD_WAITING_MOBILE]:G,[c.QA.DEVICE_FINISH]:H,[c.QA.UPLOAD_FINISH]:f,[c.QA.UPLOAD_PENDING]:b.A},Q={[c.QA.QR_START]:"Welcome",[c.QA.UPLOAD_WAITING_MOBILE]:"AddPhotosFromPhone",[c.QA.DEVICE_FINISH]:"FinishSetupPhone",[c.QA.UPLOAD_FINISH]:"FinishWebUpload",[c.QA.UPLOAD_PENDING]:"UploadInProgress"};class OnboardingConnectQRPage extends r.PureComponent{componentDidMount(){document.body.classList.add("onboarding-connect-qrcode-view")}componentDidUpdate(e){var{query:o={},isQueuePending:t,isQueueComplete:r,minimizeUploadSuccessToast:n,moveToPendingUploadPage:i,moveToFinishUploadPage:s,moveToQRStartPage:l,currentStep:m}=this.props,d=m!==c.QA.QR_START;!o.begin&&d&&l(),m!==c.QA.UPLOAD_PENDING&&t&&(new a.A(window.location.pathname,o).setParam("begin",!0).go(),i()),e.currentStep!==c.QA.UPLOAD_FINISH&&m!==c.QA.UPLOAD_FINISH&&r&&(this.bodyClassTimeout=setTimeout((()=>{document.body.classList.add("upload-complete-toast-in"),n()}),0),s())}componentWillUnmount(){clearTimeout(this.bodyClassTimeout),document.body.classList.remove("onboarding-connect-qrcode-view"),document.body.classList.remove("upload-complete-toast-in")}render(){var{currentStep:e,query:o}=this.props,t=W[e],n=Q[e];return r.createElement("div",{className:"onboarding-connect-qrcode-container"},r.createElement(i.A,{status:"completed"}),r.createElement("section",{className:"step-container"},r.createElement(t,{query:o})),r.createElement(m.A,{pageContext:n}))}}var K=(0,n.Ng)((e=>{var{onboarding:o,uploader:t}=e;return{currentStep:o.currentPage,isQueuePending:t.queueStatus===l.cQ.ACTIVE,isQueueComplete:t.queueStatus===l.cQ.COMPLETE||t.queueStatus===l.cQ.ABORTED}}),(e=>({minimizeUploadSuccessToast:()=>e((0,s.i)()),moveToPendingUploadPage:()=>e((0,c.qV)("UPLOAD_PENDING")),moveToFinishUploadPage:()=>e((0,c.qV)("UPLOAD_FINISH")),moveToQRStartPage:()=>e((0,c.qV)("QR_START"))})))(OnboardingConnectQRPage);const Z=K},9848:(e,o,t)=>{t.d(o,{A:()=>Z});var r=t(58156),n=t.n(r),a=t(43346),i=t.n(a),c=t(79859),s=t.n(c),l=t(2404),m=t.n(l),d=t(44383),u=t.n(d),p=t(96540),h=t(55488),g=t(43840),v=t(84503),y=t(18742),f=t(17667),b=t(35994),k=t(6687),_=t(47389),A=t(14324),P=t(94788),E=t(32721),w=t(32485),M=t.n(w),C=t(21572),S=t(66569),L=t(71086),N=t(42852),T=t(480),I=t(80442),O=t(49879),D=t(40248),x=t(66361),U=t(69958),z=t(59055),F=t(87937),G=t(53037),j=t(91747),q=t(36482),V=t(35564);function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var R=(0,k.A)(I.A),B=(0,k.A)(j.A),H=["sortDateTaken","sortDateUploaded"],W=["favorite","type","time","things","people","familyMembers"],Q=["recents","share","download","addToAlbum","buyPrints"],K=["toggleFamily","editDateAndTime","editLocation","trash"];class PeopleDetailPage extends p.Component{constructor(){super(...arguments),_defineProperty(this,"onCreateClusterSuccess",(e=>{var{clusterIds:o,createdClusterId:t}=e,{clusterId:r,query:n,peopleUrl:a}=this.props;if(s()(o,r)){var i="".concat(a,"/").concat(encodeURIComponent(t));new _.A(i,n).go(!0,!0)}})),_defineProperty(this,"onChangeProfileImageClick",(()=>{var{isAvatarSelectActive:e}=this.state;e?b.A.emit("unlockSelectMode"):(this.setState({isAvatarSelectActive:!0}),b.A.listen("unlockSelectMode",(()=>{this.setState({isAvatarSelectActive:!1}),b.A.unListen("unlockSelectMode",null,this)}),this),b.A.emit("lockSelectMode",{title:(0,C.A)("amazon-photos-people-change-photo"),navigationOptions:[],singleSelect:!0,buttons:[{label:(0,C.A)("amazon-photos-settings-personal-profile-avatar-select-confirm"),onClick:()=>{var{selection:e,clusterId:o}=this.props,t=e.getFirst().id;b.A.emit("changeClusterAvatar",{clusterId:o,nodeId:t})},name:"select-photo",className:"mobile-icon icon-checkmark"}]}))}))}UNSAFE_componentWillMount(){var{lastFragment:e,peopleUrl:o}=this.props;this.setState({backUrl:e||o}),b.A.listen("createClusterSuccess",this.onCreateClusterSuccess,this)}UNSAFE_componentWillReceiveProps(e){var{clusterId:o,query:t,requestData:r}=this.props,{sort:n,searchContext:a}=t||{},i=u()(t,h.Z9),{clusterId:c,query:s={}}=e,{sort:l,searchContext:d}=s,p=u()(s,h.Z9);o===c&&n===l&&a===d&&m()(i,p)||r(c,l,d,s)}componentDidUpdate(){var{count:e,peopleUrl:o}=this.props;0===e&&(0,S.A)(o)}componentWillUnmount(){var{isAvatarSelectActive:e}=this.state;e&&b.A.emit("unlockSelectMode")}get pageUrlModel(){var{query:e,peopleUrl:o,clusterId:t}=this.props,r=new _.A(o,e);return r.addPath(encodeURIComponent(t)),r}renderGallery(){var{nodeId:e,collection:o,faceEditEnabled:t,clusterId:r}=this.props,{pageUrlModel:n}=this;return o&&e?p.createElement(B,{ilbConfig:{name:"peopleDetailGallery",isActive:!0,changeHash:e},showFavorite:!0,collection:o,nodeId:e,pageUrlModel:n,faceEditingVisible:t,defaultPersonId:r}):null}renderGrid(){var{collection:e,galleryUrl:o,nodeId:t,clusterId:r,query:n={}}=this.props,{pageUrlModel:a}=this,c=a.clone().addPath(o);return p.createElement(R,{ilbConfig:{name:"peopleDetailGrid",isActive:!t,changeHash:i()({clusterId:r},n)},query:n,collection:e,activeNodeId:t,transition:!0,sortOptions:H,currentSort:n.sort,placeSection:"sortDateUploaded"===n.sort?O.SU:O.Xo,pageUrlModel:a,emptyState:p.createElement("span",null)},(o=>{var{model:t,index:r,width:n,height:a,onSelectShiftClick:i}=o;return p.createElement(q.A,{key:t?t.id:r,onShiftClick:i,href:t?c.clone().addPath(t.id).toString():null,width:n,height:a,model:t},p.createElement(T.A,{collection:e,model:t}))}))}renderHeader(){var e,o,t,{clusterId:r,count:a,people:i={}}=this.props,{isAvatarSelectActive:c,backUrl:s}=this.state,l=i[r],m=n()(l,"searchData.clusterName"),d=p.createElement(z.A,{className:"face-lg",cdsClusterId:r});return m?d=p.createElement(v.A,{className:M()("change-profile-image",{active:c}),name:"UpdatePersonHeroImage",onClick:this.onChangeProfileImageClick},d):e=p.createElement(E.A,{text:p.createElement(P.A,null,"amazon-photos-people-change-unnamed-photo"),active:!0}),l?(o=m||p.createElement(P.A,null,"amazon-photos-who-is-this"),o=p.createElement(V.A,{text:o,person:l})):o=p.createElement(P.A,null,"amazon-photos-loading"),t=a?p.createElement(P.A,{replace:[a],count:a},"amazon-photos-found-in-photos"):p.createElement(P.A,null,"amazon-photos-loading"),p.createElement("div",{className:"app-content header"},p.createElement(g.A,{name:"back",href:s},p.createElement(P.A,null,"amazon-photos-go-back-link")),p.createElement("div",{className:"rename-face"},d,e,p.createElement("span",{className:"content"},o,p.createElement("div",{className:"count"},t))))}renderSideNav(){var{collection:e,keyword:o}=this.props,{pageUrlModel:t}=this;return p.createElement(G.Ay,{collection:e,aggregationFilters:W,pageUrlModel:t,keyword:o})}render(){var{collection:e}=this.props,{isAvatarSelectActive:o}=this.state;return p.createElement(D.A,{page:"people-detail",showPrimaryNav:!1,sideNavContent:this.renderSideNav(),header:this.renderHeader(),collection:e,enableSelectionDrag:!0,selectionButtons:Q,overflowButtons:o?[]:K,edgeless:!0},this.renderGrid(),this.renderGallery())}}var requestData=(e,o,t,r)=>{b.A.emit("getPeople"),b.A.emit("search",{keyword:new F.A({name:e,category:"people"}),sort:o,context:t,query:r})};const Z=b.A.connect((0,N.A)(PeopleDetailPage),[{store:x.A,setup:e=>{var{clusterId:o,query:t={}}=e;requestData(o,t.sort,t.searchContext,t)},teardown:()=>x.A.suspend(),mapToProps:e=>_objectSpread(_objectSpread({},e),{},{requestData})},{store:U.A,mapToProps:["people","renamedClusterId","mergedClusterId"]},{store:y.A,mapToProps:e=>{var{urls:o}=e;return{peopleUrl:o.people,galleryUrl:o.gallery}}},{store:f.A,mapToProps:()=>({faceEditEnabled:f.A.isOn("face-edit")})},{store:A.A,mapToProps:["selection"]},{store:L.A,mapToProps:["lastFragment"]}])},65120:(e,o,t)=>{t.d(o,{A:()=>y});var r=t(96540),n=t(35994),a=t(94788),i=t(6687),c=t(49907),s=t(74169),l=t(46600),m=t(40248),d=t(69958),u=t(46455),p=t(88859),h=t(1045),g=t(15839),v=(0,i.A)(l.Ay);const y=n.A.connect((e=>{var{collection:o}=e,t=r.createElement(u.A,null,r.createElement(c.A,{status:"emptyStateRendered"})),n=r.createElement(v,{ilbConfig:{isActive:!0,name:"people"},pageSize:24,collection:o,emptyState:t,useWindowScroll:!0,useGridLayout:!0},(e=>{var{models:o,onSelectShiftClick:t}=e;return o.map((e=>r.createElement(p.A,{key:e.id,onShiftClick:t,href:"".concat(s.DS.people,"/").concat(encodeURIComponent(e.name)),model:e})))})),i=r.createElement(c.A,{status:"completed"});return r.createElement(m.A,{page:"people",selectionButtons:[h.A,g.A]},r.createElement("header",{className:"people-header"},r.createElement("h1",null,r.createElement(a.A,null,"amazon-photos-people-header"))),n,i)}),{store:d.A,setup:()=>n.A.emit("getPeople"),teardown:()=>d.A.suspend()})},39285:(e,o,t)=>{t.d(o,{M:()=>PersonalStorageNotifications});var r=t(96540),n=t(62193),a=t.n(n),i=t(95093),c=t.n(i),s=t(73256),l=t(33218),m=t(21572),d=t(73725),u=t(60453),p=t(71560),h=t(88941),g=t(96721),v=t(95871),y=t(63734),MfaPaymentMethodVerifiedBanner=()=>{var e,o,t,n,i,f=(0,v.GV)(p.eF),{currentPlan:b,currentSubscription:k}=(0,y.N)(g.A,(e=>({currentPlan:e.currentPlan,currentSubscription:e.currentSubscription}))),_=Boolean(f)||!a()(b)&&!a()(k),A=(0,u.A)(window.location.search),{cdwTransactionType:P,gracePeriod:E}=A||{};if("authorize"!==P||!_)return null;var w,M=(null==f||null===(e=f.activeContract)||void 0===e?void 0:e.amount)||(null==b||null===(o=b.billingSchedule)||void 0===o?void 0:o.price),C=(null==f?void 0:f.contractEndDate)||(null==k?void 0:k.contractEndDate),S=(null==f||null===(t=f.activeContract)||void 0===t?void 0:t.currencyCode)||(null==b||null===(n=b.billingSchedule)||void 0===n?void 0:n.currencyCode),L=(null==f||null===(i=f.activePlan)||void 0===i?void 0:i.storage)||(null==b?void 0:b.size);if("1"===E){if(!M||!S)return d.A.error("MfaPaymentMethodVerifiedBanner: Missing amount or currencyCode for grace period messaging"),null;w=(0,m.A)("amazon-photos-storage-payment-method-updated-grace-period-body",[(0,s.A)(Number(M),S),(0,l.A)(L)])}else w=(0,m.A)("amazon-photos-storage-payment-method-updated-45-days-body",c()(C).format("LL"));return r.createElement(h.Z,{bannerName:"MfaPaymentMethodVerified",bannerType:h.o.Success,headingText:(0,m.A)("amazon-photos-storage-payment-method-updated-title")},w)};const f="personal-storage-notifications-module__personalStorageNotifications__fMljh";var PersonalStorageNotifications=()=>r.createElement("div",{className:f},r.createElement(MfaPaymentMethodVerifiedBanner,null))},66170:(e,o,t)=>{t.d(o,{l:()=>v});var r=t(96540),n=t(56347),a=t(35994),i=t(18742),c=t(93092),s=t(14127),l=t(54318),m=t(71560),d=t(14724),u=t(49907),p=t(40248),h=t(85537),g=t(95871),v=a.A.connect((e=>{var o,{query:t,urls:a}=e,i=(0,g.jL)();(0,r.useEffect)((()=>{i((0,m.fJ)()),i((0,m.db)()),i((0,m.TN)()),i((0,m.yh)()),(0,l.D4)()&&(i((0,m.uV)()),i((0,d.PM)()))}),[]);var v=(0,n.W6)(),y=null==v||null===(o=v.location)||void 0===o?void 0:o.state,f=(null==y?void 0:y.personalStorageBackUrl)||(null==a?void 0:a.baseAppUrl);return r.createElement(p.A,{header:r.createElement(c.o,{href:f,shouldShowLabel:!1}),page:"personalStorage",showPrimaryNav:!1},r.createElement(s.A,{attribution:"personal-storage"},r.createElement(h.A,{query:t}),r.createElement(u.A,{status:"completed"})))}),[{store:i.A,mapToProps:["urls"]}])},5934:(e,o,t)=>{t.d(o,{V:()=>StorageSection});var r=t(96540);const n="storage-section-module__storageSection__JWknW",a="storage-section-module__heading__FJCES";var StorageSection=e=>{var{children:o,headingText:t}=e;return r.createElement("section",{className:n},r.createElement("h2",{className:a},t),o)}},76176:(e,o,t)=>{t.d(o,{c:()=>StorageSummary});var r=t(96540),n=t(21572),a=t(5934),i=t(43840),c=t(18742),s=t(95871),l=t(71560),m=t(54318),d=t(32485),u=t.n(d),p=t(25363);const h="family-members-summary-module__summary__Phofo",g="family-members-summary-module__capsule__Y6grJ",v="family-members-summary-module__offsetAvatar__EzZS7",y="family-members-summary-module__avatarBorder__RTf9p",f="family-members-summary-module__arrow__CJhlA";var FamilyMembersSummary=e=>{var{className:o}=e,t=c.A.getProperty("urls.familyStorage"),n=(0,s.GV)(l.sh);return r.createElement(i.A,{name:"family-storage",href:t,className:u()(o,h)},r.createElement("div",{className:g},n.map((e=>r.createElement("div",{className:v,key:e},r.createElement("div",{className:y},r.createElement(p.Oy,{customerID:e})))))),r.createElement("div",{className:f}))};const b="family-ingress-row-module__rowCta__U1DpV",k="family-ingress-row-module__rowFamily__GJxEX",_="family-ingress-row-module__icon__lQJ7Y",A="family-ingress-row-module__header__SrN9B",P="family-ingress-row-module__subheader__gUAS6",E="family-ingress-row-module__cta__pZgiD",w="family-ingress-row-module__members__nfqO4";var FamilyIngressRow=()=>{var e=(0,s.GV)(l.so);return(0,m.cp)()?e?r.createElement(FamilyRow,null):r.createElement(CtaRow,null):null};function FamilyRow(){return r.createElement("div",{className:k},r.createElement("span",{className:_}),r.createElement("span",{className:A},(0,n.A)("amazon-photos-family-storage-summary-header")),r.createElement(FamilyMembersSummary,{className:w}))}function CtaRow(){var e=c.A.getProperty("urls.familyStorage");return r.createElement("div",{className:b},r.createElement("span",{className:_}),r.createElement("span",{className:A},(0,n.A)("amazon-photos-family-storage-summary-header")),r.createElement("span",{className:P},(0,n.A)("amazon-photos-family-storage-summary-subheader")),r.createElement(i.A,{name:"get-started-family-storage",href:e,className:E},(0,n.A)("amazon-photos-family-storage-summary-cta")))}var M=t(97463),C=t(72234),S=t(18398);const L="usage-breakdown-item-module__usageBreakdownItem__PdRcC",N="usage-breakdown-item-module__primaryInfoWrapper__w3Snr",T="usage-breakdown-item-module__dot__MBjQ2",I="usage-breakdown-item-module__nameAndCount__tbElu",O="usage-breakdown-item-module__size__e4LOP";var UsageBreakdownItem=e=>{var{bytes:o,children:t,color:n,count:a,name:i}=e;return r.createElement("div",{className:L},r.createElement("div",{className:N},r.createElement("div",{className:T,style:{backgroundColor:n}}),r.createElement("div",{className:I},i," (",(0,C.A)(a),")"),r.createElement("div",null,t)),r.createElement("div",{className:O},(0,S.$)(o)))};const D="family-unlimited-photos-breakdown-module__breakdownItem__UlmCU";var FamilyUnlimitedPhotosBreakdown=()=>{var e=M.A.getProperty("customerId"),o=(0,s.GV)(l.lc),t=(0,s.GV)(l.ql),a=(0,s.GV)(l.Wb),i=(0,s.GV)((o=>(0,l.WS)(o,e))),c=(0,s.GV)((o=>(0,l.Yz)(o,e))),m=(0,s.GV)(l.p7)-i,d=(0,s.GV)(l.BB)-c;return o?r.createElement("ul",null,[{bytes:t,color:ne.photos,count:a,key:"my-photos",name:(0,n.A)("amazon-photos-storage-usage-type-my-photos")},{bytes:m,color:ne.family,count:d,key:"family-photos",name:(0,n.A)("amazon-photos-storage-usage-type-family")}].map((e=>{var{bytes:o,color:t,count:n,key:a,name:i}=e;return r.createElement("li",{className:D,key:a},r.createElement(UsageBreakdownItem,{bytes:o,color:t,count:n,name:i}))}))):null},x=t(63138),U=t(46713),z=t(76202),F=t(49666);const G="usage-bar-legend-module__legendItem__W7rKC";var UsageBarLegend=e=>{var{segments:o}=e,t=o.filter((e=>Boolean(e.label)));return r.createElement("ul",null,t.map((e=>r.createElement("li",{className:G,key:e.key},e.label))))},j=t(32098);const q="non-media-bytes-tooltip-module__expandableMenu__HMhr_",V="non-media-bytes-tooltip-module__otherInfo__TUsZG",R="non-media-bytes-tooltip-module__tooltipContents__Cx57X";var B=j.A,NonMediaBytesTooltip=()=>{var e=(0,s.GV)(l.iO),o=r.createElement(i.A,{name:"view-folders",href:c.A.getProperty("urls.folderView")},(0,n.A)("amazon-photos-manage-storage-other-files-folders-link"));return r.createElement(B,{alignment:"top",className:q,name:"other-info-tooltip",position:"left",text:r.createElement("span",{className:V})},r.createElement("div",{className:R},(0,n.A)("amazon-photos-manage-storage-other-files-info-with-link",[(0,S.$)(e),o])))},H=function(e){return e.available="available-segment",e.family="family-segment",e.nonMedia="non-media-segment",e.photos="photos-segment",e.videos="videos-segment",e}({}),UsageChart=()=>{var e=(0,s.GV)(l.fc),o=(()=>{var e=M.A.getProperty("customerId"),o=(0,s.GV)(l.KM),t=(0,s.GV)((o=>(0,l.Pr)(o,e))),a=(0,s.GV)((o=>(0,l.rw)(o,e))),i=(0,s.GV)(l.pn),c=(0,s.GV)(l.oS),m=(0,s.GV)(l.C2),d=(0,s.GV)(l.lc),u=(0,s.GV)(l.iO),p=(0,s.GV)(l.A9),h=(0,s.GV)(l.Xi),g=(0,s.GV)(l.jw),v=(0,s.GV)(l.g4),y=(0,s.GV)(l.uz),f=[],b=d?"amazon-photos-storage-usage-type-my-photos":"amazon-photos-storage-usage-type-photos";i||f.push({color:ne.photos,key:H.photos,label:r.createElement(UsageBreakdownItem,{bytes:h,color:ne.photos,count:g,name:(0,n.A)(b)}),size:h});var k=d?"amazon-photos-storage-usage-type-my-videos":"amazon-photos-storage-usage-type-videos";if(f.push({color:ne.videos,key:H.videos,label:r.createElement(UsageBreakdownItem,{bytes:v,color:ne.videos,count:y,name:(0,n.A)(k)}),size:v}),p>0){var _=r.createElement(UsageBreakdownItem,{bytes:u,color:ne.nonMedia,count:p,name:(0,n.A)("amazon-photos-storage-usage-type-non-media")},r.createElement(NonMediaBytesTooltip,null));f.push({color:ne.nonMedia,key:H.nonMedia,label:_,size:u})}if(d){var A=c-t,P=m-a;f.push({color:ne.family,key:H.family,label:r.createElement(UsageBreakdownItem,{bytes:A,color:ne.family,count:P,name:(0,n.A)("amazon-photos-storage-usage-type-family")}),size:A})}return f.push({key:H.available,color:ne.available,size:o}),f})(),t=o.map((e=>e.size)).reduce(((e,o)=>e+Math.max(0,o)),0),a=Math.max(e,t);return r.createElement(r.Fragment,null,r.createElement(F.x,{total:a,segments:o}),r.createElement(UsageBarLegend,{segments:o}))};const W="storage-summary-loading-module__loadingRow__F1dLD",Q="storage-summary-loading-module__loadingSummary__zXrob",K="storage-summary-loading-module__loadingTitle__e8j52",Z="storage-summary-loading-module__loadingUsage__dqntv",Y="storage-summary-loading-module__loadingBreakdown__JlhnL",J="storage-summary-loading-module__loadingContainer__Z_ymC",X="storage-summary-loading-module__loadingBar__E1BH6",$="storage-summary-loading-module__shimmer__BUEos",ee="storage-summary-loading-module__loadingLegend__g6waR",oe="storage-summary-loading-module__loadingLegendItem__elGqR",te="storage-summary-loading-module__loadingText__rLqXd";var StorageSummaryLoading=()=>r.createElement("div",{className:W},r.createElement("div",{className:Q},r.createElement("div",{className:K}),r.createElement("div",{className:Z})),r.createElement("div",{className:Y},r.createElement("div",{className:J},r.createElement("div",{className:X},r.createElement("div",{className:$})),r.createElement("div",{className:ee},r.createElement("div",{className:oe},r.createElement("div",{className:te})),r.createElement("div",{className:oe},r.createElement("div",{className:te}))))));const re="usage-card-module__card__kEjb1";var ne=function(e){return e.available="var(--available)",e.family="var(--family)",e.nonMedia="var(--nonMedia)",e.photos="var(--photos)",e.videos="var(--videos)",e}({}),UsageCard=()=>{var e,o,t,a=(0,s.GV)(l.KM),i=(0,s.GV)(l.pn),c=(0,s.GV)(l.C2),m=(0,s.GV)(l.p7),d=(0,s.GV)(l.BB),u=(0,s.GV)(l.lc),p=(0,s.GV)(l.A9),h=(0,s.GV)(l.ql),g=(0,s.GV)(l.Wb),v=(0,s.GV)(l.fc),y=(0,s.GV)(l.uz),f=(0,s.GV)(l.hm),b=(0,s.GV)(l.Wj),k=v-a,_=f===z.Z.PENDING||f===z.Z.IDLE,A=b===z.Z.PENDING||b===z.Z.IDLE,P=_||A;return i?(u?(e=d,o=m,t=c):(e=g,o=h,t=p+y),r.createElement(x.W,{className:re},P?r.createElement(r.Fragment,null,r.createElement(StorageSummaryLoading,null)):r.createElement(r.Fragment,null,r.createElement(U.y,{title:(0,n.A)("amazon-photos-storage-photo-category"),count:e,bytesUsed:o,bytesAvailable:"unlimited"},r.createElement(FamilyUnlimitedPhotosBreakdown,null)),r.createElement(U.y,{title:(0,n.A)("amazon-photos-storage-video-category"),count:t,bytesUsed:k,bytesAvailable:v},r.createElement(UsageChart,null))),r.createElement(FamilyIngressRow,null))):r.createElement(x.W,{className:re},P?r.createElement(StorageSummaryLoading,null):r.createElement(U.y,{title:(0,n.A)("amazon-photos-storage-unified-storage-category"),bytesUsed:k,bytesAvailable:v},r.createElement(UsageChart,null)),r.createElement(FamilyIngressRow,null))},StorageSummary=()=>r.createElement(a.V,{headingText:(0,n.A)("amazon-photos-manage-storage-summary")},r.createElement(UsageCard,null))},46709:(e,o,t)=>{t.d(o,{A:()=>one_click_cancel_button});var r=t(96540),n=t(35994),a=t(84503),i=t(94788),c=t(42843),s=t(95871),l=t(71560),m=t(54318);const d="one-click-cancel-button-module__oneClickCancelButtonContainer__eNgVO",u="one-click-cancel-button-module__oneClickCancelText__Jp6i6";const one_click_cancel_button=()=>{var e=(0,s.jL)();return r.createElement("section",{className:d},r.createElement(a.A,{name:"one-click-cancel",onClick:()=>{(0,m.D4)()?e((0,l.IV)()):(n.A.emit("cancelPlan"),setTimeout((()=>e((0,l.TN)())),c.A.MID))}},r.createElement(i.A,{className:u},"amazon-photos-one-click-cancel-button")))}},39570:(e,o,t)=>{t.d(o,{A:()=>l});var r=t(96540),n=t(35994),a=t(18742),i=t(43840),c=t(21572);const s="two-click-cancel-link-module__twoClickCancelLinkContainer__NEwiY";function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var generateMetricOverrides=(e,o)=>{var t="",r={eventName:"twoClickCancel",eventTag:t};if(!e)return r;var{isDesktop:n,isMobile:a,isIOS:i,isAndroid:c}=e;return n?t="desktopStorage":a&&!o?t="mobileStorage":o&&c?t="mobileStorageWebViewAndroid":o&&i&&(t="mobileStorageWebViewIos"),_objectSpread(_objectSpread({},r),{},{eventTag:t})};const l=n.A.connect((e=>{var{cancelPlanUrl:o,device:t,isWebView:n}=e;return r.createElement("section",{className:s},r.createElement(i.A,{name:"cancel-plan",href:o,metricOverrides:generateMetricOverrides(t,n)},(0,c.A)("amazon-photos-two-click-cancellation-link-text")))}),[{store:a.A,mapToProps:["device","isWebView"]}])},89583:(e,o,t)=>{t.d(o,{g:()=>YourStorageSection});var r=t(96540),n=t(21572),a=t(5934),i=t(63734),c=t(32485),s=t.n(c);const l={add:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add.svg"',"add-album":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20album.svg"',"add-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/add%20image.svg"',"add-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/add%20inline.svg"',alexa:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/alexa.svg"',albums:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/albums.svg"',"aspect-ratio":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/aspect%20ratio.svg"',back:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back.svg"',"blocked-contacts":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/blocked-contacts.svg"',"back-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/back%20android.svg"',"broken-image":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/broken%20image.svg"',burst:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/burst.svg"',calendar:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/calendar.svg"',camera:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/camera.svg"',cancel:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel.svg"',"cancel-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cancel%20inline.svg"',"caret-down":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20down.svg"',"caret-left":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20left.svg"',"caret-right":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20right.svg"',"caret-up":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/caret%20up.svg"',"checkbox-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-on.svg"',"checkbox-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkbox-off.svg"',"checkmark-circle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark_Hover.svg"',checkmark:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/checkmark.svg"',"cloud-upload":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/cloud%20upload.svg"',contact:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact.svg"',"contact-inverted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact-inverted.svg"',"contact-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20add.svg"',"contact-group":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/contact%20group.svg"',delete:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/delete.svg"',device:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/device.svg"',dislike:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/dislike.svg"',done:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done.svg"',"done-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/done%20inline.svg"',download:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download.svg"',"download-cloud":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/download-cloud.svg"',"down-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/down-arrow.svg"',"drive-logo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/drive-logo.svg"',dropdown:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown.svg"',"dropdown-active":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/dropdown%20active.svg"',edit:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit.svg"',"edit-text":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/edit%20text.svg"',email:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/email.svg"',error:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/error.svg"',"external-link":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/external-link.svg"',"face-tags":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/edit-tags.svg"',"family-storage":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/family-storage.svg"',"family-vault":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/family_vault.svg"',filter:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/filter.svg"',"fire-tv":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/brands/fire%20tv.svg"',flag:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/flag.svg"',folder:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder.svg"',"folder-move":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/folder_move.svg"',"group-add":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/group-add.svg"',"heart-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20off.svg"',"heart-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/heart%20on.svg"',help:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/help.svg"',hide:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/hide.svg"',hyperlink:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/hyperlink.svg"',image:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image.svg"',"image-landscape":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/image%20landscape.svg"',information:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/information.svg"',"jump-back":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/jump%20back.svg"',like:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/like.svg"',"live-photo":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live%20photo.svg"',"live-photo-play":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-play.svg"',"live-photo-pause":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/live-photo-pause.svg"',location:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/location.svg"',"magic-sparkle":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/magic%20sparkle.svg"',menu:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/menu.svg"',magnify:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify.svg"',"magnify-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/magnify-out.svg"',merge:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/merge.svg"',microphone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/microphone.svg"',more:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/more.svg"',music:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/music.svg"',"network-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20error.svg"',"network-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/network%20off.svg"',"notification-bell":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/notification%20bell.svg"',overflow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/overflow.svg"',pause:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause.svg"',"pause-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/pause%20inline.svg"',phone:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/phone.svg"',photos:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/photos.svg"',play:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play.svg"',"play-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/play%20inline.svg"',"radio-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-off.svg"',"radio-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/radio/radio-on.svg"',remove:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove.svg"',"remove-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/remove%20inline.svg"',reply:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/reply.svg"',search:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/search.svg"',secure:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure.svg"',"secure-locked":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/secure%20locked.svg"',"send-message":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/send%20message.svg"',settings:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/settings.svg"',share:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share.svg"',"share-android":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/share%20android.svg"',sharing:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing.svg"',"sharing-bubble":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/communications/sharing%20bubble.svg"',"shopping-cart":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/shopping%20cart.svg"',show:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/show.svg"',signout:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/signout.svg"',slideshow:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/slideshow.svg"',"star-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20off.svg"',"star-on":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/star%20on.svg"',"stop-inline":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/stop%20inline.svg"',storage:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/storage.svg"',sync:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/sync.svg"',upload:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/upload.svg"',"up-arrow":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/up-arrow.svg"',video:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/video.svg"',volume:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume.svg"',"volume-muted":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20muted.svg"',"volume-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/volume%20off.svg"',warning:'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/common/warning.svg"',"wifi-error":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20error.svg"',"wifi-not-connected":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20not%20connected.svg"',"wifi-off":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/network/wifi%20off.svg"',"zoom-out":'"https://dcupkcmoyuvm5.cloudfront.net/cooper/icons/LightMode%20Primary/media/zoom%20out.svg"',yourStorageCardRow:"your-storage-card-row-module__yourStorageCardRow__LCf2m",badge:"your-storage-card-row-module__badge__J2Pmb",ghost:"your-storage-card-row-module__ghost__zQqjk",gradientGreen:"your-storage-card-row-module__gradientGreen__FaMYM",gradientPurple:"your-storage-card-row-module__gradientPurple__LgCie",lightBlue:"your-storage-card-row-module__lightBlue__tmSTz",gray:"your-storage-card-row-module__gray__TQCLF",subtitle:"your-storage-card-row-module__subtitle__RS4SW",title:"your-storage-card-row-module__title__pcljC"};var m={ghost:"ghost",gray:"gray",gradientGreen:"gradientGreen",gradientPurple:"gradientPurple",lightBlue:"lightBlue"},YourStorageCardRow=e=>{var{badgeColor:o=m.gray,badgeText:t,subtitle:n,title:a=""}=e,i=s()(l.badge,{[l[o]]:m[o]});return r.createElement("div",{className:l.yourStorageCardRow},r.createElement("div",null,r.createElement("div",{className:l.title},a),r.createElement("div",{className:l.subtitle},n)),Boolean(t)&&r.createElement("div",{className:i},t))},d=t(71560),u=t(95871),ComplimentaryStorageRow=()=>{var e=(0,u.GV)(d.pn)?"amazon-photos-storage-benefit-description-complimentary-video-storage":"amazon-photos-storage-benefit-description-complimentary-unified-storage";return r.createElement(YourStorageCardRow,{badgeColor:m.ghost,badgeText:(0,n.A)("amazon-photos-storage-badge-free"),title:(0,n.A)("amazon-photos-storage-benefit-title-complimentary"),subtitle:(0,n.A)(e)})},p=t(18398),FamilyStorageRow=()=>{var e=(0,u.GV)(d.pn),o=(0,u.GV)(d.lc),t=(0,u.GV)(d.Nw),a=(0,u.GV)(d.cg);if(!o)return null;var i=a-t;if(i<1)return null;var c=(0,p.$)(i),s=e?"amazon-photos-storage-benefit-title-family-video-storage":"amazon-photos-storage-benefit-title-family-unified-storage";return r.createElement(YourStorageCardRow,{badgeColor:m.gray,badgeText:(0,n.A)("amazon-photos-storage-badge-family"),title:(0,n.A)(s,c),subtitle:(0,n.A)("amazon-photos-storage-benefit-description-family-storage")})},h=t(60731),g=t(97042),v=t(95093),y=t.n(v),f=t(99227),b=t.n(f),GrantRow=e=>{var o,{expiration:t,id:a,storageBytes:i}=e,c=b()(i).format("0 ib").replace("i",""),s=t!==1/0?y()(t).format("LL"):"",l=(0,u.GV)(d.pn),p=m.gray,h=(0,n.A)("amazon-photos-storage-badge-generic-grant");switch(a){case g.QD.banyan:p=m.lightBlue,h=(0,n.A)("amazon-photos-storage-badge-alexa-plus"),o=(0,n.A)("amazon-photos-storage-grant-description-alexa-plus",c);break;case g.QD.compensatory100GB:case g.QD.compensatory1TB:h=(0,n.A)("amazon-photos-storage-badge-compensatory");break;case g.QD.employee:h=(0,n.A)("amazon-photos-storage-badge-employee");break;case g.QD.permanent5TB:h=(0,n.A)("amazon-photos-storage-badge-complimentary");break;case g.QD.testPermanent1TB:h=(0,n.A)("amazon-photos-storage-badge-test");break;case g.QD.brFree:h=(0,n.A)("amazon-photos-storage-badge-complimentary");break;case g.QD.fire:h=(0,n.A)("amazon-photos-storage-badge-fire-device"),o=(0,n.A)("amazon-photos-storage-grant-description-fire-device",c);break;case g.QD.photosPlus:h=(0,n.A)("amazon-photos-storage-badge-photos-plus");break;case g.QD.printing:h=(0,n.A)("amazon-photos-storage-badge-promo"),o=(0,n.A)("amazon-photos-storage-grant-description-prints",c);break;case g.QD.promoExperiment2021:h=(0,n.A)("amazon-photos-storage-badge-promo"),o=(0,n.A)("amazon-photos-storage-grant-description-promo-experiment-2021",c);break;case g.QD.sony:h=(0,n.A)("amazon-photos-storage-badge-sony"),o=(0,n.A)("amazon-photos-storage-grant-description-sony",[c,s]);break;case g.QD.test5GB:h=(0,n.A)("amazon-photos-storage-badge-test")}var v=l?"amazon-photos-storage-grant-title-video-storage":"amazon-photos-storage-grant-title-unified-storage",f=(0,n.A)(v,c);return o||(o=s?(0,n.A)("amazon-photos-storage-grant-description-generic-time-limited-storage",[c,s]):(0,n.A)("amazon-photos-storage-grant-description-generic-storage",c)),r.createElement(YourStorageCardRow,{badgeColor:p,badgeText:h,subtitle:o,title:f})};var GrantsList=()=>{var e=(0,u.GV)(d.RP);if(!e||0===e.length)return null;var o=function sortGrants(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length<2)return e;var o=e.findIndex((e=>e.id===g.QD.banyan));if(-1===o)return e;var t=[...e],r=t.splice(o,1);return t.unshift(r[0]),t}(e);return r.createElement(r.Fragment,null,o.map((e=>{var{id:o,storageBytes:t}=e;return r.createElement(GrantRow,{key:o,expiration:(0,h.Mc)(e),id:o,storageBytes:t})})))},k=t(63138),UnlimitedPhotosRow=()=>(0,u.GV)(d.pn)?r.createElement(YourStorageCardRow,{badgeColor:m.gradientGreen,badgeText:(0,n.A)("amazon-photos-storage-badge-prime"),title:(0,n.A)("amazon-photos-storage-benefit-title-unlimited-photos"),subtitle:(0,n.A)("amazon-photos-storage-benefit-description-unlimited-photos-prime")}):null,_=t(90426),A=t(76202),P=t(54318),E=t(96721);const w="loading-your-storage-card-module__skeletonRow__BzO7_",M="loading-your-storage-card-module__skeletonTitle__kYct6",C="loading-your-storage-card-module__skeletonSubtitle___wuDT",S="loading-your-storage-card-module__skeletonBadge__dKhN1";var LoadingYourStorageCard=()=>r.createElement(k.W,{headingText:(0,n.A)("amazon-photos-storage-all-storage-label")},r.createElement("div",{className:w},r.createElement("div",null,r.createElement("div",{className:M}),r.createElement("div",{className:C})),r.createElement("div",{className:S}))),YourStorageCard=()=>{var e=(0,u.GV)(d.i3),{isGettingStorageData:o}=(0,i.N)(E.A,(e=>({isGettingStorageData:e.isGettingStorageData}))),t=(0,P.D4)();return t&&(e===A.Z.PENDING||e===A.Z.IDLE)||!t&&o?r.createElement(LoadingYourStorageCard,null):r.createElement(k.W,{headingText:(0,n.A)("amazon-photos-storage-all-storage-label")},r.createElement(UnlimitedPhotosRow,null),r.createElement(GrantsList,null),r.createElement(FamilyStorageRow,null),r.createElement(ComplimentaryStorageRow,null),r.createElement(_.A,null))},YourStorageSection=()=>r.createElement(a.V,{headingText:(0,n.A)("amazon-photos-manage-storage-current-plan")},r.createElement(YourStorageCard,null))},50502:(e,o,t)=>{t.d(o,{A:()=>J});var r=t(32629),n=t.n(r),a=t(2404),i=t.n(a),c=t(44383),s=t.n(c),l=t(96540),m=t(18742),d=t(35994),u=t(71468),p=t(71086),h=t(97463),g=t(47389),v=t(61738),y=t(6687),f=t(43840),b=t(21572),k=t(17667),_=t(71560),A=t(480),P=t(40248),E=t(49879),w=t(57468),M=t(96721),C=t(65589),S=t(58331),L=t(49442),N=t(74358),T=t(23649),I=t(80442),O=t(91747),D=t(53037),x=t(15711),U=t(36482),z=t(98390),F=t(14127),G=t(54318),j=t(86218),q=t(76202);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var V=(0,y.A)(I.A),R=(0,y.A)(O.A),B=["recents","share","download","buyPrints","trash","addToAlbum","toggleFamily","hide","editDateAndTime","editLocation"],H=["favorite","type","time","things","people","location"],W=["timeMonth","timeYear","timeDay","sort"],Q="TwoClickCancel",K={eventName:Q,eventTag:"desktopSideNav"},Z={eventName:Q,eventTag:"mobileSideNav"};class PhotosPage extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{count:void 0}),_defineProperty(this,"onCollectionChange",(()=>{var{collection:e,count:o}=this.state;e.count!==o&&this.setState({count:e.count})})),_defineProperty(this,"getTwoClickCancelBizMetrics",(()=>m.A.getProperty("device.isDesktop")?K:Z))}UNSAFE_componentWillMount(){var{query:e}=this.props;w.A.restore(),w.A.componentState(this),this.updateContent(e)}componentDidMount(){var{fetchSubscription:e}=this.props,{collection:o}=this.state;(0,G.D4)()&&e(),o&&o.listen(this.onCollectionChange,this)}UNSAFE_componentWillReceiveProps(e){var{query:o}=this.props,t=[...this.getAggregationFilters(),...W],r=s()(o,t),n=s()(e.query,t);i()(r,n)||this.updateContent(e.query)}componentDidUpdate(){var{sourceId:e,bannerStatus:o,getInAppMessagingBanner:t}=this.props;(0,G.Tx)()&&e&&o===q.Z.IDLE&&t()}componentWillUnmount(){var{collection:e}=this.state;e&&e.unListen(null,this),w.A.endComponentState(this),w.A.suspend()}getAggregationFilters(){var e=n()(H);if(p.A.getProperty("printingMode")){var o=e.indexOf("type");o>-1&&e.splice(o,1)}return e}updateContent(e){d.A.emit("getPhotos",{query:e})}renderGallery(e){var{nodeId:o,pageIndex:t}=this.props,{collection:r}=this.state;if(!o)return null;var n={name:"basicListGallery",isActive:!0,changeHash:o};return l.createElement(R,{ilbConfig:n,showFavorite:!0,collection:r,nodeId:o,pageIndex:t,pageUrlModel:e})}renderPhotoBrowser(e,o){var{query:t,nodeId:r}=this.props,{collection:n}=this.state,a=new g.A(e.base+m.A.getProperty("urls.gallery"),e.query),i=this.renderEmptyStateView();if(!n)return l.createElement("span",{className:"loading"});var c={name:"basicListGrid",isActive:!o,changeHash:p.A.getProperty("route.metrics.query")};return l.createElement(V,{ilbConfig:c,collection:n,query:t,activeNodeId:r,currentSort:t.sort,pageUrlModel:e,emptyState:i,placeSection:"sortDateUploaded"===t.sort?E.SU:E.Xo},(e=>{var o,{model:t,width:r,height:i,onSelectShiftClick:c,index:s}=e,m=t?t.id:s;return t&&(o=a.clone().addPath(t.id).toString()),l.createElement(U.A,{key:m,onShiftClick:c,href:o,width:r,height:i,model:t},l.createElement(A.A,{collection:n,model:t}))}))}renderNotificationWidgetContainer(e,o){var{currentPlan:t,currentSubscription:r,pssSubscription:n,hideMFANotifications:a,isGettingStorageData:i,isTeen:c}=this.props,{collection:s}=this.state;if(!i){var m=n||r;if((0,S.Js)(m))return l.createElement(C.A,{currentPlan:t,currentSubscription:m,hideMFANotifications:a,isTeen:c});var d=!e.isUsingFilters()?null:{display:"none"},u={name:"thisDayWidget",isActive:!o};return l.createElement("div",{className:"notification-widget-container",style:d},l.createElement(x.A,{metricName:"ThisDayWidgetTimeToComplete",triggerOn:"completed",ilbConfig:u},l.createElement(T.A,{collection:s})))}}renderEmptyStateView(){return p.A.getProperty("printingMode")?l.createElement(N.A,null):l.createElement(L.A,null)}render(){var{isTwoClickCancelEnabledPss:e,query:o,selectModeButtons:t=B,shouldDisplayTwoClickCancelFeature:r,hasDismissedPrintsAwarenessBanner:n}=this.props,{collection:a}=this.state,i=new g.A(m.A.getProperty("urls").all,o),c=this.renderGallery(i),s=this.renderNotificationWidgetContainer(i,c),d=this.renderPhotoBrowser(i,c),u=(0,G.Tx)()||!n&&k.A.isOn(G.jy.PhotosPrinting),p=l.createElement(l.Fragment,null,l.createElement(F.A,{attribution:"side-nav-filters"},l.createElement(D.Ay,{collection:a,aggregationFilters:this.getAggregationFilters(),pageUrlModel:i})),(r||e)&&l.createElement(f.A,{className:"two-click-cancel-subscription",href:m.A.getProperty("urls.cancelPlan"),name:"DETwoClickCancelButton",metricOverrides:this.getTwoClickCancelBizMetrics()},(0,b.A)("amazon-photos-de-two-click-cancellation-button-text")));return l.createElement(P.A,{page:"photos",collection:a,selectionButtons:t,enableSelectionDrag:!0,sideNavContent:p,edgeless:!0},u&&l.createElement(F.A,{attribution:"prints-awareness-banner"},l.createElement(z.Ay,null)),s,d,c)}}var Y=d.A.connect(PhotosPage,[{store:h.A,mapToProps:["isTeen"]},{store:m.A,mapToProps:["hasDismissedPrintsAwarenessBanner","sourceId"]},{store:M.A,mapToProps:["currentPlan","currentSubscription","isGettingStorageData","shouldDisplayTwoClickCancelFeature"]},{store:v.A,mapToProps:["size"]}]);const J=(0,u.Ng)((e=>({isOpen:e.sideNav.isOpen,pssSubscription:(0,_.eF)(e),isTwoClickCancelEnabledPss:(0,_.Mk)(e),bannerStatus:(0,j.hQ)(e)})),(e=>({fetchSubscription:()=>e((0,_.uV)()),getInAppMessagingBanner:()=>e((0,j.je)())})))(Y)},42650:(e,o,t)=>{t.d(o,{A:()=>O});var r=t(2404),n=t.n(r),a=t(44383),i=t.n(a),c=t(96540),s=t(55488),l=t(43840),m=t(35994),d=t(47389),u=t(94788),p=t(18742),h=t(66569),g=t(6687),v=t(42852),y=t(480),f=t(80442),b=t(49879),k=t(40248),_=t(53037),A=t(87937),P=t(33004),E=t(91747),w=t(36482),M=t(82569),C=t(66361);function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var S=(0,g.A)(f.A),L=(0,g.A)(E.A),N=["sortDateTaken","sortDateUploaded"],T=["recents","share","download","addToAlbum","buyPrints","toggleFamily","editDateAndTime","editLocation","trash"],I=["favorite","type","time","things","people","familyMembers"];class PlacesDetailPage extends c.Component{UNSAFE_componentWillMount(){var{lastFragment:e,placesUrl:o}=this.props;this.setState({backUrl:e||o})}UNSAFE_componentWillReceiveProps(e){var{locationId:o,query:t={},requestData:r}=this.props,{sort:a}=t,c=i()(t,s.Z9),{locationId:l,query:m={}}=e,{sort:d}=m,u=i()(m,s.Z9);o===l&&a===d&&n()(c,u)||r(l,d,m)}componentDidUpdate(){var{count:e,placesUrl:o}=this.props;0===e&&(0,h.A)(o)}get pageUrlModel(){var{locationId:e,placesUrl:o,query:t}=this.props;return new d.A(o,t).addPath(encodeURIComponent(e))}renderGallery(){var{nodeId:e,collection:o,faceEditEnabled:t,clusterId:r}=this.props,{pageUrlModel:n}=this;return o&&e?c.createElement(L,{ilbConfig:{name:"placesDetailGallery",isActive:!0},showFavorite:!0,collection:o,nodeId:e,pageUrlModel:n,faceEditingVisible:t,defaultPersonId:r}):null}renderGrid(){var{collection:e,galleryUrl:o,nodeId:t,query:r={}}=this.props,{pageUrlModel:n}=this,a=n.clone().addPath(o);return c.createElement(S,{ilbConfig:{isActive:!t,name:"placesDetail"},query:r,collection:e,activeNodeId:t,transition:!0,sortOptions:N,currentSort:r.sort,placeSection:"sortDateUploaded"===r.sort?b.SU:b.Xo,pageUrlModel:n,emptyState:c.createElement("span",null)},(o=>{var{model:t,index:r,width:n,height:i,onSelectShiftClick:s}=o;return c.createElement(w.A,{key:t?t.id:r,onShiftClick:s,href:t?a.clone().addPath(t.id).toString():null,width:n,height:i,model:t},c.createElement(y.A,{collection:e,model:t}))}))}renderHeader(){var{location:e}=this.props,{backUrl:o}=this.state;return c.createElement("div",{className:"app-content header"},c.createElement(l.A,{name:"back",href:o},c.createElement(u.A,null,"amazon-photos-go-back-link")),e&&c.createElement(P.A,{showFullName:!0,model:e}))}renderSideNav(){var{collection:e,keyword:o}=this.props,{pageUrlModel:t}=this;return c.createElement(_.Ay,{collection:e,aggregationFilters:I,pageUrlModel:t,keyword:o})}render(){var{collection:e}=this.props;return c.createElement(k.A,{page:"places-detail",collection:e,enableSelectionDrag:!0,showPrimaryNav:!1,selectionButtons:T,header:this.renderHeader(),sideNavContent:this.renderSideNav(),edgeless:!0},this.renderGallery(),this.renderGrid())}}var requestData=(e,o,t)=>{m.A.emit("search",{keyword:new A.A({name:e,category:"location"}),context:"all",sort:o,query:t})};const O=m.A.connect((0,v.A)(PlacesDetailPage),[{store:C.A,setup:e=>{var{locationId:o,query:t={}}=e;requestData(o,t.sort,t)},teardown:()=>{C.A.suspend()},mapToProps:e=>_objectSpread(_objectSpread({},e),{},{requestData})},{store:M.A,mapToProps:["location"],setup:e=>{var{locationId:o}=e;m.A.emit("getLocationAggregation",o)}},{store:p.A,mapToProps:e=>{var{urls:o}=e;return{placesUrl:o.places,galleryUrl:o.gallery}}}])},92382:(e,o,t)=>{t.d(o,{A:()=>f});var r=t(55378),n=t.n(r),a=t(96540),i=t(35994),c=t(94788),s=t(6687),l=t(49907),m=t(47389),d=t(18742),u=t(46600),p=t(40248),h=t(33004),g=t(7707),v=t(82569),y=(0,s.A)(u.Ay);const f=i.A.connect((e=>{var{query:o,placesUrl:t,collection:r}=e,i=new m.A(t,o),s=a.createElement(l.A,{status:"completed"});return a.createElement(p.A,{page:"places"},a.createElement("header",{className:"places-header"},a.createElement("h1",null,a.createElement(c.A,null,"amazon-photos-nav-places"))),a.createElement(y,{ilbConfig:{isActive:!0,name:"places"},collection:r,emptyState:a.createElement(g.A,null),useWindowScroll:!0,useGridLayout:!0,pageSize:24},(e=>{var{models:o}=e;return n()(o,((e,o)=>a.createElement(h.A,{key:e?e.id:o,href:e?i.clone().addPath(encodeURIComponent(e.id)).toString():null,model:e})))})),s)}),[{store:v.A,setup:()=>{i.A.emit("getPlaces")}},{store:d.A,mapToProps:e=>{var{urls:o}=e;return{placesUrl:o.places}}}])},81686:(e,o,t)=>{t.d(o,{A:()=>ReportAbusePage});var r=t(96540),n=t(1683),a=t(66569),i=t(45591),c=t(71086),s=t(94788),l=t(43840),m=t(25981),d=t(40248),u=t(75758),_onSubmit=e=>{var{backUrl:o,hideNav:t,eventTag:r}=e,i=c.A.getPageContext();t?window.location.href="photosclient://close":(o&&(0,a.A)(o,{replace:!0}),n.A.log("ReportAbuse",{eventTag:r},i))};function ReportAbusePage(e){var o,t,{query:n={}}=e,{backUrl:a,hide_nav:c,reactionId:p,nodeId:h,groupId:g,ownerId:v,collectionId:y}=n;if(a){var{isLocal:f}=(0,i.A)(a);f||(a=void 0)}p?(o="comment",t=u.GL):(o=h?"single_photo":"group_level",t=h?u.QG:u.UP);var b=a?r.createElement(l.A,{href:a,name:"back"},r.createElement(s.A,null,"amazon-photos-go-back-link")):null;return r.createElement(d.A,{page:"report-abuse-page",showPrimaryNav:!1,header:b},r.createElement(m.A,{shareType:t,shareId:g,nodeId:p||h,ownerId:v,collectionId:y,hideFormButton:Boolean(c),onSubmit:()=>_onSubmit({backUrl:a,hideNav:c,eventTag:o})}))}},7523:(e,o,t)=>{t.d(o,{A:()=>B});var r=t(63950),n=t.n(r),a=t(43346),i=t.n(a),c=t(2404),s=t.n(c),l=t(44383),m=t.n(l),d=t(62216),u=t.n(d),p=t(96540),h=t(55488),g=t(43840),v=t(68),y=t(18742),f=t(35994),b=t(47389),k=t(71086),_=t(94788),A=t(61738),P=t(6687),E=t(53540),w=t(1683),M=(t(90801),t(49879)),C=t(480),S=t(80442),L=t(40248),N=t(53037),T=t(86737),I=t(87937),O=t(91747),D=t(36482),x=t(91407),U=t(66361),z=t(65536),F=(t(49479),(0,P.A)(S.A)),G=(0,P.A)(O.A),j=["favorite","type","time","things","people","location","familyMembers"],q=[E._6.SortDateTaken,E._6.SortDateUploaded],V=[E._6.SortRelevance,E._6.SortDateTaken],R={["".concat(E.Y5.SemanticRelevance," DESC")]:E._6.SortRelevance,["".concat(E.Y5.ContentDate," DESC")]:E._6.SortDateTaken};class SearchPage extends p.Component{UNSAFE_componentWillMount(){this.backUrl=k.A.getProperty("lastFragment"),(null===this.backUrl||u()(this.backUrl))&&(this.backUrl=y.A.getProperty("urls.all")),U.A.notifyComponent(this,"searchStore"),A.A.notifyComponent(this,"viewportStore","size");var{category:e,name:o,query:t={}}=this.props,{sort:r,searchContext:n}=t;f.A.emit("searchEngage"),this.updateContent(e,o,r,n,t)}componentDidMount(){var{searchStore:e}=this.state;e.collection.listen(this.onCollectionChange.bind(this),this)}UNSAFE_componentWillReceiveProps(e){var{category:o,name:t,query:r={}}=this.props,{sort:n,searchContext:a}=r,i=m()(r,h.Z9),{category:c,name:l,query:d={}}=e,{sort:u,searchContext:p}=d,g=m()(d,h.Z9);o===c&&t===l&&n===u&&a===p&&s()(i,g)||this.updateContent(c,l,u,p,d)}componentWillUnmount(){U.A.endNotifications(this),A.A.endNotifications(this,!1);var{searchStore:e}=this.state;e.collection.unListen(null,this),f.A.emit("searchDisengage")}onCollectionChange(){var{searchStore:e}=this.state,{collection:o}=e||{};Number.isFinite(o&&o.count)&&this.setState({count:o.count})}getSemanticSortOption(){var e,o;if(!this.isSemanticResult())return null;var{searchStore:t}=this.state,r=null==t||null===(e=t.collection)||void 0===e?void 0:e.sortedBy;return r&&null!==(o=R[r])&&void 0!==o?o:E._6.SortRelevance}isSemanticResult(){var{category:e}=this.props;return(0,z.u)()&&"all"===e}updateContent(e,o,t,r,n){f.A.emit("search",{keyword:new I.A({category:e,name:o}),query:n,sort:t,context:"people"===e?"customer":r})}logSearchResultClickMetric(e,o){var t=e.indexOf(null==o?void 0:o.id);!this.isSemanticResult()||t<0||w.A.log("SearchPhotoView",{eventCount:t},k.A.getPageContext())}renderPhotoBrowser(e,o,t){var r,{query:a,nodeId:c,category:s,name:l}=this.props,m=new b.A(o.base+y.A.getProperty("urls.gallery"),o.query),d=p.createElement(x.A,null),u=null!==(r=null==a?void 0:a.sort)&&void 0!==r?r:this.getSemanticSortOption(),h=this.isSemanticResult()&&u===E._6.SortRelevance,g=(null==a?void 0:a.sort)===E._6.SortDateUploaded?M.SU:M.Xo,v={name:"basicListGrid",isActive:!t,changeHash:i()({category:s,name:l},a)};return p.createElement(F,{ilbConfig:v,query:a,collection:e,activeNodeId:c,currentSort:u,pageUrlModel:o,emptyState:d,sortOptions:this.isSemanticResult()?V:q,hideScrubber:h,placeSection:h?n():g},(o=>{var t,{model:r,width:n,height:a,onSelectShiftClick:i,index:c}=o,s=r?r.id:c;return r&&(t=m.clone().addPath(r.id).toString()),p.createElement(D.A,{key:s,onShiftClick:i,href:t,width:n,height:a,model:r,onLinkClick:()=>this.logSearchResultClickMetric(e,r)},p.createElement(C.A,{collection:e,model:r}))}))}render(){var e,o,{query:t,nodeId:r,category:n,name:a}=this.props,{count:i,searchStore:c={},viewportStore:s={}}=this.state,{collection:l,context:m,keyword:d}=c,{size:u}=s,h=0===i,f=u&&u.mobile||h?["a",null,"a"]:["a",null,"b"],k="".concat(y.A.getProperty("urls.search"),"/").concat(encodeURIComponent(n),"/").concat(encodeURIComponent(a)),A=new b.A(k,t),P=this.renderPhotoBrowser(l,A,e);"people"!==n&&(o=p.createElement(T.A,{pageUrlModel:A,activeTab:m})),l&&r&&(e=p.createElement(G,{ilbConfig:{name:"searchGallery",isActive:!0,changeHash:r},showFavorite:!0,collection:l,nodeId:r,pageUrlModel:A}));var E=h?null:p.createElement(N.Ay,{collection:l,aggregationFilters:j,pageUrlModel:A,keyword:d}),w=p.createElement(v.A,{sizeGroups:f},p.createElement(g.A,{name:"search-back-click",href:this.backUrl,id:"search-back",className:"back"},p.createElement(_.A,null,"amazon-photos-go-back-link")),o,null);return p.createElement(L.A,{page:"search",collection:l,enableSelectionDrag:!0,showPrimaryNav:!1,header:w,sideNavContent:E,selectionButtons:["recents","share","download","addToAlbum","buyPrints","toggleFamily","editDateAndTime","editLocation","trash"],edgeless:!0},P,e)}}const B=SearchPage},51998:(e,o,t)=>{t.d(o,{A:()=>L});var r=t(96540),n=t(74692),a=t.n(n),i=t(43840),c=t(68),s=t(35994),l=t(49907),m=t(94788),d=t(17667),u=t(21572),p=t(18742),h=t(97463),g=t(40248),v=t(68286),y=t(9240),f=t(71730),b=t(42437),k=t(25205),_=t(56456),A=t(8156),P=t(64e3),E=t(54303),w=t(87942),M=t(75805),C=t(56424),S=t(8316);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class SettingsPage extends r.Component{constructor(e){super(e),_defineProperty(this,"state",{activeTab:"edit-personal"}),_defineProperty(this,"onToggleChange",(e=>{this.setState({activeTab:e.id})}));var{query:o}=this.props;o.recognitionOnly&&a()(document.body).addClass("no-header")}componentWillUnmount(){s.A.emit("settingsPageUnmount")}getTabs(){var{familyVaultMemberCount:e}=this.props,o={id:"edit-personal",title:(0,u.A)("amazon-photos-personal-settings-heading")},t={id:"edit-family",title:(0,u.A)("amazon-photos-family-settings-heading")},r=[o,{id:"edit-image-recognition",title:(0,u.A)("amazon-photos-image-recognition-settings-heading")}];return(0,y.Z)(e)&&r.splice(1,0,t),r}createPageJSX(){var{activeTab:e}=this.state,{isAlexaSyncOn:o,alexaCapability:t}=this.props,n=d.A.isOn("family-vault");switch(e){case"edit-family":return r.createElement("section",{className:"settings-content family"},r.createElement(f.A,null),r.createElement(b.A,null));case"edit-personal":return r.createElement("section",{className:"settings-content personal"},r.createElement(w.A,null),r.createElement(M.A,null),r.createElement(_.A,null),n&&r.createElement(v.A,null),t&&r.createElement(S.A,{isAlexaSyncOn:o}),r.createElement(A.A,null));case"edit-image-recognition":return r.createElement("section",{className:"settings-content image-recognition"},r.createElement(E.A,null));default:throw new Error("Unrecognized edit page mode ".concat(e))}}render(){var{query:e}=this.props,o="settings";if(e.recognitionOnly)return r.createElement(g.A,{page:o,showPrimaryNav:!1},r.createElement("section",{className:"settings-content personal"},r.createElement(P.A,{showExternalLink:!1})),r.createElement(l.A,{status:"completed"}));var{activeTab:t}=this.state,n=e&&e.returnUrl||p.A.getProperty("urls.all"),a=this.getTabs(),s=r.createElement(c.A,{sizeGroups:["a",null,"a"]},r.createElement(i.A,{name:"settingsBackLink",className:"back",href:n},r.createElement(m.A,null,"amazon-photos-go-back-link")),r.createElement(C.A,{activeTab:t,id:"settings-toggle",onChange:this.onToggleChange,tabs:a}),null);return r.createElement(g.A,{page:o,showPrimaryNav:!1,header:s},this.createPageJSX(),r.createElement(l.A,{status:"completed"}))}}const L=s.A.connect(SettingsPage,[{store:h.A,mapToProps:["alexaCapability","isAlexaSyncOn"]},{store:k.A,mapToProps:function mapToProps(){var e,{members:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{familyVaultMemberCount:null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0}}}])},59452:(e,o,t)=>{t.d(o,{b:()=>SharedAlbumLandingPage});var r=t(96540),n=t(63734),a=t(35994),i=t(47389),c=t(62076),s=t(95871),l=t(67316),m=t(3330),d=t(55858),u=t(75758),p=t(14681),h=t(44592),g=t(36898),SharedAlbumLandingPage=e=>{var{token:o,query:t,nodeId:v}=e,y=(0,s.jL)(),{collection:f}=(0,n.N)(l.X,(e=>({collection:e.collection}))),b=(0,s.GV)(c.CR);(0,r.useEffect)((()=>{y((0,c.qL)(c.I9.sharedAlbum)),y((0,c.$0)(o))}),[]),(0,r.useEffect)((()=>{if(o){var e=g.CT.builder().resourceType(p.vt.shareToken).resourceId(o).build(),t=g.CT.toShortFormString(e);h.y.describeShare({resourceId:t}).then((e=>{y((0,c.MT)(e.share))}))}}),[o]),(0,r.useEffect)((()=>{b&&l.X.loadSharedAlbum({token:o})}),[b]);var k=new i.A(document.location.pathname,t);return r.createElement(m.A,{collection:f,nodeId:v,query:t,pageUrlModel:k,onReportAbuseClick:()=>{return e=null==b?void 0:b.participants.find((e=>e.permissionRole===p.EK.owner)),t=null!=e&&e.participantId?g.CT.parseArn(null==e?void 0:e.participantId).accountId():null,void a.A.emit("openDialog",{component:d.A,props:{shareType:u.V8,nodeId:v,shareId:o,ownerId:t}});var e,t}})}},53388:(e,o,t)=>{t.d(o,{Ay:()=>usePermanentlyDeleteShareLinks});var r=t(21013),n=t.n(r),a=t(96540),i=t(42843),c=t(78439),s=t(13489);function asyncGeneratorStep(e,o,t,r,n,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?o(s):Promise.resolve(s).then(r,n)}var l=50,purgeShareLinks=e=>new Promise(((o,t)=>{c.A.permanentlyDelete({nodes:e,recurse:!1,doNotAlertOnFatal:!0}).done((e=>{s.A.log({name:"PurgeShareLinksSuccess"}),o(e)})).fail((e=>{var{responseJSON:o}=e||{},{code:r}=o||{};s.A.log({name:"PurgeShareLinksFailure"}),t(r)}))}));function usePermanentlyDeleteShareLinks(e){var{nodes:o,onSuccess:t,onFailure:r,onProgress:c}=e,[s,m]=(0,a.useState)(!1),d=(0,a.useRef)([]),recursivelyPurgeContent=e=>new Promise(((t,r)=>{var n=function(){var e=function _asyncToGenerator(e){return function(){var o=this,t=arguments;return new Promise((function(r,n){var a=e.apply(o,t);function _next(e){asyncGeneratorStep(a,r,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,r,n,_next,_throw,"throw",e)}_next(void 0)}))}}((function*(e){if(0!==e.length){var a=e.shift().flat();try{yield purgeShareLinks(a),d.current.push(...a);var i=Math.floor(d.current.length/o.length*100);c&&c({progress:i,deletedNodes:d.current}),yield n(e),t(d.current)}catch(e){r(e)}}else t(d.current)}));return function recursivelyPurgeContentAsync(o){return e.apply(this,arguments)}}();n(e)}));return{permanentlyDeleteShareLinks:()=>{if(!s){m(!0);var e=n()(o,l);recursivelyPurgeContent(e).then((()=>{t&&setTimeout((()=>{t({deletedNodes:d.current})}),i.A.MID)})).catch((()=>{r&&r({deletedNodes:d.current})})).finally((()=>{m(!1)}))}}}}},11656:(e,o,t)=>{t.d(o,{A:()=>shares_list_wrapper});var r=t(96540),n=t(17667),a=t(18742),i=t(54318),c=t(55378),s=t.n(c),l=t(35994),m=t(61738),d=t(43840),u=t(68),p=t(94788),h=t(47389),g=t(73509),v=t(46600),y=t(40248),f=t(13883),b=t(18123),k=t(36482);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_extends.apply(this,arguments)}const _=l.A.connect((e=>{var{backUrl:o,collection:t,size:n}=e,{shareList:i,shareListPrevious:c}=a.A.getProperty("urls",{}),l={href:new h.A(c,{backUrl:i}).toString()},m=d.A,f=new h.A(i),_=n.mobile?["a",null,"c"]:["a",null,"a"],A=r.createElement(u.A,{sizeGroups:_},r.createElement(d.A,{className:"back",name:"back",href:o},r.createElement(p.A,null,"amazon-photos-go-back-link")),r.createElement("h1",null,r.createElement(p.A,null,"amazon-photos-shared-links")),r.createElement(m,_extends({name:"more-links",className:"button secondary"},l),r.createElement(p.A,null,"amazon-photos-previous-shared-links")));return r.createElement(y.A,{page:"group-shares",showPrimaryNav:!1,header:A,selectionButtons:["deleteGroupShare"],edgeless:!0},r.createElement(v.Ay,{pageSize:12,collection:t,emptyState:r.createElement(b.fR,null),useWindowScroll:!0,useGridLayout:!0},(e=>{var{models:o,onSelectShiftClick:t}=e;return s()(o,((e,o)=>r.createElement("div",{className:"group-share-item",key:e?e.id:o},r.createElement("div",{className:"inner"},r.createElement("div",{className:"thumbnail"},r.createElement(g.t$,null,(o=>{var{width:n,height:a}=o;return r.createElement(k.A,{onShiftClick:t,href:e&&f.clone().addPath(e.id).toString(),width:n,height:a,model:e})}))),r.createElement("div",{className:"details"},r.createElement("p",null,e&&e.name))))))})))}),[{store:f.A,setup:e=>l.A.emit("getGroupShares",e),teardown:()=>f.A.suspend()},{store:m.A,mapToProps:["size"]}]);var A=t(71468),P=t(87909),E=t(6796),w=t(42026);const M="non-groups-shares-list-empty-state-module__sharesEmptyStateImage__VJFLF";const non_groups_shares_list_empty_state=()=>r.createElement(w.A,{name:"NonGroupsSharesListEmptyState"},r.createElement("img",{alt:"empty-state",className:M,src:"https://dcupkcmoyuvm5.cloudfront.net/pngs/empty-state-non-groups-share-list.png"}),r.createElement("h3",null,r.createElement(p.A,null,"amazon-photos-shares-list-empty-heading")),r.createElement("p",null,r.createElement(p.A,null,"amazon-photos-shares-list-empty-content")));var C=t(5556),S=t.n(C),L=t(14324),N=t(10384),T=t(21327),I=t(88632),O=t(54205),D=t(7160);const x="non-groups-shares-table-module__link__boYPv";var NonGroupsSharesTable=e=>{var{selectionLimit:o,selection:t}=e,n=(0,A.wA)(),a=(0,A.d4)(E.uJ),i=(0,A.d4)(E.bV),c=(0,A.d4)(E.pN),s=(0,A.d4)(E.GG);return r.createElement(D.A,{fetchContent:()=>{i||n((0,P.Dg)())},headingName:r.createElement(p.A,null,"amazon-photos-shares-list-links"),headingDate:r.createElement(p.A,null,"amazon-photos-shares-list-date-created"),hydrateAllPages:()=>n((0,P.Bp)(o)),infiniteScrollRowCount:c,totalCount:s,models:a,itemPropsFactory:e=>{var{shareId:o}=e,n=(0,N.A)(o),a="_blank",i="shares-list-node";return{isSelectable:!0,showSecondaryInfo:!0,nodePreview:r.createElement(O.A,{className:x,href:n,name:i,shouldStopPropagation:!0,target:a},r.createElement(I.A,{model:e})),name:r.createElement(O.A,{className:x,href:n,name:i,shouldStopPropagation:!0,target:a},e.name),canClickRow:!0,isNodeSelected:t.isSelected(e.id)}},useWindowScroller:!0})};NonGroupsSharesTable.propTypes={selectionLimit:S().number.isRequired,selection:S().instanceOf(T.A).isRequired};const U=l.A.connect(NonGroupsSharesTable,[{store:L.A,mapToProps:e=>{var{maxSelectAllCount:o,selection:t}=e;return{selectionLimit:o,selection:t}}}]),z="non-groups-shares-list-page-contents-module__sharesCount__ut1EH";const non_groups_shares_list_page_contents=()=>{var e=(0,A.wA)();(0,r.useEffect)((()=>{e((0,P.wK)())}),[]);var o=(0,A.d4)(E.xh),t=(0,A.d4)(E.t5),n=(0,A.d4)(E.GG),a=r.createElement("div",{className:"loading","aria-live":"polite"});return o||(a=r.createElement(r.Fragment,null,r.createElement("span",{className:z},r.createElement(p.A,{replace:n,count:n},"amazon-photos-shares-list-shared-links-count")),t?r.createElement(non_groups_shares_list_empty_state,null):r.createElement(U,null))),r.createElement("section",{id:"non-groups-shares-list-contents"},a)};var F=t(70471),G=t(14127),j=t(49907);const q="non-groups-shares-list-module__back__snnRN",V="non-groups-shares-list-module__header__fUWVV",R="non-groups-shares-list-module__title__fznb4",B="non-groups-shares-list-module__titleText__yt9g6";const non_groups_shares_list=e=>{var{backUrl:o}=e,t=r.createElement("div",{className:V},r.createElement("div",{className:q},r.createElement(d.A,{className:"back",name:"back",href:o},r.createElement(p.A,null,"amazon-photos-go-back-link"))),r.createElement("div",{className:R},r.createElement("h1",{className:B},r.createElement(p.A,null,"amazon-photos-shared-links"))),r.createElement("span",{className:q}));return r.createElement(y.A,{page:"non-groups-shares",showPrimaryNav:!1,header:t,selectionButtons:[F.q]},r.createElement(G.A,{attribution:"non-groups-shares-list"},r.createElement(non_groups_shares_list_page_contents,null),r.createElement(j.A,{status:"completed"})))};const shares_list_wrapper=e=>{var{query:o={}}=e,{all:t}=a.A.getProperty("urls",{}),{backUrl:c,previousLinks:s}=o;c||(c=t);var l=n.A.isOn(i.jy.GroupsEnabled);return"1"===s?r.createElement(non_groups_shares_list,{backUrl:c}):l?r.createElement(_,{backUrl:c}):r.createElement(non_groups_shares_list,{backUrl:c})}},47178:(e,o,t)=>{t.d(o,{A:()=>S});var r=t(55378),n=t.n(r),a=t(96540),i=t(5556),c=t.n(i),s=t(95093),l=t.n(s),m=t(35994),d=t(47389),u=t(49907),p=t(94788),h=t(42852),g=t(18742),v=t(90801),y=t(6687),f=t(43840),b=t(46600),k=t(71976),_=t(49507),A=t(89873),P=t(40248),E=t(84632),w=t(76734);function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var M=(0,y.A)(b.Ay),C=(0,y.A)(k.A);class StoriesPage extends a.Component{constructor(e){super(e),this.pageUrlModel=new d.A(g.A.getProperty("urls.stories"))}renderHeader(e,o,t){if(e&&o){var r=l()(e.activationDate);if(t>0&&o[t-1]){var n=l()(o[t-1].activationDate);if(r.isSameOrAfter(n,"day"))return}return a.createElement("h3",null,new A.A(r).displayDate)}}renderGallery(){var{collection:e,nodeId:o}=this.props;if(!o)return null;var t={name:"storiesGallery",isActive:!0,changeHash:o};return a.createElement(C,{ilbConfig:t,collection:e,startNodeId:o,pageUrlModel:this.pageUrlModel,backUrl:this.pageUrlModel.toString()})}render(){var{collection:e}=this.props,o=this.renderGallery(),t=e.count&&!o?a.createElement(u.A,{status:"completed"}):null,r={name:"stories",isActive:!o};return a.createElement(P.A,{page:"stories"},a.createElement("header",{className:"stories-header"},a.createElement("h1",null,a.createElement(p.A,null,"amazon-photos-stories-nav"))),a.createElement(M,{ilbConfig:r,pageSize:60,collection:e,useWindowScroll:!0,useGridLayout:!0,emptyState:a.createElement(w.A,null)},(e=>{var{models:o}=e;return n()(o,((e,t)=>a.createElement("div",{key:e&&e.id||t},a.createElement("div",{className:"stories-date-section"},this.renderHeader(e,o,t)),a.createElement(f.A,{name:"story-link",key:e&&e.id||t,href:e&&this.pageUrlModel.clone().addPath(e.id).toString()},a.createElement(_.C,{model:e})))))})),o,t)}}_defineProperty(StoriesPage,"contextTypes",{pageContext:c().string.isRequired}),_defineProperty(StoriesPage,"propTypes",{collection:c().instanceOf(v.A).isRequired});const S=m.A.connect((0,h.A)(StoriesPage),{store:E.A,setup:()=>{m.A.emit("listStories")},teardown:()=>E.A.suspend()})},24068:(e,o,t)=>{t.d(o,{Ay:()=>K});var r=t(62193),n=t.n(r),a=t(96540),i=t(5556),c=t.n(i),s=t(51158),l=t(74692),m=t.n(l),d=t(95093),u=t.n(d),p=t(35994),h=t(18742),g=t(43840),v=t(94788),y=t(1683),f=t(47389),b=t(6687),k=t(84503),_=t(21572),A=t(14324),P=t(66362),E=t(80442),w=t(40248),M=t(17234),C=t(19984),S=t(36482),L=t(480),N=t(91747),T=t(30928),I=["requestData","selectMode","thisDayArchives","query"],O=["requestData","month","day","year","query"],D=["requestData","selectMode","thisDayArchives","month","day","year","query","loading"],x=["year"];function ownKeys(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(t),!0).forEach((function(o){_defineProperty(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function _objectWithoutProperties(e,o){if(null==e)return{};var t,r,n=function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};var t,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||(n[t]=e[t]);return n}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var U=(0,b.A)(E.A),z=(0,b.A)(N.A),F="MM-DD-YYYY",G="days",j=["recents","share","download","addToAlbum","buyPrints","editDateAndTime","editLocation","trash"],q=["share"],V=["mosaic"],R="customer",B="SwitchDay",H="SwitchDayFuture",W="with_content",Q="empty_state";class ThisDayPage extends a.Component{constructor(){super(...arguments),_defineProperty(this,"shouldLogSwitchDayMetric",!1),_defineProperty(this,"state",{showAllSelectionOptions:!0}),_defineProperty(this,"onShareClick",(()=>{var{selectAll:e}=this.props;this.setState({showAllSelectionOptions:!1}),e()})),_defineProperty(this,"logSwitchDayMetric",(()=>{var{isEmpty:e,month:o,day:t,year:r}=this.props,{initialDateMoment:n}=this.state,{pageContext:a}=this.context,i=u()("".concat(o,"-").concat(t,"-").concat(r),F),c=e?Q:W,s=n.diff(i,"days"),l=s<0?H:B,m=Math.abs(s);y.A.log(l,{eventTag:c,eventCount:m},a)})),_defineProperty(this,"requestDataForGivenDate",(e=>{this.shouldLogSwitchDayMetric=!0;var o=this.props,{requestData:t,selectMode:r,thisDayArchives:n,query:a={}}=o,i=_objectWithoutProperties(o,I),c=R,s={month:e.format("MM"),day:e.format("DD"),year:e.format("YYYY")};return t(_objectSpread(_objectSpread({},i),{},{query:a,searchContext:c,loadThisDayYear:!0,date:s}))})),_defineProperty(this,"renderHorizontalDatePickerHeader",((e,o)=>a.createElement("section",{className:"this-day-header"},a.createElement(g.A,{name:"back",href:o},a.createElement(v.A,null,"amazon-photos-go-back-link")),a.createElement(P.A,{initialSelectedDate:e,startDate:e.clone().subtract(31,G),onDateClick:this.requestDataForGivenDate,endDate:e.clone().add(17,G)}))))}componentDidMount(){var e=this.props,{requestData:o,month:t,day:r,year:n,query:a={}}=e,i=_objectWithoutProperties(e,O),c=R,s={month:t,day:r,year:n};this.setState({initialDateMoment:u()("".concat(t,"-").concat(r,"-").concat((new Date).getFullYear()),F)}),o(_objectSpread(_objectSpread({},i),{},{date:s,query:a,searchContext:c,loadThisDayYear:!0}))}componentDidUpdate(e){var o=this.props,{requestData:t,selectMode:r,thisDayArchives:n,month:a,day:i,year:c,query:s={},loading:l}=o,m=_objectWithoutProperties(o,D),d={month:a,day:i,year:c},{showAllSelectionOptions:u}=this.state,p=!e.thisDayArchives&&n,h=e.month!==a||e.day!==i||e.year!==c,g=R;(p||h)&&this.scrollToDate(),h&&t(_objectSpread(_objectSpread({},m),{},{date:d,query:s,searchContext:g,loadThisDayYear:!0})),!e.selectMode||r||u||this.setState({showAllSelectionOptions:!0}),this.shouldLogSwitchDayMetric&&e.loading&&!l&&(this.shouldLogSwitchDayMetric=!1,this.logSwitchDayMetric())}get pageUrlModel(){var{thisDayUrl:e,month:o,day:t,storeYear:r}=this.props,n=new f.A(e);return o&&t&&r?n.addPath("".concat(o,"-").concat(t,"-").concat(r)):r?n.addPath("".concat(r)):o&&t&&n.addPath("".concat(o,"-").concat(t)),n}get dateMoment(){var{month:e,day:o,storeYear:t}=this.props;return u().utc([t,e-1,o])}scrollToDate(){var e,{scrollToPosition:o}=this.props;this.dateTitle&&(e=m()(this.dateTitle).offset().top)>window.innerHeight&&o(e-75)}renderGallery(){var{nodeId:e,collection:o,faceEditEnabled:t,clusterId:r}=this.props,{pageUrlModel:n}=this;return o&&e?a.createElement(z,{ilbConfig:{name:"thisDayGallery",isActive:!0,changeHash:e},collection:o,nodeId:e,pageUrlModel:n,faceEditingVisible:t,defaultPersonId:r,showFavorite:!0}):null}renderGrid(){var{collection:e,galleryUrl:o,nodeId:t,query:r={},monthDay:i,storeYear:c,error:s,thisDayArchives:l}=this.props,{pageUrlModel:m}=this,d=m.clone().addPath(o);return s||n()(l)?null:a.createElement(U,{ilbConfig:{name:"thisDayGrid",isActive:!t,changeHash:"".concat(i.month,"-").concat(i.day,"-").concat(c)},activeNodeId:t,collection:e,displayOptions:V,currentSort:r.sort,emptyState:a.createElement("span",null)},(o=>{var{model:t,index:r,width:n,height:i,onSelectShiftClick:c}=o;return a.createElement(S.A,{key:t?t.id:r,onShiftClick:c,href:t?d.clone().addPath(t.id).toString():null,width:n,height:i,model:t},a.createElement(L.A,{collection:e,model:t}))}))}renderHeader(){var{allPhotosUrl:e}=this.props,{initialDateMoment:o}=this.state,t=e,r=o||u()();return this.renderHorizontalDatePickerHeader(r,t)}renderYearPicker(){var{thisDayArchives:e,storeYear:o,loading:t}=this.props;return!e||t&&!o?null:a.createElement("div",null,a.createElement(T.A,{years:e,selected:o}),a.createElement("h3",{className:"date-title",ref:e=>{this.dateTitle=e}},a.createElement(v.A,{replace:[o]},"amazon-photos-this-day-year")))}renderShareButton(){var{thisDayArchives:e,selectMode:o}=this.props;return o||!e?null:a.createElement(k.A,{className:"share-button",name:"shareFab",onClick:this.onShareClick,metricOverrides:{eventTag:"share_groups_T1"}},(0,_.A)("amazon-photos-share-link"))}render(){var{monthDay:e,isEmpty:o,invalidDate:t,collection:r}=this.props;if(!e)return null;var{showAllSelectionOptions:n}=this.state,i=n?j:["toggleFamily"].concat(q);return a.createElement(w.A,{page:"this-day",collection:r,enableSelectionDrag:!0,showPrimaryNav:!1,selectionButtons:i,edgeless:!0},t&&a.createElement(C.A,{header:"amazon-photos-thisday-invalid-date"}),this.renderHeader(),!o&&!t&&a.createElement("div",null,this.renderGallery(),this.renderYearPicker(),this.renderShareButton(),this.renderGrid()),o&&a.createElement(C.A,{header:"amazon-photos-this-day-empty-state-header",monthDay:e}))}}_defineProperty(ThisDayPage,"defaultProps",{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()}),_defineProperty(ThisDayPage,"propTypes",{month:c().oneOfType([c().string,c().number]),day:c().oneOfType([c().string,c().number]),year:c().oneOfType([c().string,c().number]),query:c().shape({}),selectAll:c().func.isRequired,scrollToPosition:c().func.isRequired,thisDayUrl:c().string.isRequired,galleryUrl:c().string.isRequired,allPhotosUrl:c().string.isRequired,requestData:c().func.isRequired,monthDay:c().shape({month:c().number,day:c().number}),storeYear:c().number,thisDayArchives:c().object,collection:c().instanceOf(s.A),nodeId:c().string,invalidDate:c().bool,selectMode:c().bool,loading:c().bool}),_defineProperty(ThisDayPage,"contextTypes",{pageContext:c().string.isRequired});var requestData=e=>p.A.emit("listThisDayCollections",e),selectAll=()=>p.A.emit("selectAllThisDay"),scrollToPosition=e=>p.A.emit("setScroll",{position:e,transition:!0});const K=p.A.connect(ThisDayPage,[{store:M.A,mapToProps:e=>{var{year:o}=e;return _objectSpread(_objectSpread({},_objectWithoutProperties(e,x)),{},{storeYear:o,requestData,selectAll,scrollToPosition})},teardown:()=>M.A.suspend()},{store:A.A,mapToProps:["selectMode"]},{store:h.A,mapToProps:e=>{var{urls:o}=e;return{thisDayUrl:o.thisday,galleryUrl:o.gallery,allPhotosUrl:o.all}}}])},92677:(e,o,t)=>{t.d(o,{A:()=>M});var r=t(96540),n=t(43840),a=t(35994),i=t(94788),c=t(32485),s=t.n(c),l=t(18742),m=t(6687),d=t(42852),u=t(80442),p=t(40248),h=t(95785),g=t(4256),v=t(36482),y=t(7161),f=t(57891),b=["mosaic"],k=["grid-lg"],_=["grid-med"],A=(0,m.A)(u.A),P="PHOTOS_AND_VIDEOS",E="ALBUMS_AND_FOLDERS",w="OTHER";const M=a.A.connect((0,d.A)((e=>{var{trashUrl:o,collection:t,query:a={}}=e,[c,l]=(0,r.useState)(P);(0,r.useEffect)((()=>{"albums"===a.view?l(E):"other"===a.view?l(w):l(P)}),[a]);return r.createElement(p.A,{page:"trash",selectionButtons:["restore","delete"],collection:t},r.createElement("header",{className:"header"},r.createElement("h1",null,r.createElement(i.A,null,"amazon-photos-trash-header"))),r.createElement("section",{className:"info"},r.createElement("div",{className:"controls"},r.createElement("div",{className:"album-toggle"},r.createElement(n.A,{href:"".concat(o,"?view=photos"),name:"toggle-photos",className:s()({active:c===P})},r.createElement(i.A,null,"amazon-photos-trash-photos-and-videos")),r.createElement(n.A,{href:"".concat(o,"?view=albums"),name:"toggle-albums",className:s()({active:c===E})},r.createElement(i.A,null,"amazon-photos-trash-albums-and-folders")),r.createElement(n.A,{href:"".concat(o,"?view=other"),name:"toggle-other",className:s()({active:c===w})},r.createElement(i.A,null,"amazon-photos-trash-other")))),t.count>0&&r.createElement("aside",{className:"auto-purge-notice"},r.createElement(i.A,null,"amazon-photos-trash-auto-purge-notice"))),r.createElement(A,{ilbConfig:{name:"trashGrid",isActive:!0,changeHash:a.view},displayOptions:(()=>{switch(c){case E:return k;case w:return _;default:return b}})(),collection:t,emptyState:r.createElement(y.A,null),key:a.view},(e=>{var{model:o,index:t,width:n,height:a,onSelectShiftClick:i}=e,s=(e=>{var o;switch(c){case E:e&&"ALBUM"===e.contentType?o=h.A:e&&"FOLDER"===e.contentType&&(o=g.A);break;case w:o=g.A;break;default:o=v.A}return o})(o);return r.createElement(s,{key:o?o.id:t,onShiftClick:i,width:n,height:a,selectFromAnywhere:!0,model:o})})))})),[{store:f.A,setup:e=>{var{query:o}=e;a.A.emit("getTrash",{query:o})},onUpdate:e=>{var{query:o}=e;a.A.emit("getTrash",{query:o})},teardown:()=>{f.A.suspend()}},{store:l.A,mapToProps:e=>{var{urls:o}=e;return{trashUrl:o.trash}}}])},24822:(e,o,t)=>{t.d(o,{A:()=>c});var r=t(96540),n=t(84503),a=t(94788),i=t(34332);function asyncGeneratorStep(e,o,t,r,n,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?o(s):Promise.resolve(s).then(r,n)}function _asyncToGenerator(e){return function(){var o=this,t=arguments;return new Promise((function(r,n){var a=e.apply(o,t);function _next(e){asyncGeneratorStep(a,r,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,r,n,_next,_throw,"throw",e)}_next(void 0)}))}}function _defineProperty(e,o,t){return(o=function _toPropertyKey(e){var o=function _toPrimitive(e,o){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:String(o)}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}class GetApps extends r.Component{constructor(){var e;super(...arguments),e=this,_defineProperty(this,"state",{showSuccess:!1,showError:!1,disabled:!1}),_defineProperty(this,"onSendEmailClick",_asyncToGenerator((function*(){e.setState({disabled:!0});try{yield i.A.sendEmailDownloadAppLink(),e.setState({showError:!1,showSuccess:!0})}catch(o){e.setState({showError:!0,disabled:!1})}}))),_defineProperty(this,"renderSendButton",(()=>{var{showSuccess:e,showError:o,disabled:t}=this.state;return r.createElement("div",null,r.createElement(n.A,{name:"send-email",onClick:this.onSendEmailClick,disabled:t},r.createElement(a.A,null,"amazon-photos-button-text-v2")),e&&r.createElement("p",{className:"success"},r.createElement(a.A,null,"amazon-photos-desktop-email-success")),o&&r.createElement("p",{className:"error"},r.createElement(a.A,null,"amazon-photos-desktop-email-failure")))}))}render(){return r.createElement("section",{className:"get-apps"},r.createElement("section",{className:"desktop-app"},r.createElement("header",null,r.createElement("img",{alt:"",src:"https://dcupkcmoyuvm5.cloudfront.net/devices-icon.png",height:"100",width:"110"}),r.createElement("h3",null,r.createElement(a.A,null,"amazon-photos-desktop-app-heading"))),r.createElement("ul",{className:"detail"},r.createElement("li",null,r.createElement("img",{alt:"",src:"https://dcupkcmoyuvm5.cloudfront.net/cloud.png",width:"26",height:"20"}),r.createElement("div",null,r.createElement("h3",null,r.createElement(a.A,null,"amazon-photos-cloud-heading")),r.createElement("p",null,r.createElement(a.A,null,"amazon-photos-cloud-description")))),r.createElement("li",null,r.createElement("img",{alt:"",src:"https://dcupkcmoyuvm5.cloudfront.net/rewind.png",width:"25",height:"23"}),r.createElement("div",null,r.createElement("h3",null,r.createElement(a.A,null,"amazon-photos-this-day-heading")),r.createElement("p",null,r.createElement(a.A,null,"amazon-photos-this-day-description")))),r.createElement("li",null,r.createElement("img",{alt:"",src:"https://dcupkcmoyuvm5.cloudfront.net/friends-icon.svg",width:"26",height:"26"}),r.createElement("div",null,r.createElement("h3",null,r.createElement(a.A,null,"amazon-photos-family-heading")),r.createElement("p",null,r.createElement(a.A,null,"amazon-photos-family-description"))))),this.renderSendButton()))}}const c=GetApps}}]);
//# sourceMappingURL=pages-86579d9e067bd3172959.js.map