"use strict";(globalThis.webpackChunk_amzn_amazon_photos_react=globalThis.webpackChunk_amzn_amazon_photos_react||[]).push([[890],{52105:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(38221),r=n.n(o),a=n(96540),i=n(5556),l=n.n(i),s=n(35994),c=n(71086),m=n(56718),u=n(84503),p=n(11354),d=n(94788),h=n(78439),g=n(18742),v=n(21572),f=n(66569),b=n(1683),y=n(42852),A=n(21327),E=n(46600),P=n(51315),C=n(54493),_=n(67517);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class AddToAlbumDialog extends a.PureComponent{constructor(){super(...arguments),_defineProperty(this,"state",{searching:!1}),_defineProperty(this,"onEscape",(()=>{var{getAlbums:e}=this.props;if(""!==this.searchInput.value)return this.searchInput.value="",e(),!1})),_defineProperty(this,"onKeyUpHandler",r()((()=>this.onAlbumSearch()),300)),_defineProperty(this,"onAlbumSearch",(()=>{var{getAlbums:e}=this.props;e({name:this.searchInput.value}),this.setState({searching:Boolean(this.searchInput.value)})})),_defineProperty(this,"onCreateAlbumClick",(()=>{var e=this.searchInput.value||(0,v.A)("amazon-photos-new-album-default-name");this.createNewAlbum(e)})),_defineProperty(this,"onAlbumCreated",(e=>{var{pageContext:t}=this.context;b.A.log("CreatePhotoAlbum",{eventTag:"Selection",eventCount:1},t),this.addItems(e.id)})),_defineProperty(this,"onAlbumCreateFail",(e=>{e.responseJSON.message.match(/invalid node name/)?this.createNewAlbum((0,v.A)("amazon-photos-new-album-default-name")):s.A.emit("showToast",{message:(0,v.A)("amazon-photos-generic-service-error"),className:"error"}),this.setState({inProgress:!1})})),_defineProperty(this,"onOperationProgress",(()=>{this.forceUpdate()})),_defineProperty(this,"onOperationDone",(()=>{var{operation:e}=this.state;s.A.emit("closeDialog"),(0,f.A)("".concat(g.A.getProperty("urls.album"),"/").concat(e.albumId),{historyState:{albumBackUrl:c.A.getProperty("fragment")}}),s.A.emit("navigatedToNewAlbum")})),_defineProperty(this,"onNodeClick",((e,t)=>{var{model:n}=t;this.nodeSelect(n)}))}UNSAFE_componentWillMount(){s.A.listen("add-to-album.escape",this.onEscape,this,2)}componentWillUnmount(){s.A.unListen("add-to-album.escape",this.onEscape,this)}nodeSelect(e){var{inProgress:t}=this.state;return t||this.addItems(e.id,e.name),!1}addItems(e,t){var{selection:n,removeUnowned:o}=this.props,r=!t,a=new P.A({albumId:e,albumName:t,showToast:!r,items:n.getNodes(),eventTag:"Selection",removeUnowned:o}).start();r?(this.setState({operation:a}),a.getPromise().progress(this.onOperationProgress).always(this.onOperationDone)):(s.A.emit("closeDialog"),a.getPromise().done((()=>{s.A.emit("infoUpdated")})))}createNewAlbum(e){this.setState({inProgress:!0}),h.A.createAlbum({name:e}).done(this.onAlbumCreated).fail(this.onAlbumCreateFail)}render(){var e,{collection:t,onClose:n,count:o,uid:r}=this.props,{operation:i,inProgress:l}=this.state,s=a.createElement(u.A,{name:"create-new-album",onClick:this.onCreateAlbumClick,disabled:l},a.createElement(d.A,null,"amazon-photos-create-new-album"));i&&(e=i.progressPercent);var c=[s];return 0===o&&c.push(a.createElement(_.A,null)),a.createElement(m.A,{name:"add-to-album",heading:(0,v.A)("amazon-photos-add-to-album"),onClose:n,progressPercent:e},a.createElement("form",{className:"add-to-album-search",onSubmit:this.onAlbumSearch},a.createElement("input",{ref:e=>{this.searchInput=e},placeholder:(0,v.A)("amazon-photos-album-search"),onKeyUp:this.onKeyUpHandler}),a.createElement(u.A,{onClick:this.onAlbumSearch,name:"search",disabled:l})),a.createElement(E.Ay,{key:r,collection:t,pageSize:15,useWindowScroll:!1,before:c,useGridLayout:!1,overscanRowCount:2},(e=>{var{models:t}=e;return t.map(((e,t)=>a.createElement(u.A,{name:"album-select",key:e?e.id:t,onClick:this.onNodeClick,model:e},a.createElement(p.A,{model:e}))))})))}}function getAlbumData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.A.emit("getAlbums",_objectSpread(_objectSpread({},e),{},{query:{sort:"sortDateModified"}}))}_defineProperty(AddToAlbumDialog,"propTypes",{count:l().number,getAlbums:l().func.isRequired,selection:l().instanceOf(A.A).isRequired,removeUnowned:l().bool,onClose:l().func}),_defineProperty(AddToAlbumDialog,"contextTypes",{pageContext:l().string.isRequired});const S=s.A.connect((0,y.A)(AddToAlbumDialog),{store:C.A,setup:()=>{getAlbumData(),s.A.emit("enterFullScreen")},teardown:()=>{s.A.emit("exitFullScreen"),C.A.suspend()},mapToProps:e=>{var{collection:t,mostRecentAlbum:n}=e;return{collection:t,recentAlbum:n,getAlbums:getAlbumData}}})},95977:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var o=n(96540),r=n(38530),a=n(94788),i=n(21572),getButtons=e=>{var{group:t,onUploadClick:n,onAddFromAccountClick:o}=e;return[{onClick:()=>n(),name:"upload-from-device",className:"button",label:(0,i.A)("amazon-photos-group-add-from-device")},{onClick:()=>o({group:t}),name:"add-from-prime-photos",className:"button",label:(0,i.A)("amazon-photos-group-add-from-account")}]};const __WEBPACK_DEFAULT_EXPORT__=e=>o.createElement(r.A,{name:"add-to-group",buttons:getButtons(e)},o.createElement("h1",null,o.createElement(a.A,null,"amazon-photos-groups-join-and-add")))},1809:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(52306),r=n.n(o),a=n(91419);const i=r()({displayName:"AdminRemoveInviteeWithNoAccessDialog",mixins:[a.A.adminRemoveInviteeWithNoAccessMixin,a.A.cboxJSXMixin,a.A.renderInviteeRemoveMixin,a.A.utilityMixin]})},80066:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(52306),r=n.n(o),a=n(91419);const i=r()({displayName:"AdminRemoveMemberDialog",mixins:[a.A.adminRemoveMemberMixin,a.A.cboxJSXMixin,a.A.renderMixin,a.A.utilityMixin]})},74081:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(96540),r=n(84503),a=n(54205),i=n(94788),l=n(54351),s=n(6783),c=n(35994),m=n(18742),u=n(5556),p=n.n(u),d=n(59786),h=n(97463),AppUpsellToast=e=>{var{appStoreAndroid:t,appStoreiOS:n,authenticated:c,isIOS:m,isPrimeExperienceAvailable:u,onCloseClick:p,refMarker:h}=e,g=m?n:t,v=new d.A(g);h&&v.setParam("ref_",h);var f=o.createElement(i.A,null,c?"amazon-photos-app-upsell-toast-button-cta":"amazon-photos-app-unauth-upsell-toast-button-cta");return o.createElement(a.A,{name:"app-upsell-link",href:v.toString(),target:"_blank",metricOverrides:{eventName:"AppUpsellToastClicked"}},o.createElement(r.A,{className:"icon icon-cancel",name:"upsell-toast-close",onClick:p}),o.createElement(l.A,null,"logo-photos-white"),o.createElement("section",null,o.createElement(i.A,{className:"title"},c?"amazon-photos-upsell-banner-toast-header":"amazon-photos-unauth-upsell-banner-toast-header"),o.createElement(i.A,{className:"subtitle"},c||!u?"amazon-photos-upsell-banner-toast-subtitle":"amazon-photos-unauth-upsell-banner-toast-subtitle")),o.createElement(s.$n,{buttonSize:"Small",label:f}))};AppUpsellToast.propTypes={onCloseClick:p().func,isIOS:p().bool,isPrimeExperienceAvailable:p().bool,appStoreiOS:p().string,appStoreAndroid:p().string,refMarker:p().string,authenticated:p().bool};const g=c.A.connect(AppUpsellToast,[{store:m.A,mapToProps:e=>{var{device:t={},urls:n={}}=e;return{isIOS:t.isIOS,appStoreiOS:n.appStoreiOS,appStoreAndroid:n.appStoreAndroid}}},{store:h.A,mapToProps:["authenticated","isPrimeExperienceAvailable"]}])},40874:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(19747),r=n.n(o),a=n(5556),i=n.n(a),l=n(96540),s=n(35994),c=n(38530),m=n(21572),u=n(94788),p=n(1683);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class AutoAddToFAOnDialog extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{cboxState:[!1,!1]}),_defineProperty(this,"onConfirmButtonClick",(()=>{var{pageContext:e}=this.context;s.A.emit("autoAddToFamilyArchive",!0),p.A.log("AutoAddEnabled",{eventTag:"AddAll"},e)})),_defineProperty(this,"onInputChange",(e=>{var{cboxState:t}=this.state;t[e.target.value]=e.target.checked,this.setState({cboxState:t})}))}render(){var{cboxState:e}=this.state,t=[{name:"no",className:"button-secondary",label:(0,m.A)("amazon-photos-settings-auto-add-dialog-no")},{name:"yes",className:"button",onClick:this.onConfirmButtonClick,label:(0,m.A)("amazon-photos-settings-auto-add-dialog-yes"),disabled:!r()(e)}];return l.createElement(c.A,{name:"auto-add-to-fa-dialog",className:"settings-confirm-dialog",heading:l.createElement(u.A,null,"amazon-photos-settings-auto-add-dialog-title"),buttons:t},l.createElement("form",{onChange:this.onInputChange},l.createElement("p",null,l.createElement(u.A,null,"amazon-photos-settings-auto-add-dialog-header")),l.createElement("ul",null,l.createElement("li",null,l.createElement("input",{type:"checkbox",value:"0",checked:e[0]}),l.createElement("label",null,l.createElement(u.A,null,"amazon-photos-settings-auto-add-dialog-box1"))),l.createElement("li",null,l.createElement("input",{type:"checkbox",value:"1",checked:e[1]}),l.createElement("label",null,l.createElement(u.A,null,"amazon-photos-settings-auto-add-dialog-box2"))))))}}_defineProperty(AutoAddToFAOnDialog,"contextTypes",{pageContext:i().string.isRequired});const d=AutoAddToFAOnDialog},37096:(e,t,n)=>{n.d(t,{A:()=>BlockGroupMemberDialog});var o=n(35994),r=n(96540),a=n(38530),i=n(61068),l=n(94788),s=n(21572),c=n(67172);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class BlockGroupMemberDialog extends r.Component{constructor(){super(...arguments),_defineProperty(this,"state",{blockContactCheck:!1}),_defineProperty(this,"onBlockContactCheck",(()=>{var{blockContactCheck:e}=this.state;this.setState({blockContactCheck:!e})}))}getButtons(e){var{group:t,member:n}=e,{blockContactCheck:a}=this.state,{customerId:i}=n,{groupId:m}=t;return[{label:(0,s.A)("amazon-photos-cancel"),name:"cancel",className:"button-secondary"},{label:(0,s.A)("amazon-photos-blocked-contact-button"),name:(0,s.A)("amazon-photos-blocked-contact-button"),disabled:!a,onClick:()=>{c.A.createContactBlock({customerId:i,groupId:m}).done((()=>{c.A.deleteMember({groupId:m,memberId:i}).done((()=>{o.A.emit("uncache"),o.A.emit("showToast",{className:"success",message:r.createElement(l.A,null,"amazon-photos-one-contact-blocked"),icon:"block-list"}),o.A.emit("groupUpdated",t)}))}))}}]}render(){var{blockContactCheck:e}=this.state,{group:t,member:n}=this.props,{firstName:o}=n.profile.names;return r.createElement(a.A,{name:"block-member",buttons:this.getButtons({group:t,member:n}),heading:(0,s.A)("amazon-photos-blocked-contact-dialog-header",o)},r.createElement("ul",{className:"simple-dialog-list"},r.createElement("li",null,r.createElement(l.A,null,"amazon-photos-blocked-contact-dialog-warning-line1-sharing")),r.createElement("li",null,r.createElement(l.A,null,"amazon-photos-blocked-contact-dialog-warning-line2")),r.createElement("li",null,r.createElement(l.A,null,"amazon-photos-blocked-contact-dialog-warning-line3-sharing"))),r.createElement("p",{className:"notification-confirm"},r.createElement(i.A,{checked:e,onClick:this.onBlockContactCheck}),r.createElement(l.A,null,"amazon-photos-blocked-contact-dialog-checkbox")))}}},25641:(e,t,n)=>{n.d(t,{A:()=>BlockedJoinGroup});var o=n(56170),r=n.n(o),a=n(96540),i=n(5556),l=n.n(i),s=n(56718),c=n(94788),m=n(54205),u=n(47389),p=n(14697),d=n(21764),h=n(49709),g=n(75456),v=n(66941);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class BlockedJoinGroup extends a.Component{constructor(){super(...arguments),_defineProperty(this,"getRedirectUrl",(()=>{var e,t,n,{joinUrl:o,topic:a,contextType:i,nodeId:l,coverNodes:s}=this.props,c="react"===i,m=new u.A(o).setParam(i,!0);c?(l?({nodeId:e,ownerId:t}=(0,d.A)(l)):(n=r()(s),({id:e,ownerId:t}=n)),m=m.setParam("id",e).setParam("ownerId",t).setParam("topic",a)):a&&(m=m.setParam("topic",a));return m.toString()}))}getImageSource(){var e,t,n,{group:o,shareToken:a,contextType:i,nodeId:l,coverNodes:s}=this.props;"react"===i&&(l?({nodeId:e,ownerId:t}=(0,d.A)(l)):(n=r()(s),({id:e,ownerId:t}=n)));var c=new g.A({id:e,ownerId:t,groupId:o.groupId,shareToken:a});return c.setParam("viewBox",h.bD),c.toString()}render(){var e,{contextType:t}=this.props,n="https://dcupkcmoyuvm5.cloudfront.net/accept-to-post.jpg",o=this.getRedirectUrl();switch(t){case"comment":e=a.createElement(c.A,null,"amazon-photos-blocked-sign-in-comment");break;case"react":e=a.createElement(c.A,null,"amazon-photos-blocked-sign-in-react"),n=this.getImageSource()}return a.createElement(s.A,{name:"blocked-join-group"},a.createElement(p.A,{className:"cover-photo",src:n,transition:!0}),a.createElement("h3",null,e),a.createElement(m.A,{name:"blocked-sign-in",href:o},a.createElement(c.A,null,"amazon-photos-blocked-sign-in-button")))}}_defineProperty(BlockedJoinGroup,"propTypes",{contextType:l().string.isRequired,joinUrl:l().string.isRequired,group:l().instanceOf(v.A),shareToken:l().string,nodeId:l().string})},86779:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(96540),r=n(35994),a=n(38530),i=n(21572),l=n(94788);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class BulkAddToFADialog extends o.Component{constructor(){super(...arguments),_defineProperty(this,"onConfirmButtonClick",(()=>{r.A.emit("bulkAddToFamilyArchive")}))}render(){var e=[{name:"no",className:"button-secondary",label:(0,i.A)("amazon-photos-settings-bulk-add-dialog-no")},{name:"yes",className:"button",onClick:this.onConfirmButtonClick,label:(0,i.A)("amazon-photos-settings-bulk-add-dialog-yes")}];return o.createElement(a.A,{name:"bulk-add-to-fa-dialog",className:"settings-confirm-dialog",heading:o.createElement(l.A,null,"amazon-photos-settings-bulk-add-dialog-title"),buttons:e},o.createElement("p",null,o.createElement(l.A,null,"amazon-photos-settings-bulk-add-dialog-header")),o.createElement("p",null,o.createElement(l.A,null,"amazon-photos-settings-bulk-add-dialog-subheader")))}}const s=BulkAddToFADialog},13575:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(19747),r=n.n(o),a=n(96540),i=n(35994),l=n(38530),s=n(21572),c=n(94788);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class BulkRemoveFromFADialog extends a.Component{constructor(){super(...arguments),_defineProperty(this,"state",{cboxState:[!1,!1]}),_defineProperty(this,"onConfirmButtonClick",(()=>{i.A.emit("bulkRemoveFromFamilyArchive")})),_defineProperty(this,"onInputChange",(e=>{var{cboxState:t}=this.state;t[e.target.value]=e.target.checked,this.setState({cboxState:t})}))}render(){var{cboxState:e}=this.state,t=[{name:"no",className:"button-secondary",label:(0,s.A)("amazon-photos-settings-bulk-remove-dialog-no")},{name:"yes",className:"button",onClick:this.onConfirmButtonClick,label:(0,s.A)("amazon-photos-settings-bulk-remove-dialog-yes"),disabled:!r()(e)}];return a.createElement(l.A,{name:"bulk-remove-from-fa-dialog",className:"settings-confirm-dialog",heading:a.createElement(c.A,null,"amazon-photos-settings-bulk-remove-dialog-title"),buttons:t},a.createElement("form",{onChange:this.onInputChange},a.createElement("p",null,a.createElement(c.A,null,"amazon-photos-settings-bulk-remove-dialog-header")),a.createElement("ul",null,a.createElement("li",null,a.createElement("input",{type:"checkbox",value:"0",checked:e[0]}),a.createElement("label",null,a.createElement(c.A,null,"amazon-photos-settings-bulk-remove-dialog-box1"))),a.createElement("li",null,a.createElement("input",{type:"checkbox",value:"1",checked:e[1]}),a.createElement("label",null,a.createElement(c.A,null,"amazon-photos-settings-bulk-remove-dialog-box2"))))))}}const m=BulkRemoveFromFADialog},18821:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(96540),r=n(5556),a=n.n(r),i=n(21572),l=n(38530),ConflictManagerDialog=e=>{var{conflictNodeName:t,onSkip:n,onAbort:r}=e;return o.createElement(l.A,{buttons:[{label:(0,i.A)("amazon-photos-folder-view-move-nodes-name-conflict-dialog-skip-button"),name:"move-nodes-name-conflict-skip",onClick:n,type:"submit"},{label:(0,i.A)("amazon-photos-folder-view-move-nodes-name-conflict-dialog-abort-button"),name:"move-nodes-name-conflict-abort",onClick:r,type:"submit"}],noClose:!0,heading:(0,i.A)("amazon-photos-folder-view-move-nodes-name-conflict-dialog-title"),name:"MoveNodesNamingConflictButton"},o.createElement("p",null,(0,i.A)("amazon-photos-folder-view-move-nodes-name-conflict-dialog-text",t)))};ConflictManagerDialog.propTypes={conflictNodeName:a().string.isRequired,onSkip:a().func.isRequired,onAbort:a().func.isRequired};const s=ConflictManagerDialog},56966:(e,t,n)=>{n.d(t,{Ay:()=>E});var o=n(58156),r=n.n(o),a=n(38221),i=n.n(a),l=n(96540),s=n(5556),c=n.n(s),m=n(32485),u=n.n(m),p=n(35994),d=n(56718),h=n(21572),g=n(61068),v=n(84503),f=n(90801),b=n(21327),y=n(46600),A=n(50108);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class CreateDriveAlbum extends l.PureComponent{constructor(){super(...arguments),_defineProperty(this,"requestSearch",i()((e=>{var{requestData:t}=this.props;t({keywords:e})}),200)),_defineProperty(this,"onOpenFolderClick",((e,t)=>{var{parentId:n}=t,{requestData:o}=this.props;o({parentId:n})})),_defineProperty(this,"onInputChange",(e=>{this.requestSearch(e.target.value)})),_defineProperty(this,"onFormSubmit",(e=>{e.preventDefault()})),_defineProperty(this,"onConfirmClick",(()=>{var{createAlbum:e,selection:t}=this.props;e({nodes:t.getNodes()})})),_defineProperty(this,"renderItem",(e=>{var{models:t=[]}=e,n=t[0]||{},o=this.isSelected(n);return l.createElement("div",{className:u()("folder",{selected:o})},l.createElement("label",null,l.createElement(g.A,{checked:o,onClick:()=>this.selectItem(n)})),l.createElement(v.A,{name:"open-folder",onClick:this.onOpenFolderClick,parentId:n.id},n.name))}))}isSelected(e){var{selection:t}=this.props;return t.isSelected(e.id)}selectItem(e){var{selection:t}=this.props;e.id&&(this.isSelected(e)?t.deselect(e):t.select(e),this.forceUpdate())}renderFooter(){var{selection:e}=this.props,t=e.getSize();return l.createElement(v.A,{name:"confirm",disabled:!t,onClick:this.onConfirmClick},(0,h.A)("amazon-photos-create-amazon-drive-album-button",null,t))}renderSearch(){return l.createElement("form",{className:"search-folders",onSubmit:this.onFormSubmit},l.createElement("label",{className:"search-folder-label",id:"search-folder-id",htmlFor:"search-folder-input"},(0,h.A)("amazon-photos-create-amazon-drive-album-folder-search")),l.createElement("input",{id:"search-folder-input",placeholder:(0,h.A)("amazon-photos-create-amazon-drive-album-folder-search"),type:"text",onChange:this.onInputChange,"aria-labelledby":"search-folder-id"}))}renderInfo(){var{parentModel:e,searchTerm:t}=this.props,n=r()(e,"parentMap.FOLDER.0");return l.createElement("nav",{className:"info"},t&&l.createElement("span",{className:"search-info"},(0,h.A)("amazon-photos-create-drive-album-search-results",[t])),n&&l.createElement(v.A,{onClick:this.onOpenFolderClick,parentId:n,name:"back"},e.name),!e&&!t&&l.createElement("span",{className:"select-info"},(0,h.A)("amazon-photos-create-drive-album-subhead")))}render(){var{collection:e,selection:t}=this.props,n=(0,h.A)("amazon-photos-create-amazon-drive-album-heading"),o=t&&t.getSize();return l.createElement(d.A,{name:"create-amazon-drive-album-dialog",heading:n,footer:this.renderFooter()},this.renderSearch(),this.renderInfo(),l.createElement(y.Ay,{pageSize:1,selectionSize:o,useWindowScroll:!1,collection:e,useGridLayout:!1,emptyState:l.createElement("span",{className:"empty"},(0,h.A)("amazon-photos-create-drive-album-empty"))},this.renderItem))}}_defineProperty(CreateDriveAlbum,"propTypes",{collection:c().instanceOf(f.A),selection:c().instanceOf(b.A),requestData:c().func.isRequired,createAlbum:c().func.isRequired,searchTerm:c().string,parentModel:c().shape({name:c().string,parentMap:c().shape({FOLDER:c().arrayOf(c().string)})})});var requestData=e=>p.A.emit("getFolders",e),createAlbum=e=>p.A.emit("createDriveFolderAlbum",e);const E=p.A.connect(CreateDriveAlbum,{store:A.A,mapToProps:e=>_objectSpread(_objectSpread({},e),{},{requestData,createAlbum}),setup:()=>{requestData(),p.A.emit("enterFullScreen")},teardown:()=>{A.A.suspend(),p.A.emit("exitFullScreen")}})},1280:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(5556),r=n.n(o),a=n(96540),i=n(84503),l=n(56718),s=n(72470),c=n(35994),m=n(85796),u=n(21572),p=n(61738),d=n(49479);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class CropGroupCover extends a.Component{constructor(){super(...arguments),_defineProperty(this,"state",{imageZoom:100}),_defineProperty(this,"onCancelClick",(()=>{var{model:e,onCancel:t}=this.props;t?t(e):c.A.emit("closeDialog")})),_defineProperty(this,"onSaveClick",(()=>{var{model:e,onSave:t}=this.props,{imageWidth:n,imageZoom:o,boxOffsetX:r,boxOffsetY:a,boxWidth:i,boxHeight:l}=this.state;n*=o/100;var s=e.width()/n;t(e,{offsetX:Math.round(r*s),offsetY:Math.round(a*s),cropWidth:Math.round(i*s),cropHeight:Math.round(l*s)})})),_defineProperty(this,"onDragMove",(e=>this.updatePosition(e))),_defineProperty(this,"onZoomInClick",(()=>this.updatePosition({zoom:50}))),_defineProperty(this,"onZoomOutClick",(()=>this.updatePosition({zoom:-50})))}componentDidMount(){this.setDimensions()}UNSAFE_componentWillReceiveProps(e){e.width!==this.props.width&&this.setDimensions()}setDimensions(){var{imageContainer:e}=this,{clientWidth:t,clientHeight:n}=e,{model:o}=this.props;if(t!==this.state.clientWidth||n!==this.state.clientHeight){var r=o.width(),a=o.height(),i=a/r;r=t,(a=Math.ceil(r*i))<n&&(a=n,r=Math.ceil(a/i));var l=t,s=Math.round(.365*l),c=Math.round(Math.min(r,r/2-l/2)),m=Math.round(Math.min(a/2-s/2));this.setState({imageHeight:a,imageWidth:r,boxOffsetX:c,boxOffsetY:m,boxWidth:l,boxHeight:s,clientWidth:t,clientHeight:n})}}updatePosition(e){var{model:t}=this.props,{zoom:n=0,offsetX:o=0,offsetY:r=0}=e,{boxOffsetY:a,boxOffsetX:i,boxWidth:l,boxHeight:s,imageZoom:c,imageWidth:m,imageHeight:u}=this.state,p=c/100,d=m*p,h=u*p;c+=n,i-=o,a-=r;var g=Math.min(t.width()/m*100,500),v=100*Math.max(l/m,s/u),f=(c=Math.min(Math.max(c,v),g))/100;n&&(i=m*f*((i+l/2)/d)-l/2,a=u*f*((a+s/2)/h)-s/2);var b=m*f-l,y=u*f-s;i=Math.min(Math.max(i,0),b),a=Math.min(Math.max(a,0),y),this.setState({imageZoom:c,boxOffsetX:i,boxOffsetY:a})}renderFooter(){return a.createElement("div",{className:"actions"},a.createElement(i.A,{onClick:this.onCancelClick,name:"cancel",className:"button-secondary"},(0,u.A)("amazon-photos-cancel")),a.createElement(i.A,{onClick:this.onSaveClick,name:"save",className:"button"},(0,u.A)("amazon-photos-groups-crop-cover-save")))}render(){var{model:e}=this.props,{imageHeight:t,imageWidth:n,boxOffsetX:o,boxOffsetY:r,boxWidth:c,boxHeight:p,imageZoom:d}=this.state,h=d/100,g={top:r,left:o,width:c,height:p},v={top:p/2-r,left:-o};return a.createElement(l.A,{name:"crop-group-cover",heading:(0,u.A)("amazon-photos-groups-crop-cover"),footer:this.renderFooter(),noClose:!0},a.createElement("div",{className:"image-container",ref:e=>{this.imageContainer=e}},this.imageContainer&&a.createElement(s.A,{allowZoom:!0,allowTouch:!0,allowMouse:!0,onMove:this.onDragMove,style:v},a.createElement(m.A,{model:e,width:n*h,height:t*h},a.createElement("div",{className:"box",style:g}))),a.createElement("div",{className:"zoom-controls"},a.createElement(i.A,{name:"zoom-in",onClick:this.onZoomInClick},"+"),a.createElement(i.A,{name:"zoom-out",onClick:this.onZoomOutClick},"-"))))}}_defineProperty(CropGroupCover,"propTypes",{model:r().instanceOf(d.A).isRequired,onCancel:r().func,onSave:r().func.isRequired});const h=c.A.connect(CropGroupCover,{store:p.A,mapToProps:["width"],setup:()=>c.A.emit("enterFullScreen"),teardown:()=>c.A.emit("exitFullScreen")})},95552:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var o=n(96540),r=n(94788);const __WEBPACK_DEFAULT_EXPORT__=()=>o.createElement("div",null,o.createElement(r.A,null,"amazon-photos-trash-confirm"),o.createElement("ul",{className:"simple-dialog-list"},o.createElement("li",null,o.createElement(r.A,null,"amazon-photos-trash-confirm-line1")),o.createElement("li",null,o.createElement(r.A,null,"amazon-photos-trash-confirm-line2"))))},20995:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(55378),r=n.n(o),a=n(40860),i=n.n(a),l=n(63950),s=n.n(l),c=n(5556),m=n.n(c),u=n(96540),p=n(97463),d=n(71086),h=n(94043),g=n(50287),v=n(56718),f=n(35994),b=n(18742),y=n(13489),A=n(59786),E=n(94788);class UnauthDialog extends u.PureComponent{componentDidMount(){this.logUnauthorizedModalShown()}logUnauthorizedModalShown(){var{devicePlatform:e}=this.props;y.A.log({name:"UnauthorizedModalShown",segments:{DevicePlatform:e}})}render(){var{signout:e}=this.props,t=new A.A(e,{returnUrl:window.location.href}).toString();return u.createElement(v.A,{footer:u.createElement("a",{href:t,className:"button"},u.createElement(E.A,null,"amazon-photos-unauthorized-sign-in")),name:"unauth-dialog",noClose:!0},u.createElement(E.A,null,"amazon-photos-user-unauthorized"))}}!function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(UnauthDialog,"propTypes",{devicePlatform:m().string.isRequired,signout:m().string.isRequired});const P=f.A.connect(UnauthDialog,{store:b.A,mapToProps:e=>{var{client:t={},urls:n={}}=e;return{devicePlatform:t.devicePlatform,signout:n.signout}}});function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}class DialogContainer extends u.Component{getChildContext(){return{beaconListener:s()}}UNSAFE_componentWillMount(){d.A.pickComponentState(this,["printingMode","dialogs","toasts"]),p.A.pickComponentState(this,["unauthorized","customerId"])}componentWillUnmount(){p.A.endComponentState(this),d.A.endComponentState(this)}render(){var e={items:[],isStacked:!1},{customerId:t,dialogs:n,printingMode:o,toasts:a,unauthorized:l}=this.state;return l&&t&&!o?e.items=[{dialogEntry:{key:"unauth-dialog"},dialog:u.createElement(P,null)}]:n&&n.length&&(e=i()(n,((t,n)=>{var o;if(t.break)return t;if(n.isStacked?(o={dialogEntry:n},t.isStacked=!0):(t.items.length&&t.isStacked,o={dialogEntry:n},t.break=!0),o&&o.dialogEntry.component){var r=o.dialogEntry.component;"function"==typeof r||r.WrappedComponent?o.dialog=u.createElement(r,_extends({},n.props,{key:n.key})):o.dialog=r,e.items.unshift(o)}return t}),e)),u.createElement("div",{id:"dialog-container"},u.createElement(g.X,null),r()(e.items,(e=>u.createElement("div",{key:e.dialogEntry.key},e.dialog))),u.createElement("div",{className:"toast-container","aria-live":"polite","aria-atomic":"true",role:"status"},l?null:r()(a,(e=>u.createElement(h.A,_extends({key:e.id},e))))))}}!function dialog_container_defineProperty(e,t,n){return(t=function dialog_container_toPropertyKey(e){var t=function dialog_container_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(DialogContainer,"childContextTypes",{beaconListener:m().func,metricContextName:m().string});const C=DialogContainer},21040:(e,t,n)=>{n.d(t,{A:()=>b});var o=n(55378),r=n.n(o),a=n(58156),i=n.n(a),l=n(38221),s=n.n(l),c=n(96540),m=n(95093),u=n.n(m),p=n(61365),d=n(35994),h=n(38530),g=n(94788),v=n(21572),f=n(61436);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class EditDateAndTimeDialog extends c.Component{constructor(){super(...arguments),_defineProperty(this,"state",{contentDate:null,errorMessages:[]}),_defineProperty(this,"handleOnChange",s()((()=>{if(this.yearInput&&this.monthInput&&this.dayInput){var e=this.yearInput.value.trim(),t=this.monthInput.value.trim(),n=this.dayInput.value.trim(),o=i()(this.timePeriodInput,"value","").trim(),r=this.timeInput.value.trim()+(this.timePeriodInput?" ".concat(o):""),a=u()("".concat(e,"/").concat(t,"/").concat(n),["YYYY/MM/DD","YYYY/M/D"],!0),l=u()(r,"LT",!0);if(this.dateAndTimeIsValid(a,l)){var s=u().utc("".concat(a.format("M/D/Y")," ").concat(l.format("LT")),"M/D/Y LT");this.setState({contentDate:s})}}}),100)),_defineProperty(this,"onConfirmClick",(()=>{this.setState({errorMessages:[]});var{items:e}=this.props,{contentDate:t}=this.state,n=t.toISOString();new f.A({items:e,newContentDate:n}).start(),d.A.emit("closeDialog")})),_defineProperty(this,"getErrors",(()=>{var{errorMessages:e}=this.state;return r()(e,((e,t)=>c.createElement("li",{key:"error".concat(t)},e)))})),_defineProperty(this,"dateAndTimeIsValid",((e,t)=>{var n=[],o=e.clone().set({hours:t.hours(),minutes:t.minutes()});return t.isValid()||n.push((0,v.A)("amazon-photos-edit-time-input-error")),e.isValid()?o.isAfter()?n.push((0,v.A)("amazon-photos-edit-date-future-error")):e.isBefore(u().utc("1800-01-01T00:00:00.000Z"))&&n.push((0,v.A)("amazon-photos-edit-date-early-error")):n.push((0,v.A)("amazon-photos-edit-date-input-error")),this.setState({errorMessages:n}),n.length<1}))}UNSAFE_componentWillMount(){var{items:e}=this.props,t=u().utc(u()().format("M/D/Y LT"),"M/D/Y LT"),n=1===e.length&&e[0].contentDate()?u().utc(e[0].contentDate()):t;this.setState({contentDate:n})}renderTwelveHourTime(){var{contentDate:e}=this.state,t=(0,p.RI)(e);return c.createElement("div",{className:"time"},c.createElement("div",{className:"hour-minute date-piece"},c.createElement("label",null,c.createElement(g.A,null,"amazon-photos-edit-time-picker")),c.createElement("input",{type:"text",ref:e=>{this.timeInput=e},name:"time",defaultValue:(0,p.j_)(e,{hideTimePeriod:!0}),onChange:this.handleOnChange})),c.createElement("div",{className:"time-period date-piece"},c.createElement("select",{id:"time-period",onChange:this.handleOnChange,ref:e=>{this.timePeriodInput=e},defaultValue:t},c.createElement("option",{value:"AM"},(0,v.A)("amazon-photos-edit-date-am")),c.createElement("option",{value:"PM"},(0,v.A)("amazon-photos-edit-date-pm")))))}renderTwentyFourHourTime(){var{contentDate:e}=this.state;return c.createElement("div",{className:"time"},c.createElement("div",{className:"hour-minute date-piece"},c.createElement("label",null,c.createElement(g.A,null,"amazon-photos-edit-time-picker")),c.createElement("input",{type:"text",ref:e=>{this.timeInput=e},name:"time",defaultValue:(0,p.j_)(e),onChange:this.handleOnChange})))}render(){var{contentDate:e}=this.state,t=this.getErrors(),n={cancel:{label:(0,v.A)("amazon-photos-edit-cancel"),name:"cancel",className:"button-secondary",type:"button"},confirm:{disabled:t.length,label:(0,v.A)("amazon-photos-edit-date-confirm"),name:"confirm",onClick:this.onConfirmClick,type:"submit",noClose:!0}};return c.createElement("form",{onSubmit:this.onConfirmClick},c.createElement(h.A,{buttons:n,name:"edit-date-and-time",heading:(0,v.A)("amazon-photos-edit-date")},c.createElement("div",{className:"date-preview"},(0,p.jr)(e),", ",(0,p.eK)(e,{abbreviateMonth:!1}),", ",(0,p.j_)(e)),c.createElement("div",{className:"date-time-picker"},c.createElement("div",{className:"date"},c.createElement("div",{className:"year date-piece"},c.createElement("label",null,c.createElement(g.A,null,"amazon-photos-edit-date-year")),c.createElement("input",{type:"text",ref:e=>{this.yearInput=e},name:"year",defaultValue:(0,p.Ok)(e),onChange:this.handleOnChange})),c.createElement("div",{className:"month date-piece"},c.createElement("label",null,c.createElement(g.A,null,"amazon-photos-edit-date-month")),c.createElement("input",{type:"text",ref:e=>{this.monthInput=e},name:"month",defaultValue:(0,p.F4)(e,{numerical:!0}),onChange:this.handleOnChange})),c.createElement("div",{className:"day date-piece"},c.createElement("label",null,c.createElement(g.A,null,"amazon-photos-edit-date-day")),c.createElement("input",{type:"text",ref:e=>{this.dayInput=e},name:"day",defaultValue:(0,p.vd)(e),onChange:this.handleOnChange}))),(0,p.zl)()?this.renderTwelveHourTime():this.renderTwentyFourHourTime()),t.length>0&&c.createElement("ul",{className:"errors"},t)))}}const b=EditDateAndTimeDialog},162:(e,t,n)=>{n.d(t,{A:()=>FamilyVaultEducation});var o=n(96540),r=n(56718),a=n(14697),i=n(94788),l=n(61738);class FamilyVaultEducation extends o.Component{UNSAFE_componentWillMount(){l.A.pickComponentState(this,"size")}componentWillUnmount(){l.A.endComponentState(this)}render(){var{footer:e,onClose:t}=this.props,{size:n}=this.state;return o.createElement(r.A,{name:"family-vault-education-dialog",className:"family-vault-education-dialog lightbox",isCloseButtonOutside:!n.mobile,footer:e,onClose:t},o.createElement("div",{className:"dialog-body"},o.createElement("div",{className:"main-content"},o.createElement(a.A,{useImageTag:!0,src:"https://m.media-amazon.com/images/G/01/digital/adrive/photoapp/onboarding/family_vault_update.png"}),o.createElement("h1",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-header")),o.createElement("p",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-content"))),o.createElement("section",{className:"column-1"},o.createElement("h2",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-subheader-1")),o.createElement("p",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-subcontent-1"))),o.createElement("section",{className:"column-2"},o.createElement("h2",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-subheader-2")),o.createElement("p",null,o.createElement(i.A,null,"amazon-photos-family-vault-education-dialog-subcontent-2")))))}}},57714:(e,t,n)=>{n.d(t,{A:()=>folder_delete_dialog});var o=n(96540),r=n(94788),a=n(38530),i=n(21572),l=n(32485),s=n.n(l);const c="folder-delete-dialog-module__checkBox__uQLcO",m="folder-delete-dialog-module__checked__IgSwu",u="folder-delete-dialog-module__confirmationContainer__D_RDa",p="folder-delete-dialog-module__description__oKhf0",d="folder-delete-dialog-module__folderTrashDialogContent__KdC5B",h="folder-delete-dialog-module__dialogHeading__swxQ7",g="folder-delete-dialog-module__dialogHeadingText__jTSS2";var v="confirmation-status-label";function getButtons(e){var{confirmationStatus:t,onConfirmClick:n}=e;return[{label:(0,i.A)("amazon-photos-folder-trash-dialog-keep-folder-button"),className:"button-secondary",name:"keep-folder"},{label:(0,i.A)("amazon-photos-folder-trash-dialog-delete-button"),name:"delete-folder",disabled:!t,onClick:n}]}const folder_delete_dialog=e=>{var{onConfirmClick:t}=e,[n,i]=o.useState(!1);return o.createElement(a.A,{heading:o.createElement("div",{className:h},o.createElement(r.A,{className:g},"amazon-photos-folder-trash-dialog-heading")),name:"DeleteFolderConfirmDialog",buttons:getButtons({confirmationStatus:n,onConfirmClick:t})},o.createElement("div",{className:d},o.createElement("div",{className:p},o.createElement(r.A,null,"amazon-photos-folder-trash-dialog-description")),o.createElement("div",{className:u},o.createElement("div",null,o.createElement("button",{role:"checkbox","aria-labelledby":v,"aria-checked":n,type:"button",className:s()(c,{[m]:n}),onClick:()=>i(!n)})),o.createElement("div",null,o.createElement(r.A,{id:v},"amazon-photos-folder-trash-dialog-checkbox-confirmation")))))}},17862:(e,t,n)=>{n.d(t,{A:()=>k});var o=n(58156),r=n.n(o),a=n(32485),i=n.n(a),l=n(96540),s=n(35994),c=n(1583),m=n(84503),u=n(43840),p=n(18742),d=n(61738),h=n(94788),g=n(21572),v=n(47389),f=n(88632),b=n(46600),y=n(57717),A=n(88769),E=n(91747),P=n(89873),C=n(88871),_=n(98217),S=n(75758),w=n(55858);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class GroupCollectionDetail extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{nodeId:null,commentsOpen:!1,showPhotos:!1}),_defineProperty(this,"onGalleryClick",(()=>{this.setState({showPhotos:!0})})),_defineProperty(this,"onPhotosIconClick",(()=>{this.setState({showPhotos:!1})})),_defineProperty(this,"onReportAbuseClick",(()=>{var{group:e}=this.props,{nodeId:t}=this.state,{ownedBy:n,groupId:o}=e;s.A.emit("openDialog",{component:w.A,props:{shareType:S.UP,nodeId:t,shareId:o,ownerId:n}})})),_defineProperty(this,"onCollectionPhotoClick",(()=>{this.onPhotosIconClick()})),_defineProperty(this,"onInputFocus",(()=>{var{commentsOpen:e}=this.state;e||this.setState({commentsOpen:!0})})),_defineProperty(this,"onDialogClose",(()=>{var{backUrl:e}=this.props;new v.A(e).go()})),_defineProperty(this,"onToggleCommentClick",(()=>{var{commentsOpen:e}=this.state;this.setState({commentsOpen:!e})}))}componentDidMount(){var{collection:e}=this.props;this.retrieveFirstNode(e),s.A.emit("enterFullScreen")}UNSAFE_componentWillReceiveProps(e){var{collection:t}=this.props;!t&&e.collection&&this.retrieveFirstNode(e.collection)}componentWillUnmount(){this._unMounted=!0,s.A.emit("exitFullScreen")}get pageUrlModel(){var{groupId:e,collectionId:t,groupsUrl:n}=this.props;return new v.A(n).addPath(e).addPath("collections").addPath(t)}retrieveFirstNode(e){var{nodeId:t}=this.state,{showGridListView:n}=this.props;e&&!t&&e.getByIndexRange(0,0).done((t=>{!this._unMounted&&t.length&&this.setState({nodeId:t[0].id}),e.count>1&&n&&this.setState({showPhotos:!0})}))}renderHeader(){var e,t,{groupCollection:n,memberIdToMember:o}=this.props,{commentsOpen:a,showPhotos:s}=this.state;if(!n||!o)return null;var{ownerId:c,createdDate:u,contentAggregations:p={},caption:d}=n,{photoCount:v=0,videoCount:f=0}=p,b=o[c],y=new P.A(u).longDate;return b&&(e={color:r()(b,"avatar.color"),customerName:r()(b,"names.firstName"),id:r()(b,"avatar.photo.nodeId"),ownerId:r()(b,"avatar.photo.ownerId")},t=n.belongsToCurrentUser()?(0,g.A)("amazon-photos-you"):b.names.firstName),l.createElement("section",{className:"header"},l.createElement("header",{className:"title-header"},e&&l.createElement(C.A,{node:e}),l.createElement("div",{className:"details"},t&&l.createElement("h1",null,l.createElement(h.A,{replace:t},"amazon-photos-added-by-user")),y&&l.createElement("p",{className:"date"},y),l.createElement("ul",{className:"counts"},v>0&&l.createElement("li",{className:"photos"},l.createElement(h.A,{count:v,replace:v},"amazon-photos-group-photos-count")),f>0&&l.createElement("li",{className:"videos"},l.createElement(h.A,{count:f,replace:f},"amazon-photos-group-videos-count")))),l.createElement(m.A,{name:"toggle-comments",className:i()("toggle-comments",{active:a}),onClick:this.onToggleCommentClick})),s&&d&&l.createElement("div",{className:"caption"},d))}renderPhotos(){var{collection:e}=this.props,{showPhotos:t}=this.state,{pageUrlModel:n}=this;if(t)return l.createElement(b.Ay,{ref:e=>{this._infiniteLoader=e},overscanRowCount:2,useWindowScroll:!1,useGridLayout:!1,collection:e,pageSize:8},(e=>{var{models:t,onComponentHeightChange:o,index:r}=e;return l.createElement(y.A,{key:r,onComponentHeightChange:o,models:t},(e=>{var{width:t,height:o,model:r}=e;return l.createElement(u.A,{name:"mosaic-item",href:r?n.clone().addPath(r.id).toString():null,onClick:this.onCollectionPhotoClick},l.createElement(f.A,{model:r,width:t,height:o}))}))}))}renderPhotosHeader(){var{showPhotos:e}=this.state,{groupCollection:t,memberIdToMember:n,backUrl:o}=this.props;if(e&&t){var{ownerId:r}=t,a=n[r],i=t.belongsToCurrentUser()?(0,g.A)("amazon-photos-you"):a.names.firstName;return l.createElement("div",{className:"photos-header"},l.createElement(u.A,{name:"back",href:o},l.createElement(h.A,null,"amazon-photos-go-back-link")),i&&l.createElement("h3",null,l.createElement(h.A,{replace:i},"amazon-photos-added-by-user")),l.createElement(m.A,{name:"switch-to-gallery",onClick:this.onPhotosIconClick}))}}renderNodes(){var{nodeId:e,showPhotos:t}=this.state,{collection:n,nodeId:o,backUrl:a,group:i}=this.props,s=this.pageUrlModel,c=r()(n,"count"),m=[];return(o=o||e)&&n&&!t?(c>1&&(m=[{position:1,name:"nodeGallery",onClick:this.onGalleryClick,string:"amazon-photos-gallery-view"}]),l.createElement(E.A,{hideReactions:!0,collection:n,nodeId:o,pageUrlModel:s,backUrl:a,parentModel:i,parentContext:"group",additionalOptions:m,reportAbuseVisible:!0,onReportAbuseClick:this.onReportAbuseClick})):null}renderComments(){var{groupId:e,groupCollection:t={},size:n,nodeId:o}=this.props,{commentsOpen:r,showPhotos:a,nodeId:i}=this.state,s=n.mobile&&!r,{ownerId:c,reactionTopic:m}=t,u=(0,g.A)("amazon-photos-collection-detail-placeholder"),p=a?m:"nodes/".concat(c,"/").concat(o||i);return t?l.createElement(A.A,{hideReactions:s,topic:p,groupId:e,onInputFocus:this.onInputFocus,secondary:!0,includeCoverPhotos:!1,placeholderText:u}):null}render(){var{commentsOpen:e}=this.state;return l.createElement(c.A,{name:"group-collection",onCloseRequest:this.onDialogClose},l.createElement("section",{className:"gallery-container"},this.renderNodes(),this.renderPhotosHeader(),this.renderPhotos()),l.createElement("section",{className:i()("details-container",{"comments-open":e})},this.renderHeader(),this.renderComments()))}}const k=s.A.connect(GroupCollectionDetail,[{store:_.A,setup:e=>{var{collectionId:t,groupId:n}=e;return s.A.emit("getGroupCollection",{collectionId:t,groupId:n})},teardown:()=>_.A.suspend()},{store:p.A,mapToProps:e=>{var{urls:t={}}=e;return{groupsUrl:t.groups,galleryUrl:t.gallery}}},{store:d.A,mapToProps:["size"]}])},85307:(e,t,n)=>{n.d(t,{A:()=>JoinGroupDialog});var o=n(96540),r=n(5556),a=n.n(r),i=n(56718),l=n(84503),s=n(94788),c=n(14697),m=n(21572),u=n(35994),p=n(49709),d=n(75456),h=n(11250),g=n(66941);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class JoinGroupDialog extends o.Component{constructor(){super(...arguments),_defineProperty(this,"state",{isCommentEmpty:!0,isLoading:!1}),_defineProperty(this,"onInput",(()=>{var{isCommentEmpty:e}=this.state,{elCommentInput:t}=this,n=t.value;e&&n?this.setState({isCommentEmpty:!1}):e||n||this.setState({isCommentEmpty:!0})})),_defineProperty(this,"onContinueClick",(()=>{u.A.emit("closeDialog",{id:"exit-join"})})),_defineProperty(this,"onExitClick",(()=>{u.A.emit("closeDialog",{id:"exit-join"}),u.A.emit("closeDialog",{id:"join-dialog"})})),_defineProperty(this,"onCloseDialogClick",(()=>{var{joinAndComment:e}=this.props,t=e?(0,m.A)("amazon-photos-join-group-continue-typing"):(0,m.A)("amazon-photos-referral-continue"),n=o.createElement(i.A,{name:"exit-join",noClose:!0},o.createElement("h3",null,o.createElement(s.A,null,"amazon-photos-join-group-exit-confirmation")),o.createElement(l.A,{name:"continue",onClick:this.onContinueClick},t),o.createElement(l.A,{name:"exit",onClick:this.onExitClick},o.createElement(s.A,null,"amazon-photos-join-group-exit")));u.A.emit("pushDialog",{id:"exit-join",component:n,isStacked:!0})})),_defineProperty(this,"onJoinClick",(()=>{var e,{shareToken:t,group:n,onJoinRequest:o,joinAndComment:r,joinAndReact:a,topic:i}=this.props,{elCommentInput:l}=this;r&&(e=l.value),this.setState({isLoading:!0,isCommentEmpty:!0}),o({group:n,groupId:n.id,shareToken:t,joinAndComment:r,commentText:e,joinAndReact:a,topic:i})}))}getImageSource(){var{id:e,ownerId:t,shareToken:n,group:o}=this.props,{groupId:r,coverPhotoNode:a}=o;if(!e||!t){if(!a)return"https://dcupkcmoyuvm5.cloudfront.net/accept-to-post.jpg";({id:e,ownerId:t}=a)}var i=new d.A({id:e,ownerId:t,groupId:r,shareToken:n});return i.setParam("viewBox",p.bD),i.toString()}renderCommentContent(){var{isCommentEmpty:e}=this.state;return o.createElement("section",{className:"comment-content"},o.createElement("p",null,o.createElement(s.A,null,"amazon-photos-join-group-signed-in")),o.createElement("h3",null,o.createElement(s.A,null,"amazon-photos-join-group-comment")),o.createElement("img",{src:"https://dcupkcmoyuvm5.cloudfront.net/accept-to-post.jpg",alt:""}),o.createElement("div",{className:"inner"},o.createElement(h.A,{placeholder:(0,m.A)("amazon-photos-group-write-comment-body"),onInput:this.onInput,focus:!0,ref:e=>{this.elCommentInput=e}})),o.createElement(l.A,{name:"accept-invitation",disabled:e,onClick:this.onJoinClick},o.createElement(s.A,null,"amazon-photos-join-group-cta")))}renderReactContent(){var e=this.getImageSource();return o.createElement("section",{className:"react-content"},o.createElement(c.A,{className:"cover-photo",src:e,transition:!0}),o.createElement("div",{className:"reactions-bubble"},o.createElement("img",{src:"https://dcupkcmoyuvm5.cloudfront.net/heart.svg",alt:""})),o.createElement("div",{className:"post-sign-description"},o.createElement("p",null,o.createElement(s.A,null,"amazon-photos-join-group-signed-in")),o.createElement("h3",null,o.createElement(s.A,null,"amazon-photos-join-group-react")),o.createElement(l.A,{name:"accept-invitation",onClick:this.onJoinClick},o.createElement(s.A,null,"amazon-photos-join-group-cta"))))}renderJoinContent(){var e=this.getImageSource(),{group:t}=this.props,n=(0,m.A)("amazon-photos-group-share-join-button",t.name);return o.createElement("section",{className:"join-content"},o.createElement(c.A,{className:"cover-photo",src:e,transition:!0}),o.createElement("div",{className:"description"},o.createElement("p",null,o.createElement(s.A,null,"amazon-photos-join-group-signed-in")),o.createElement("h3",null,n),o.createElement(l.A,{name:"accept-invitation",onClick:this.onJoinClick},o.createElement(s.A,null,"amazon-photos-group-share-accept-invitation"))))}render(){var{joinAndComment:e,joinAndReact:t,join:n}=this.props,{isLoading:r}=this.state;return o.createElement(i.A,{name:"group-join",noClose:!0},o.createElement(l.A,{name:"close",onClick:this.onCloseDialogClick}),e&&this.renderCommentContent(),t&&this.renderReactContent(),n&&this.renderJoinContent(),r&&o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"loading"})))}}_defineProperty(JoinGroupDialog,"propTypes",{group:a().instanceOf(g.A),shareToken:a().string,onJoinRequest:a().func.isRequired,joinAndComment:a().bool,joinAndReact:a().bool,join:a().bool,id:a().string,ownerId:a().string,topic:a().string})},31864:(e,t,n)=>{n.d(t,{A:()=>U});var o=n(7309),r=n.n(o),a=n(55378),i=n.n(a),l=n(64112),s=n.n(l),c=n(96540),m=n(5556),u=n.n(m),p=n(84503),d=n(58556),h=n(32098),g=n(35994),v=n(17050),f=n(94788),b=n(1683),y=n(21572),A=n(89649),E=n(71086),P=n(38530),C=n(55858),_=n(8776),S=n(8722),w=n(66941),k=n(85609),N=n(13925),I=n(25979),O=n(33461),z=n(4340),j=n(93834),x=n(27925),D=["items","eventTag"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var getButtons=e=>{var{items:t,eventTag:n}=e;return[{label:(0,y.A)("amazon-photos-cancel"),name:"cancel",className:"button-secondary"},{label:(0,y.A)("amazon-photos-leave-sharing"),name:"leave",onClick:()=>new x.A({items:t,eventTag:n}).start()}]};function LeaveGroupDialog(e){var{items:t,eventTag:n}=e,o=_objectWithoutProperties(e,D);return c.createElement(P.A,_extends({},o,{name:"leave-group",buttons:getButtons({items:t,eventTag:n}),heading:(0,y.A)("amazon-photos-leave-group-header",[t[0].name,t.length],t.length)}),c.createElement("ul",{className:"simple-dialog-list"},c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-leave-sharing-warning-line1")),c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-leave-sharing-warning-line2")),c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-leave-sharing-warning-line3"))))}var T=n(73055);function delete_group_dialog_extends(){return delete_group_dialog_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},delete_group_dialog_extends.apply(this,arguments)}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DeleteGroupDialog extends c.Component{constructor(){super(...arguments),_defineProperty(this,"state",{isConfirmed:!1}),_defineProperty(this,"onInputChange",(()=>{this.setState((e=>({isConfirmed:!e.isConfirmed})))})),_defineProperty(this,"onConfirm",(()=>{var{items:e,eventTag:t}=this.props;new T.A({items:e,eventTag:t}).start()}))}getButtons(){var{isConfirmed:e}=this.state;return[{label:(0,y.A)("amazon-photos-cancel"),name:"cancel",className:"button-secondary"},{label:(0,y.A)("amazon-photos-trash-delete-confirm-button"),name:"delete",onClick:this.onConfirm,disabled:!e}]}render(){var{items:e}=this.props,{isConfirmed:t}=this.state;return c.createElement(P.A,delete_group_dialog_extends({},this.props,{name:"delete-group",buttons:this.getButtons(),heading:(0,y.A)("amazon-photos-delete-group-header",[e[0].name,e.length],e.length)}),c.createElement("ul",{className:"simple-dialog-list"},c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-line1")),c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-line2")),c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-line3")),c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-line4")),e[0].isAlexaGroup&&c.createElement("li",null,c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-line5"))),c.createElement("label",{className:"confirm-check"},c.createElement("div",null,c.createElement("input",{type:"checkbox",checked:t,onChange:this.onInputChange})),c.createElement(f.A,null,"amazon-photos-delete-sharing-warning-confirm")))}}var M=n(49709),R=n(75758),F=n(2175);function expandable_settings_defineProperty(e,t,n){return(t=function expandable_settings_toPropertyKey(e){var t=function expandable_settings_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ExpandableSetting extends c.Component{constructor(e){super(e),expandable_settings_defineProperty(this,"onClick",(()=>this.setState((e=>({open:!e.open})))));var{open:t}=this.props;this.state={open:t}}render(){var{label:e,children:t,className:n,limit:o=1}=this.props,{open:r}=this.state;return c.createElement(F.A,{className:n,limit:o,expand:r},c.createElement("h3",null,c.createElement(p.A,{name:"setting-expand",onClick:this.onClick},e)),t)}}expandable_settings_defineProperty(ExpandableSetting,"propTypes",{open:u().bool});class MembersSetting extends ExpandableSetting{render(){var{children:e}=this.props,{open:t}=this.state,n=t?"amazon-photos-groups-members-show-less":"amazon-photos-groups-members-show-all",o=e.length>5;return c.createElement("div",null,c.createElement(F.A,{limit:5,expand:t},e),o&&c.createElement(p.A,{name:"members-expand",onClick:this.onClick},(0,y.A)(n)))}}function asyncGeneratorStep(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){group_settings_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function group_settings_defineProperty(e,t,n){return(t=function group_settings_toPropertyKey(e){var t=function group_settings_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function members_setting_defineProperty(e,t,n){return(t=function members_setting_toPropertyKey(e){var t=function members_setting_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(MembersSetting,"propTypes",{open:u().bool});var G="settings";class GroupSettingsDialog extends c.Component{constructor(){var e;super(...arguments),e=this,group_settings_defineProperty(this,"onChangeCoverClick",(()=>{var{group:e}=this.props;(0,O.A)({group:e}),g.A.emit("closeDialog")})),group_settings_defineProperty(this,"onChangePreference",((e,t)=>{g.A.emit(t,_objectSpread(_objectSpread({},e),{},{eventTag:G}))})),group_settings_defineProperty(this,"onDeleteClick",(()=>{var{group:e}=this.props;g.A.emit("pushDialog",{component:c.createElement(DeleteGroupDialog,{items:[e],eventTag:G}),isStacked:!0})})),group_settings_defineProperty(this,"onLeaveClick",(()=>{var{group:e}=this.props;g.A.emit("pushDialog",{component:c.createElement(LeaveGroupDialog,{items:[e],eventTag:G}),isStacked:!0})})),group_settings_defineProperty(this,"onReportAbuseClick",(()=>{var{group:e}=this.props,{groupId:t,ownedBy:n}=e;g.A.emit("closeDialog",{id:"report-abuse"}),s()((()=>g.A.emit("pushDialog",{id:"report-abuse",component:c.createElement(C.A,{shareType:R.UP,shareId:t,ownerId:n}),isStacked:!0})))})),group_settings_defineProperty(this,"onInviteClick",(()=>{var{group:e,privacySettings:t}=this.props;if("MEMBERS_ONLY"===(0,_.m)(t,"GLOBAL","GROUP_PRIVACY_PRESET"))return this.onBlockedInviteClick();g.A.emit("closeDialog",{id:"invite-to-group"}),s()((()=>g.A.emit("pushDialog",{id:"invite-to-group",component:c.createElement(j.A,{group:e,eventTag:G}),isStacked:!0})))})),group_settings_defineProperty(this,"onChangeLinkClick",(()=>{var{group:e}=this.props;g.A.emit("updateGroupInviteLink",e)})),group_settings_defineProperty(this,"onLinkCopy",(()=>{g.A.emit("showToast",{name:"GroupShareLinkCopySuccessToast",message:(0,y.A)("amazon-photos-successful-copy-to-clipboard"),className:"success"})})),group_settings_defineProperty(this,"onRenameInputClick",(e=>e.stopPropagation())),group_settings_defineProperty(this,"onRenameKeyDown",(e=>{(0,A.A)(e,!1,!0),"Escape"===e.key&&this.nameMenu.toggleMenu()})),group_settings_defineProperty(this,"onRenameOpen",(()=>{this.nameInput&&this.nameInput.focus()})),group_settings_defineProperty(this,"onRenameSubmit",function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function _next(e){asyncGeneratorStep(a,o,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,o,r,_next,_throw,"throw",e)}_next(void 0)}))}}((function*(t){t.preventDefault();var{group:n}=e.props;if(e.nameInput)try{yield n.rename(e.nameInput.value),e._unMounted||e.forceUpdate(),b.A.log("ChangeGroupName",void 0,E.A.getPageContext())}catch(e){}}));return function(e){return t.apply(this,arguments)}}()),group_settings_defineProperty(this,"onBlockedInviteClick",(()=>{var e=c.createElement(P.A,{name:"PrivacyError",heading:(0,y.A)("amazon-photos-groups-privacy-member-only-header"),buttons:[{name:"confirm",label:(0,y.A)("amazon-photos-ok")}]},c.createElement(f.A,null,"amazon-photos-groups-privacy-member-only-message"));g.A.emit("pushDialog",{component:e,isStacked:!0})}))}componentDidMount(){g.A.emit("enterFullScreen")}componentWillUnmount(){this._unMounted=!0,g.A.emit("exitFullScreen")}renderCover(){var{group:e}=this.props;return c.createElement("div",{className:"cover-container"},c.createElement(k.Ay,{transition:!0,model:e,hideDetails:!0}),c.createElement(S.A,{name:"change-cover",onClick:this.onChangeCoverClick,title:(0,y.A)("amazon-photos-groups-set-cover")}))}renderName(){var e,{group:t}=this.props;return e=t.belongsToCurrentUser()&&!t.isAlexaGroup?c.createElement(h.A,{name:"rename-popup",text:t.name,onOpen:this.onRenameOpen,ref:e=>(this.nameMenu=e,e)},c.createElement("form",{onSubmit:this.onRenameSubmit},c.createElement("input",{ref:e=>(this.nameInput=e,e),onClick:this.onRenameInputClick,onKeyDown:this.onRenameKeyDown,maxLength:M.Yi,placeholder:(0,y.A)("amazon-photos-rename-group-placeholder")}),c.createElement(p.A,{name:"rename-submit"}))):t.name,c.createElement("h2",null,e)}renderMembers(){var{members:e,group:t,privacySettings:n}=this.props,{isAlexaGroup:o}=t,r=t.belongsToCurrentUser(),a="MEMBERS_ONLY"===(0,_.m)(n,"GLOBAL","GROUP_PRIVACY_PRESET");return e?c.createElement("div",{className:"members"},c.createElement("h3",null,(0,y.A)("amazon-photos-sharing-members")),c.createElement(MembersSetting,null,i()(e,(e=>c.createElement(z.A,{key:e.customerId,member:e,group:t,eventTag:G,showMemberControls:!0,showReadStatus:!0,isAlexaGroup:o})))),(!a||r)&&!o&&c.createElement(p.A,{name:"invite-members",metricOverrides:{eventName:"InviteToGroupStart",eventTag:"settings"},onClick:this.onInviteClick},c.createElement(f.A,null,"amazon-photos-invite-to-group"))):null}renderInviteLink(){var{shareUrl:e,group:t,privacySettings:n}=this.props,{isAlexaGroup:o}=t,r=t.belongsToCurrentUser(),a="MEMBERS_ONLY"===(0,_.m)(n,"GLOBAL","GROUP_PRIVACY_PRESET");return!e||a&&!r||o?null:a?c.createElement("div",{className:"expandable-list"},c.createElement("h3",null,c.createElement(p.A,{name:"setting-expand",onClick:this.onBlockedInviteClick},(0,y.A)("amazon-photos-sharing-invitation-link")))):c.createElement(ExpandableSetting,{className:"invite-link",label:(0,y.A)("amazon-photos-sharing-invitation-link"),open:!1},c.createElement("div",{className:"copy-input-container"},c.createElement(d.A,{metricOverrides:{eventName:"CopyInvitationLink",eventTag:G},inputContent:e,onCopy:this.onLinkCopy,key:e})),c.createElement("p",null,c.createElement(f.A,null,"amazon-photos-group-invitation-link-disclaimer")),r&&c.createElement(p.A,{name:"change-invite-link",onClick:this.onChangeLinkClick},c.createElement(f.A,null,"amazon-photos-group-invitation-link-change")))}renderPrivacySettings(){var{privacySettings:e,group:t,isPrivacyOpen:n}=this.props;if(!t||!e||!t.belongsToCurrentUser()||t.isAlexaGroup)return null;var{groupId:o}=t;return c.createElement(ExpandableSetting,{className:"privacy-settings",label:(0,y.A)("amazon-photos-sharing-privacy"),open:n},c.createElement(N.A,{sets:e,groupId:o,onChange:e=>this.onChangePreference(e,"updateGroupPrivacySetting"),InputType:"ToggleButton"}))}renderNotificationSettings(){var e,{notifications:t,group:n}=this.props;if(!n||!t)return null;var o=r()(t,{id:"GLOBAL"})||{};"true"===(r()(o.preferences,{id:"GLOBAL_NOTIFICATIONS_MUTED"})||{}).value&&(t=[o],e=c.createElement("p",null,(0,y.A)("amazon-photos-groups-notifications-mute-notice")));var{groupId:a}=n;return c.createElement(ExpandableSetting,{className:"notification-settings",label:(0,y.A)("amazon-photos-sharing-notifications"),open:!1},c.createElement(N.A,{sets:t,groupId:a,onChange:e=>this.onChangePreference(e,"updateGroupNotificationSetting"),InputType:"ToggleButton"}),e)}renderDelete(){var{group:e}=this.props,{isAlexaGroup:t}=e;return e.belongsToCurrentUser()||t?c.createElement("div",null,c.createElement(p.A,{name:"delete-group",onClick:this.onDeleteClick},c.createElement(f.A,null,"amazon-photos-delete-sharing"))):c.createElement("div",null,c.createElement(p.A,{name:"leave-group",onClick:this.onLeaveClick},c.createElement(f.A,null,"amazon-photos-leave-sharing")))}renderReport(){var{group:e}=this.props,{isAlexaGroup:t}=e;return!e||t?null:c.createElement("div",null,c.createElement(p.A,{name:"report-abuse",onClick:this.onReportAbuseClick},c.createElement(f.A,null,"amazon-photos-report-abuse-sharing")))}render(){return c.createElement(v.A,{name:"group-settings",heading:(0,y.A)("amazon-photos-sharing-info")},this.renderCover(),c.createElement("section",{className:"settings"},this.renderName(),this.renderMembers(),this.renderPrivacySettings(),this.renderInviteLink(),this.renderNotificationSettings(),this.renderReport(),this.renderDelete()))}}group_settings_defineProperty(GroupSettingsDialog,"propTypes",{group:u().instanceOf(w.A).isRequired});const U=g.A.connect(GroupSettingsDialog,[{store:I.A,setup:e=>{g.A.emit("getGroupSettings",e),b.A.log("OpenGroupSettings",{eventTag:e.eventTag},E.A.getPageContext())},teardown:()=>I.A.suspend()}])},86918:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(58156),r=n.n(o),a=n(55378),i=n.n(a),l=n(32485),s=n.n(l),c=n(96540),m=n(35994),u=n(56718),p=n(14697),d=n(54351),h=n(84503),g=n(97463),v=n(21572),f=n(94788),b=n(54205),y=n(75456);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class LandingPage extends c.Component{constructor(){super(...arguments),_defineProperty(this,"onJoinClick",(()=>{var{group:e,shareToken:t,query:n={}}=this.props;m.A.emit("joinGroup",{group:e,shareToken:t,query:n})})),_defineProperty(this,"renderAcceptButton",(()=>{var{authenticated:e,joinUrl:t,joinInProgress:n}=this.props;return!e&&t?c.createElement(b.A,{disabled:n,href:t,className:"accept-invitation",name:"AcceptInvitation"},c.createElement(f.A,null,"amazon-photos-group-share-accept-invitation")):c.createElement(h.A,{disabled:n,onClick:this.onJoinClick,className:"accept-invitation",name:"AcceptInvitation"},c.createElement(f.A,null,"amazon-photos-group-share-accept-invitation"))}))}componentDidMount(){m.A.emit("enterFullScreen")}componentWillUnmount(){m.A.emit("exitFullScreen")}getNodeContentUrl(){var{group:e,shareToken:t}=this.props,{coverPhoto:n,groupId:o}=e;if(!e||!n)return"https://dcupkcmoyuvm5.cloudfront.net/group-coverphoto.jpg";var r=new y.A({id:n.nodeId,ownerId:n.ownerId,groupId:o,shareToken:t});return r.setParam("viewBox",300),r}renderFeaturedMembers(){var{group:e,customerId:t}=this.props,{memberCount:n=0,featuredMembers:o=[]}=e,a=o.slice(0,2),l=n-a.length,m=l>0;return c.createElement("ul",{className:s()("members",{extra:m})},i()(a,((e,n)=>{var{customerId:o}=e,a=o===t?(0,v.A)("amazon-photos-you"):r()(e,"profile.names.firstName","");return 0===n&&(a=(0,v.A)("amazon-photos-group-share-with")+a),c.createElement("li",{key:n},a)})),m&&c.createElement("li",null,c.createElement(f.A,{replace:[l]},"amazon-photos-group-featured-members-more")))}render(){var{group:e,onExploreFirstClick:t}=this.props,{serviceProperties:{hasContent:n}}=e,o=this.getNodeContentUrl().toString();return c.createElement(u.A,{name:"group-share-landing",noClose:!0},c.createElement(p.A,{className:"background-drop",src:o,transition:!0}),c.createElement("section",{className:"content"},c.createElement("figure",{className:"photos-logo desktop"},c.createElement(d.A,null,"logo-photos-white")),c.createElement("div",{className:"description"},c.createElement("p",null,c.createElement(f.A,null,"amazon-photos-group-share-invitation")),c.createElement("h3",null,e.name),this.renderFeaturedMembers(),c.createElement(p.A,{className:"cover-photo",src:o,transition:!0}),c.createElement("ul",{className:"group-features"},c.createElement("li",null,c.createElement(f.A,{replace:[c.createElement(f.A,{className:"bold"},"amazon-photos-group-share-activity1")]},"amazon-photos-group-share-activity2")),c.createElement("li",null,c.createElement(f.A,{replace:[c.createElement(f.A,{className:"bold"},"amazon-photos-group-share-add1")]},"amazon-photos-group-share-add2")),c.createElement("li",null,c.createElement(f.A,{replace:[c.createElement(f.A,{className:"bold"},"amazon-photos-group-share-react1")]},"amazon-photos-group-share-react2"))),this.renderAcceptButton(),n&&c.createElement(h.A,{name:"explore",onClick:t},c.createElement(f.A,null,"amazon-photos-group-share-explore")))))}}const A=m.A.connect(LandingPage,[{store:g.A,mapToProps:["customerId"]}])},23257:(e,t,n)=>{n.d(t,{A:()=>_});var o=n(58156),r=n.n(o),a=n(32485),i=n.n(a),l=n(96540),s=n(35994),c=n(1583),m=n(84503),u=n(61738),p=n(94788),d=n(21572),h=n(6687),g=n(97463),v=n(88769),f=n(91747),b=n(89873),y=n(88871),A=n(75758),E=n(55858),P=["collection","group","pageUrlModel","nodeId","parentModel","name","useOwnerId","addReactionOnJoin"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,h.A)(f.A);class SPVDetail extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{commentsOpen:!1,currentNodeModel:null}),_defineProperty(this,"onReportAbuseClick",(()=>{var{currentNodeModel:e}=this.state,{shareId:t}=this.props,n=null==e?void 0:e.ownerId,o=null==e?void 0:e.id;s.A.emit("openDialog",{component:E.A,props:{shareType:A.UP,nodeId:o,shareId:t,ownerId:n}})})),_defineProperty(this,"onInputFocus",(e=>{var{commentsOpen:t}=this.state,{onCommentSignInClick:n}=this.props;if(!g.A.getProperty("authenticated"))return e.currentTarget.blur(),n();t||this.setState({commentsOpen:!0})})),_defineProperty(this,"onDialogClose",(()=>{var{pageUrlModel:e}=this.props;e.go()})),_defineProperty(this,"onToggleCommentClick",(()=>{var{commentsOpen:e}=this.state;this.setState({commentsOpen:!e})}))}UNSAFE_componentWillReceiveProps(e){var{nodeId:t}=this.props,{currentNodeModel:n}=this.state;t===e.nodeId&&n||this.setCurrentNodeModel(e.nodeId)}setCurrentNodeModel(e){var{collection:t}=this.props,{currentNodeModel:n}=this.state;t&&t.getById(e).done((e=>{n&&n===e||this.setState({currentNodeModel:e})}))}renderHeader(){var e,t,{collection:n,group:o,memberIdToMember:a}=this.props,{commentsOpen:s,currentNodeModel:c}=this.state;if(!(n&&c&&o&&a))return null;var{ownerId:u,createdDate:h={}}=c,g=a[u],v=new b.A(h).longDate;return g?(g&&(e={color:r()(g,"avatar.color"),customerName:r()(g,"names.firstName"),id:r()(g,"avatar.photo.nodeId"),ownerId:r()(g,"avatar.photo.ownerId")},t=c.belongsToCurrentUser()?(0,d.A)("amazon-photos-you"):g.names.firstName),l.createElement("section",{className:"header"},l.createElement("header",{className:"title-header"},e&&l.createElement(y.A,{node:e}),l.createElement("div",{className:"details"},t&&l.createElement("h1",null,l.createElement(p.A,{replace:t},"amazon-photos-added-by-user")),v&&l.createElement("p",{className:"date"},v)),l.createElement(m.A,{name:"toggle-comments",className:i()("toggle-comments",{active:s}),onClick:this.onToggleCommentClick})))):null}renderNodes(){var e=this.props,{collection:t,group:n,pageUrlModel:o,nodeId:r,parentModel:a,name:i,useOwnerId:s,addReactionOnJoin:c}=e,m=_objectWithoutProperties(e,P),{currentNodeModel:u}=this.state;return t&&u?l.createElement(C,_extends({ilbConfig:{name:i,isActive:!0,changeHash:r},hideReactions:!0,collection:t,nodeId:r,pageUrlModel:o,parentModel:a||n,parentContext:"group",useOwnerId:s,reportAbuseVisible:!0,onReportAbuseClick:this.onReportAbuseClick,addReactionOnJoin:c},m)):null}renderComments(){var{size:e,group:t,shareToken:n,onAddComment:o,isSharedPage:r}=this.props,{commentsOpen:a,currentNodeModel:i}=this.state,s=(0,d.A)("amazon-photos-collection-detail-placeholder");if(t&&i){var{reactionTopic:c}=i,{groupId:m}=t,u=e.mobile&&!a;return l.createElement(v.A,{hideReactions:u,topic:c,groupId:m,onInputFocus:this.onInputFocus,secondary:!0,includeCoverPhotos:!1,isSharedPage:r,shareToken:n,onAddComment:o,placeholderText:s})}}render(){var{commentsOpen:e}=this.state,{group:t}=this.props,n=t&&t.isAlexaGroup;return l.createElement(c.A,{dialogOverlayClassName:"secondary-dialog",name:"group-spv-detail",onCloseRequest:this.onDialogClose},l.createElement("section",{className:"gallery-container"},this.renderNodes()),!n&&l.createElement("section",{className:i()("details-container",{"comments-open":e})},this.renderHeader(),this.renderComments()))}}const _=s.A.connect(SPVDetail,[{store:u.A,mapToProps:["size"]}])},93834:(e,t,n)=>{n.d(t,{A:()=>ne});var o=n(58156),r=n.n(o),a=n(62193),i=n.n(a),l=n(60895),s=n.n(l),c=n(55378),m=n.n(c),u=n(95950),p=n.n(u),d=n(56170),h=n.n(d),g=n(35994),v=n(5556),f=n.n(v),b=n(96540),y=n(32485),A=n.n(y),E=n(84503),P=n(42843),C=n(58556),_=n(56718),S=n(42852),w=n(21327),k=n(61738),N=n(94788),I=n(21572),O=n(67172),z=n(58049),j=n(60453),x=n(46600),D=n(85609),T=n(51189),M=n(56895),R=n(53358),F=n(66941),G=n(91491),U=n(64512),L=n(1683),B=n(71086),K=n(21533),W=n(8776);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class InviteToGroupPrivacySection extends b.Component{constructor(){super(...arguments),_defineProperty(this,"state",{privacySettings:null}),_defineProperty(this,"onPrivacyChange",(e=>{var{group:t}=this.props,n=B.A.getPageContext(),o=(0,W.z)("GLOBAL","PRIVACY_LEVEL",e?"PUBLIC":"PRIVATE");this.setState({privacySettings:o}),O.A.patchPrivacyPreferences({groupId:t.groupId,preferenceSets:o}).done((()=>s()((()=>g.A.emit("groupUpdated",t)),P.A.SHORT))),L.A.log("PrivacySetting".concat(e?"ON":"OFF"),{eventTag:"invite_screen"},n)}))}componentDidMount(){var{group:e}=this.props;e.belongsToCurrentUser()&&O.A.getPrivacyPreferences({groupId:e.groupId}).done((e=>this.setState({privacySettings:e.preferenceSets})))}render(){var{privacySettings:e}=this.state,t=e?"PRIVATE"!==(0,W.m)(e,"GLOBAL","PRIVACY_LEVEL"):null;return e&&b.createElement("div",{className:"privacy-section"},b.createElement("p",{className:"privacy-option"},b.createElement(N.A,null,"amazon-photos-sharing-privacy-public"),b.createElement(K.A,{name:"group-privacy",onChange:this.onPrivacyChange,checked:t})),b.createElement("p",null,b.createElement(N.A,null,"amazon-photos-invite-to-sharing-manage")))}}_defineProperty(InviteToGroupPrivacySection,"propTypes",{group:v.PropTypes.instanceOf(F.A).isRequired});const q=InviteToGroupPrivacySection;var H=n(71468),J=n(28584),V=n(24903),Y=n(77112);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){invite_to_group_email_content_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function invite_to_group_email_content_defineProperty(e,t,n){return(t=function invite_to_group_email_content_toPropertyKey(e){var t=function invite_to_group_email_content_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={gmail:"gmail",yahoo:"yahoo",outlook:"outlook_web",aol:"aol_mail",mailto:"desktop_client"},Z={CUSTOMER_SPECIFIED:{subj:"amazon-photos-invite-to-group-subject",body:"amazon-photos-invite-to-group-body"},INVITE_GENERATED:{subj:"amazon-photos-invite-to-group-untitled-subject",body:"amazon-photos-invite-to-group-untitled-body"},DEFAULT:{subj:"amazon-photos-invite-to-group-untitled-subject",body:"amazon-photos-invite-to-group-untitled-body"}};function onEmailClientChange(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;(0,V.JD)((0,Y.BB)(n))}class InviteToGroupEmailContent extends b.Component{constructor(){super(...arguments),invite_to_group_email_content_defineProperty(this,"onEmailClientOpened",(()=>{var{preferredEmailClient:e,eventTag:t}=this.props,{pageContext:n}=this.context,o=X[e]||X.mailto;L.A.log("SendInvitationWeb",{eventTag:t,eventState:o},n),g.A.emit("closeDialog")})),invite_to_group_email_content_defineProperty(this,"beforeEmailClientOpens",((e,t)=>{var{group:n}=this.props,{client:o}=e,r=Z[n.nameType]||Z.DEFAULT;"aol"!==o&&"yahoo"!==o||(r=Z.DEFAULT);var a=r.subj,i=r.body;O.A.getGroupShare({groupId:n.groupId}).done((o=>{var{shareUrl:r}=o;t(_objectSpread(_objectSpread({},e),{},{subject:(0,I.A)(a,[n.name]),body:(0,I.A)(i,[n.name,r])}))}))}))}render(){var{preferredEmailClient:e}=this.props;return b.createElement("section",{className:"content email-content"},b.createElement(J.A,{value:e,onChange:onEmailClientChange,onClientOpened:this.onEmailClientOpened,beforeClientOpens:this.beforeEmailClientOpens,buttonLabel:(0,I.A)("amazon-photos-group-invite-dialog-email"),alignment:"top"}))}}invite_to_group_email_content_defineProperty(InviteToGroupEmailContent,"propTypes",{eventTag:f().string.isRequired,group:f().instanceOf(F.A).isRequired,preferredEmailClient:f().string}),invite_to_group_email_content_defineProperty(InviteToGroupEmailContent,"contextTypes",{pageContext:f().string.isRequired});const Q=(0,H.Ng)((e=>{var{accountSettings:t}=e;return{preferredEmailClient:t.preferredEmailClient}}))(InviteToGroupEmailContent);function invite_to_group_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function invite_to_group_defineProperty(e,t,n){return(t=function invite_to_group_toPropertyKey(e){var t=function invite_to_group_toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $="PERSON",ee="invite-to-new-group",te="invite-to-existing-group";class InviteToGroupDialog extends b.Component{constructor(e){super(e),invite_to_group_defineProperty(this,"onAddContacts",(()=>{var{contactsSelection:e}=this.state,{group:t}=this.props,{groupId:n}=t,{selectionData:o}=e,r=m()(o,(e=>({address:{type:"CUSTOMER_ID",target:e.id}})));O.A.batchCreateInvite({invites:r,groupId:n}).done((()=>{s()((()=>{g.A.emit("groupUpdated",{groupId:n})}),P.A.MID),g.A.emit("closeDialog")}))})),invite_to_group_defineProperty(this,"onContactSelect",(e=>{var{contactsSelection:t}=this.state,{elCommentInput:n}=this;t.isSelected(e.id)?t.deselect(e):t.select(e),n.clear(),this.onInputChange(""),this.setState({contactsSelection:t})})),invite_to_group_defineProperty(this,"onLinkCopy",(()=>{g.A.emit("showToast",{name:"CopyLinkSuccessToast",message:(0,I.A)("amazon-photos-successful-copy-to-clipboard"),className:"success"})})),invite_to_group_defineProperty(this,"onSectionClick",((e,t)=>{var{section:n}=t;if("facebook"===n){var{shareUrl:o}=this.state;o||this.getInviteLink()}this.setState({activeSection:n})})),invite_to_group_defineProperty(this,"onInputChange",(e=>{var{group:t={}}=this.props;this.hasSearchText=!!e,g.A.emit("getContacts",{term:e,kindFilter:$,groupId:t.id})})),invite_to_group_defineProperty(this,"onDeleteTag",(e=>{var{contactsSelection:t}=this.state,{selectionData:n}=t,{collection:o}=this.props;if(!i()(n)){var a=e||Object.keys(n).pop(),l=r()(n,a);t.deselect(l),this.setState({contactsSelection:t},(()=>{o.refresh()}))}})),invite_to_group_defineProperty(this,"getInviteLink",(()=>{var{group:e}=this.props;this.setState({isLoading:!0}),O.A.getGroupShare({groupId:e.groupId}).done((e=>{s()((()=>this.setState({shareUrl:e.shareUrl,isLoading:!1})),400)})).fail((()=>this.setState({isLoading:!1})))})),invite_to_group_defineProperty(this,"openExternalPopupShare",(()=>{var{shareUrl:e}=this.state,t="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e));window.open(t)&&g.A.emit("closeDialog")}));var{isNewGroup:t,ingressPoint:n}=this.getQuery();this.options={isNewGroup:t,ingressPoint:n},this.state={activeSection:e.initialActiveSection||h()(p()(this.getInviteOptions())),contactsSelection:new w.A}}componentDidMount(){var{shareUrl:e}=this.state;e||this.getInviteLink(),g.A.emit("enterFullScreen")}componentWillUnmount(){g.A.emit("exitFullScreen")}getInviteOptions(){return(0,G.A)({link:{label:(0,I.A)("amazon-photos-share-url")},contacts:{label:(0,I.A)("amazon-photos-group-contact-button")},email:{label:(0,I.A)("amazon-photos-share-email")},facebook:{label:(0,I.A)("amazon-photos-share-facebook")}})}getQuery(){var e=(0,j.A)(window.location.search);return{isNewGroup:e.new,ingressPoint:e.ingressPoint}}dialogName(){var{isNewGroup:e,ingressPoint:t}=this.options,n=t===z.E;return(e?ee:te)+(n?"-sharesheet":"")}renderAddContacts(){return b.createElement("div",{className:"add-link"},b.createElement(E.A,{onClick:this.onAddContacts,name:"add-contacts"},b.createElement(N.A,null,"amazon-photos-sharing-add-contact")))}renderContent(){var{activeSection:e}=this.state,{eventTag:t,group:n}=this.props;switch(e){case"link":return this.renderGetLink();case"email":return b.createElement(Q,{eventTag:t,group:n});case"facebook":return this.renderFacebook();case"contacts":return this.renderContacts();default:return}}renderContacts(){var e,{collection:t,membersInGroup:n,count:o,uid:r}=this.props,{contactsSelection:a}=this.state,{selectionData:i}=a,l=a.getSize()>0,{hasSearchText:s}=this;e=s&&0===o?b.createElement("p",{className:"empty-message"},b.createElement(N.A,null,"amazon-photos-group-no-contact")):b.createElement(M.A,null);var c=m()(i,(e=>function invite_to_group_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?invite_to_group_ownKeys(Object(n),!0).forEach((function(t){invite_to_group_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):invite_to_group_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)));return b.createElement("section",null,b.createElement(R.A,{tags:c,onChange:this.onInputChange,onDeleteTag:this.onDeleteTag,focus:!0,placeholder:(0,I.A)("amazon-photos-group-enter-contact"),ref:e=>{this.elCommentInput=e}}),n&&b.createElement(x.Ay,{key:r,pageSize:1,useWindowScroll:!1,collection:t,emptyState:e},(e=>{var{models:t=[]}=e;return b.createElement(U.A,{model:t[0],onSelect:this.onContactSelect,selection:a,isInGroup:t[0]&&-1!==n.indexOf(t[0].id)})})),l&&this.renderAddContacts())}renderFacebook(){var{shareUrl:e}=this.state;return b.createElement("section",{className:"content"},b.createElement(E.A,{name:"facebook-link",disabled:!e,onClick:this.openExternalPopupShare},b.createElement(N.A,null,"amazon-photos-group-invite-dialog-facebook")))}renderGetLink(){var{shareUrl:e,isLoading:t}=this.state,{eventTag:n}=this.props;return t?b.createElement("div",{className:"loading-container"},b.createElement("div",{className:"loading"})):b.createElement("section",{className:"content"},!e&&b.createElement(E.A,{name:"get-link",onClick:this.getInviteLink},b.createElement(N.A,null,"amazon-photos-invite-to-sharing-get-link")),e&&b.createElement(C.A,{metricOverrides:{eventName:"CopyInvitationLink",eventTag:n},inputContent:e,onCopy:this.onLinkCopy}))}renderInviteOptions(){var{activeSection:e}=this.state,t=this.getInviteOptions();return b.createElement("ul",{className:"invite-sections"},m()(t,((t,n)=>b.createElement("li",{key:n,className:A()({active:n===e})},b.createElement(E.A,{section:n,onClick:this.onSectionClick,name:"invite-".concat(n),title:t.label},t.label)))))}renderGroupPreview(){var{activeSection:e}=this.state,{group:t}=this.props;return"contacts"===e?null:b.createElement(D.Ay,{className:"cover-photo",model:t,hideDetails:!0,showNewGroupInfo:!1,showAvatars:!1})}render(){var{isLoading:e,activeSection:t}=this.state,{group:n}=this.props,{name:o}=n,r="link"===t,a=(0,I.A)("amazon-photos-group-invite-dialog-header",'"'.concat(o,'"'));return b.createElement(_.A,{name:this.dialogName(),className:A()("invite-to-group",t),heading:a,noClose:e,footer:this.renderInviteOptions(),disableResizeTransition:!0},this.renderGroupPreview(),this.renderContent(),r&&b.createElement(q,{group:n}))}}invite_to_group_defineProperty(InviteToGroupDialog,"propTypes",{eventTag:f().string.isRequired,group:f().instanceOf(F.A).isRequired,initialActiveSection:f().string,membersInGroup:f().arrayOf(f().string)}),invite_to_group_defineProperty(InviteToGroupDialog,"contextTypes",{pageContext:f().string.isRequired});const ne=g.A.connect((0,S.A)((0,S.A)(InviteToGroupDialog)),[{store:T.A,setup:e=>{var{group:t={}}=e;g.A.emit("getContacts",{kindFilter:$,groupId:t.id})},teardown:()=>T.A.suspend()},{store:k.A,mapToProps:["size"]}])},23345:(e,t,n)=>{n.d(t,{A:()=>JoinGroupDialog});var o=n(60895),r=n.n(o),a=n(96540),i=n(32485),l=n.n(i),s=n(42843),c=n(71086),m=n(1683),u=n(56718),p=n(21572),d=n(84503),h=n(35994),g=n(94788),v=n(11250),f=n(95723),b=n(85892);const save_access_confirmation=e=>{var{ownerName:t,isSaved:n,onJoin:o}=e,r=n?(0,p.A)("amazon-photos-share-save-access-description2",t):(0,p.A)("amazon-photos-share-save-access-confirmation"),i=n?(0,p.A)("amazon-photos-share-saved"):(0,p.A)("amazon-photos-share-save-access"),s=n?(0,p.A)("amazon-photos-ok"):(0,p.A)("amazon-photos-share-save-access");return a.createElement(u.A,{name:"save-access-confirmation"},a.createElement("h3",{className:l()({saved:n})},i),a.createElement("p",null,r),a.createElement(d.A,{name:"save-access-confirm",onClick:()=>{o&&o(null,{isSaveAccess:!0}),h.A.emit("closeDialog")}},s))};function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class JoinGroupDialog extends a.Component{constructor(){super(...arguments),_defineProperty(this,"state",{emailChecked:!0,isCommentEmpty:!0,isLoading:!1}),_defineProperty(this,"onEmailCheckClick",(()=>this.setState((e=>({emailChecked:!e.emailChecked}))))),_defineProperty(this,"onInput",(()=>{var{isCommentEmpty:e}=this.state,{elCommentInput:t}=this,n=t.value;e&&n?this.setState({isCommentEmpty:!1}):e||n||this.setState({isCommentEmpty:!0})})),_defineProperty(this,"onJoinClick",(()=>{var e,t,{shareToken:n,group:o,onJoinRequest:i,joinAndAdd:l,isImplicit:u,isSaveAccess:p,topic:d}=this.props,{emailChecked:g}=this.state,{elCommentText:v,elCommentInput:f}=this,{ownerProfile:b}=o;if(this.setState({isLoading:!0}),f&&(e=f.value),v){var{value:y}=v;y&&(e=y,t=!0)}i({group:o,groupId:o.id,shareToken:n,emailChecked:g,joinAndAdd:l,commentText:e,isImplicit:u,isPrepopulated:t,topic:d}),p&&(m.A.log("save_access_join",{eventTag:"T1"},c.A.getPageContext()),r()((()=>{h.A.emit("openDialog",a.createElement(save_access_confirmation,{ownerName:b.name,isSaved:!0}))}),s.A.SHORT))}))}getJoinButtonText(){var{isSaveAccess:e,isImplicit:t}=this.props;return e?(0,p.A)("amazon-photos-share-save-access"):t?(0,p.A)("amazon-photos-group-send-comment"):(0,p.A)("amazon-photos-groups-join-dialog-button")}render(){var{group:e,onClose:t,shareToken:n,joinAndComment:o,isImplicit:r,isSaveAccess:i}=this.props,{isCommentEmpty:s,isLoading:c}=this.state,m=this.getJoinButtonText(),h=l()({implicit:r}),y=i&&a.createElement("p",{className:"notification-confirm"},a.createElement(g.A,null,"amazon-photos-share-save-access-confirmation"));return a.createElement(u.A,{name:i?"save_access_dialog":"join-group",className:l()("join-group",{"save-access":i}),onClose:t,footer:y},a.createElement(f.A,{className:h,model:e,transition:!0,showAvatars:!1,shareToken:n,showLogo:!0}),o&&!i&&a.createElement("div",{className:"inner"},a.createElement(v.A,{placeholder:(0,p.A)("amazon-photos-group-write-comment-body"),onInput:this.onInput,focus:!0,ref:e=>{this.elCommentInput=e}})),!o&&!i&&a.createElement(b.A,{ref:e=>{this.elCommentText=e}}),c&&a.createElement("div",{className:"loading-container"},a.createElement("div",{className:"loading"})),!c&&a.createElement("div",{className:"button-wrapper"},a.createElement(d.A,{name:"join-group-confirm",onClick:this.onJoinClick,className:l()("button join-group-confirm",{"save-button":i}),disabled:o&&s},m)))}}},34001:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(96540),r=n(5556),a=n.n(r),i=n(35994),l=n(51158),s=n(39138),c=n(84503),m=n(56718),u=n(33218),p=n(88632),d=n(85796),h=n(21572),g=n(46600);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function asyncGeneratorStep(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MassDownloadDialog extends o.Component{constructor(){var e;super(...arguments),e=this,_defineProperty(this,"state",{rowsDownloaded:{}}),_defineProperty(this,"onAppNavigate",(()=>{i.A.emit("closeDialog",{id:"download-preview"}),i.A.emit("closeDialog")})),_defineProperty(this,"onCloseClick",(()=>i.A.emit("closeDialog"))),_defineProperty(this,"onDownloadModelsClick",function(){var t=function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function _next(e){asyncGeneratorStep(a,o,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,o,r,_next,_throw,"throw",e)}_next(void 0)}))}}((function*(t,n){var{downloadModels:o}=e.props,{rowsDownloaded:r}=e.state;r=_objectSpread(_objectSpread({},r),{},{[n]:"pending"}),e.setState({rowsDownloaded:r});try{if(yield o(t),e._unMounted)return;({rowsDownloaded:r}=e.state),r=_objectSpread(_objectSpread({},r),{},{[n]:!0}),e.setState({rowsDownloaded:r})}catch(t){if(e._unMounted)return;({rowsDownloaded:r}=e.state),r=_objectSpread(_objectSpread({},r),{},{[n]:!1}),e.setState({rowsDownloaded:r})}}));return function(e,n){return t.apply(this,arguments)}}()),_defineProperty(this,"renderRow",(e=>{var{models:t,startIndex:n}=e,{fileLimit:r,fileSizeLimit:a}=this.props,{rowsDownloaded:l}=this.state,v=[],f=[],b=!0,y=0,A=[],E=[...t];E.sort((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.filesize?e.filesize():0;return(t.filesize?t.filesize():0)-n}));for(var P=0;P<E.length;P++){var C=E[P];if(!C){b=!1;break}if(C.filesize)y+C.filesize()>a&&A.length&&(f.push(A),v.push(y),y=0,A=[]),A.push(C),y+=C.filesize()}return v.push(y),f.push(A),f.map(((e,t)=>{var a="".concat(n/r,"-").concat(t),f=v[t],y=l[a],A="pending"===y,E=(0,u.A)(f),P="download";return y&&!A&&(P="download-restart"),1!==e.length&&(E=(0,h.A)("amazon-photos-large-download-size-estimate",E)),o.createElement("div",{className:"download-link",key:a},1===e.length&&o.createElement(d.A,{useImageTag:!1,thumbnail:!0,clip:!0,model:e[0]}),e.length>1&&o.createElement(c.A,{disabled:!b,name:"download-preview",onClick:()=>{return t=e,n=new s.A(t),r=(0,h.A)("amazon-photos-large-download-count",t.length,t.length),a=o.createElement(m.A,{name:"download-contents",heading:r},o.createElement(g.Ay,{collection:n,useGridLayout:!0,useWindowScroll:!1,pageSize:8,overscanRowCount:15},(e=>{var{models:t}=e;return t.map((e=>o.createElement("div",{className:"content-item",key:e.id},o.createElement(p.A,{model:e}))))}))),void i.A.emit("pushDialog",{component:a,isStacked:!0,id:"download-preview"});var t,n,r,a},title:(0,h.A)("amazon-photos-large-download-preview")}),o.createElement("div",{className:"details"},b&&o.createElement("span",{className:"files"},1===e.length&&e[0].name,1!==e.length&&(0,h.A)("amazon-photos-large-download-count",e.length,e.length)),!b&&o.createElement("span",{className:"files"},(0,h.A)("amazon-photos-large-download-loading")),b&&o.createElement("span",{className:"size"},E)),o.createElement(c.A,{name:P,disabled:A,onClick:()=>this.onDownloadModelsClick(e,a)},!y&&!A&&(0,h.A)("amazon-photos-download"),y&&!A&&(0,h.A)("amazon-photos-large-download-restart"),A&&(0,h.A)("amazon-photos-large-download-preparing")))}))}))}UNSAFE_componentWillMount(){i.A.emit("enterFullScreen"),i.A.listen("routeChanged",this.onAppNavigate)}componentWillUnmount(){i.A.emit("exitFullScreen"),i.A.unListen("routeChanged",this.onAppNavigate),this._unMounted=!0}renderHeader(){return(0,h.A)("amazon-photos-large-download-header")}renderDownloadNotice(){return o.createElement("p",null,(0,h.A)("amazon-photos-large-download-description"))}renderFooter(){return o.createElement(c.A,{name:"close-downloader",onClick:this.onCloseClick},(0,h.A)("amazon-photos-close-dialog"))}render(){var{collection:e,fileLimit:t}=this.props,{rowsDownloaded:n}=this.state,r=this.renderDownloadNotice();return o.createElement(m.A,{name:"mass-download",heading:this.renderHeader(),noClose:!0,footer:this.renderFooter()},o.createElement(g.Ay,{collection:e,pageSize:t,useWindowScroll:!1,before:[r],rowsDownloaded:n,overscanRowCount:1===t?15:1},this.renderRow))}}_defineProperty(MassDownloadDialog,"propTypes",{collection:a().instanceOf(l.A).isRequired,fileLimit:a().number.isRequired,fileSizeLimit:a().number.isRequired,downloadModels:a().func.isRequired});const v=MassDownloadDialog},72879:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(52306),r=n.n(o),a=n(91419);const i=r()({displayName:"MemberRemoveSelfDialog",mixins:[a.A.memberRemoveSelfMixin,a.A.cboxJSXMixin,a.A.renderMixin,a.A.utilityMixin]})},94171:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(47091),r=n.n(o),a=n(5556),i=n.n(a),l=n(96540),s=n(35994),c=n(56718),m=n(94788),u=n(84503),p=n(21572),d=n(59055),h=n(69620),g=n(68064);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MergeDialog extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{}),_defineProperty(this,"onCancelClick",(()=>s.A.emit("closeDialog"))),_defineProperty(this,"onCombineClick",(()=>this._performCombine())),_defineProperty(this,"onNewNameFormSubmit",(e=>{var{inputName:t}=this.state;e.preventDefault(),t&&t.trim()&&this._performCombine()})),_defineProperty(this,"onNewNameInputChange",(e=>this.setState({inputName:e.target.value}))),_defineProperty(this,"onRenameClick",(()=>{var{enteredName:e,originalName:t,clusterIds:n}=this.props,o=e.trim(),r=[{name:n[0],searchData:{clusterName:t}}];new g.A({items:r,context:"customer",newName:o}),s.A.emit("closeDialog")})),_defineProperty(this,"getRenameOptionButton",(()=>{var{enteredName:e,newName:t}=this.props;if(void 0!==e){var n=e===t?"amazon-photos-no-different-button-text":"amazon-photos-no-rename-button-text";return l.createElement(u.A,{title:e,className:"button",name:"new",onClick:this.onRenameClick},(0,p.A)(n,e))}})),_defineProperty(this,"_performCombine",(()=>{var{inputName:e}=this.state,{clusterIds:t,newName:n}=this.props,o=[t];n=n||e.trim(),s.A.emit("closeDialog"),s.A.emit("deselectAll"),new h.A({items:o,newName:n,context:"customer"}).start()}))}render(){var e,t,n,{inputName:o}=this.state,{clusterIds:a,newName:i}=this.props,s=r()(a);return i?e=l.createElement(m.A,{replace:l.createElement("strong",null,i)},"amazon-photos-combine-dialog-body"):(e=l.createElement(m.A,null,"amazon-photos-combine-dialog-body-unnamed"),n=l.createElement("div",{className:"new-name"},l.createElement("p",null,l.createElement("strong",null,l.createElement(m.A,null,"amazon-photos-enter-new-name"))),l.createElement("form",{onSubmit:this.onNewNameFormSubmit},l.createElement("input",{value:o,onChange:this.onNewNameInputChange,placeholder:(0,p.A)("amazon-photos-name-heading")})))),s>2&&(t=l.createElement("div",{className:"face"},l.createElement("span",{className:"extra-count"},"+ ".concat(s-2)))),l.createElement(c.A,{name:"MergeDialog",className:"merge-dialog",heading:l.createElement(m.A,null,"amazon-photos-combine-dialog-header"),footer:l.createElement("div",{className:"options"},l.createElement(u.A,{className:"button-secondary",name:"cancel",onClick:this.onCancelClick},l.createElement(m.A,null,"amazon-photos-combine-dialog-cancel")),this.getRenameOptionButton(),l.createElement(u.A,{className:"button",name:"confirm",onClick:this.onCombineClick,disabled:!(i||o&&o.trim())},l.createElement(m.A,null,"amazon-photos-combine-dialog-ok")))},l.createElement(d.A,{cdsClusterId:a[0]}),l.createElement(d.A,{cdsClusterId:a[1]}),t,l.createElement("p",{className:"intro"},l.createElement("strong",null,l.createElement(m.A,null,"amazon-photos-combine-dialog-intro"))),l.createElement("p",null,e),n)}}_defineProperty(MergeDialog,"propTypes",{clusterIds:i().arrayOf(i().string).isRequired,newName:i().string,originalName:i().string,enteredName:i().string});const v=MergeDialog},62156:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(55378),r=n.n(o),a=n(62216),i=n.n(a),l=n(42426),s=n.n(l),c=n(87612),m=n.n(c),u=n(84503),p=n(56718),d=n(35994),h=n(96540),g=n(94788),v=n(95093),f=n.n(v),b=n(25205);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var InvitationRow=e=>{var t,n,{invitation:o,wasResent:r,onRemove:a,onResend:i}=e,{inviteId:l,address:s,lastInvitationSentTimestamp:c,nextInvitationAllowedTimestamp:m}=o;return c&&(t=f().unix(c).calendar()),n=r?h.createElement("div",{className:"resend"},h.createElement(g.A,{className:"confirmation"},"amazon-photos-invite-confirmation")):h.createElement(u.A,{className:"button resend",name:"resend-invite",disabled:f()().unix()<m,onClick:()=>i(o)},h.createElement(g.A,null,"amazon-photos-invite-again")),h.createElement("div",{className:"invitation",key:l},h.createElement("div",{className:"info"},h.createElement("strong",null,h.createElement("div",{className:"email"},s)),h.createElement("div",{className:"time-sent"},t)),h.createElement("div",{className:"actions"},n,h.createElement(u.A,{className:"button-ghost remove",name:"remove-invite",onClick:()=>a(o)},h.createElement(g.A,null,"amazon-photos-remove-invite"))))};class PendingInvitationsDialog extends h.Component{constructor(){super(...arguments),_defineProperty(this,"onInvitationResend",(e=>{this.setState((t=>{var{resentInvitations:n}=t;return{resentInvitations:_objectSpread(_objectSpread({},n),{},{[e.inviteId]:e})}}));var{inviteId:t}=e;d.A.emit("sendFamilyVaultInvitation",{inviteId:t})})),_defineProperty(this,"onInvitationRemove",(e=>{var{inviteId:t}=e;d.A.emit("deleteFamilyVaultInvitation",{inviteId:t})})),this.state={resentInvitations:{}}}render(){var e,{invitations:t}=this.props,{resentInvitations:n}=this.state,o=m()(t,(e=>f()().unix()<e.nextInvitationAllowedTimestamp));return s()(o,(e=>i()(n[e.inviteId])))&&(e=h.createElement(g.A,null,"amazon-photos-invite-timeout-error")),h.createElement(p.A,{name:"pending-invitations-dialog",heading:h.createElement(g.A,{replace:[t.length]},"amazon-photos-pending-invitations"),footer:e},0===t.length?h.createElement("div",{className:"empty-state"},h.createElement(g.A,null,"amazon-photos-no-pending-invitations")):r()(t,(e=>h.createElement(InvitationRow,{key:e.inviteId,invitation:e,wasResent:!i()(n[e.inviteId]),onRemove:this.onInvitationRemove,onResend:this.onInvitationResend}))))}}const y=d.A.connect(PendingInvitationsDialog,{store:b.A,mapToProps:["invitations"]})},63623:(e,t,n)=>{n.d(t,{A:()=>w});var o=n(55378),r=n.n(o),a=n(38970),i=n.n(a),l=n(58156),s=n.n(l),c=n(2404),m=n.n(c),u=n(96540),p=n(5556),d=n.n(p),h=n(32485),g=n.n(h),v=n(84503),f=n(56718),b=n(35994),y=n(94788),A=n(82595),E=n(21572),P=n(69958),C=n(19949),_=n(59055);const person_picker_item=e=>{var{model:t,onPersonClick:n,onAddPersonClick:o,className:r,selectedPerson:a,disabledPersonIds:i={}}=e;if(!t.name){var l=t.searchName;return u.createElement(v.A,{type:"button",name:"add-person",className:g()(r,"add-person"),onClick:o},u.createElement("figure",null),u.createElement("label",null,l&&u.createElement(y.A,{replace:[l]},"amazon-photos-new-named-person"),!l&&u.createElement(y.A,null,"amazon-photos-new-person")))}return u.createElement(v.A,{name:"select-person",type:"button",className:g()(r,"select-person",{selected:a===t}),disabled:Boolean(i[t.name]),model:t,onClick:n},u.createElement(_.A,{cdsClusterId:t.name}),u.createElement("label",null,u.createElement("div",null,t.searchData.clusterName),u.createElement(y.A,{replace:t.count,count:t.count},"amazon-photos-found-in-photos")))};function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function normalizeName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim(),e.length?e[0].toUpperCase()+e.slice(1):""};class PersonPickerDialog extends u.Component{constructor(){super(...arguments),_defineProperty(this,"state",{filteredPeople:[],searchName:"",selectedPerson:null,newPersonName:"",confirmNewPersonMode:!1}),_defineProperty(this,"onSearchChange",(e=>{var{namedPeople:t}=this.props;this.filterPeople(t,s()(e,"target.value",""))})),_defineProperty(this,"onNewNameChange",(e=>{this.setState({newPersonName:s()(e,"target.value","")})})),_defineProperty(this,"onPersonClick",((e,t)=>{var{model:n}=t;this.setState({selectedPerson:n})})),_defineProperty(this,"onAddPersonClick",(()=>{var{searchName:e}=this.state;this.setState({selectedPerson:null,confirmNewPersonMode:!0,newPersonName:S(e),searchName:""},(()=>this.focusActiveInput()))})),_defineProperty(this,"onSubmit",(e=>{e.preventDefault();var{confirmNewPersonMode:t,newPersonName:n,selectedPerson:o}=this.state,{onNewPersonSelected:r,onPersonSelected:a}=this.props;t?r((0,C.A)(n)):a(o),b.A.emit("closeDialog")})),_defineProperty(this,"onBackClick",(()=>{var{namedPeople:e}=this.props,{newPersonName:t}=this.state;this.setState({newPersonName:"",confirmNewPersonMode:!1},(()=>this.focusActiveInput())),this.filterPeople(e,S(t))}))}UNSAFE_componentWillMount(){var{namedPeople:e}=this.props;this.searchFn=(0,A.A)({usage:"search",ignorePunctuation:!0}),e?this.filterPeople(e,""):b.A.emit("getPeople")}componentDidMount(){this.focusActiveInput()}UNSAFE_componentWillReceiveProps(e){var{namedPeople:t}=this.props;e.namedPeople&&!m()(e.namedPeople,t)&&this.filterPeople(e.namedPeople,"")}filterPeople(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{disabledPersonIds:o}=this.props;(e=n?t.filter((e=>0===this.searchFn(s()(e,"searchData.clusterName",""),n))):t.slice(0)).sort(((e,t)=>t.count-e.count)),this.setState({searchName:n,filteredPeople:e,selectedPerson:null,disabledPersonIds:i()(o)})}focusActiveInput(){this.activeInput.focus(),this.activeInput.selectionEnd=this.activeInput.value.length,this.activeInput.selectionStart=this.activeInput.selectionEnd}renderHeading(){var{confirmNewPersonMode:e}=this.state;return u.createElement("div",{className:"person-picker-heading"},e&&u.createElement(v.A,{type:"button",name:"back",onClick:this.onBackClick}),u.createElement(y.A,null,"amazon-photos-person-picker-header"))}renderFooter(){var{selectedPerson:e,newPersonName:t,confirmNewPersonMode:n}=this.state,o=n&&(0,C.A)(t)||!n&&e;return u.createElement(v.A,{name:"done",type:"submit",disabled:!o},u.createElement(y.A,null,"amazon-photos-person-picker-done"))}render(){var e,{filteredPeople:t,confirmNewPersonMode:n,newPersonName:o,selectedPerson:a,searchName:i,disabledPersonIds:l}=this.state;if(n)e=u.createElement("div",null,u.createElement("label",{htmlFor:"new-name"},u.createElement(y.A,null,"amazon-photos-person-picker-new-label")),u.createElement("input",{id:"new-name",type:"text",className:"new-name",value:o,onChange:this.onNewNameChange,ref:e=>{this.activeInput=e}}));else{var s=[{searchName:S(i)},...t];e=u.createElement("div",null,u.createElement("input",{className:"search",type:"text",value:i,onChange:this.onSearchChange,placeholder:(0,E.A)("amazon-photos-search-by-name"),ref:e=>{this.activeInput=e}}),u.createElement("div",{className:"person-picker-container"},r()(s,((e,t)=>u.createElement("div",{key:e.name||t,className:"person-picker-item"},u.createElement(person_picker_item,{model:e,disabledPersonIds:l,onAddPersonClick:this.onAddPersonClick,onPersonClick:this.onPersonClick,selectedPerson:a}))))))}return u.createElement("form",{onSubmit:this.onSubmit},u.createElement(f.A,{name:"person-picker",className:g()("person-picker",{"confirm-new-person":n}),heading:this.renderHeading(),footer:this.renderFooter()},e))}}_defineProperty(PersonPickerDialog,"propTypes",{onPersonSelected:d().func.isRequired,onNewPersonSelected:d().func.isRequired,disabledPersonIds:d().arrayOf(d().string)});const w=P.A.connectComponent(PersonPickerDialog,["namedPeople"])},91155:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(5556),r=n.n(o),a=n(96540),i=n(32485),l=n.n(i),s=n(35994),c=n(17050),m=n(21572),u=n(27236),p=n(88769);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ReactionsDialog extends a.Component{constructor(){super(...arguments),_defineProperty(this,"onRouteChanged",(()=>{s.A.emit("closeDialog")}))}componentDidMount(){var e=u.A.isAndroid();s.A.emit("enterFullScreen",{useFixedPosition:e}),s.A.listen("routeChanged",this.onRouteChanged,this)}componentWillUnmount(){s.A.unListen("routeChanged",this.onRouteChanged,this),s.A.emit("exitFullScreen")}render(){var{groupId:e,topic:t,includeCoverPhotos:n,className:o}=this.props;return a.createElement(c.A,{name:"reactions-dialog",className:l()("reactions-dialog",o),heading:(0,m.A)("amazon-photos-reactions-dlg-header")},a.createElement(p.A,{groupId:e,topic:t,includeCoverPhotos:n,focusInput:!0}))}}_defineProperty(ReactionsDialog,"contextTypes",{pageContext:r().string.isRequired});const d=ReactionsDialog},38374:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(96540),r=n(5556),a=n.n(r),i=n(38530),l=n(21572),s=n(94788);const c="recognition-off-dialog-module__settingsConfirmDialog__FxDhq";var RecognitionOffDialog=e=>{var{title:t,header:n,subHeader:r,checkboxes:a,cancelButton:m,confirmButton:u,onConfirmButtonClick:p}=e,[d,h]=(0,o.useState)(Array(a.length).fill(!1)),g=[{name:"no",className:"button-secondary",label:(0,l.A)(m)},{name:"yes",className:"button",onClick:p,label:(0,l.A)(u),disabled:!d.every((e=>!0===e))}];return o.createElement(i.A,{name:"recognition-off-dialog",className:c,heading:o.createElement(s.A,null,t),buttons:g},o.createElement("form",{onChange:e=>{d[e.target.value]=e.target.checked,h([...d])}},o.createElement("p",null,o.createElement(s.A,null,n)),o.createElement("p",null,o.createElement(s.A,null,r)),o.createElement("ul",null,a.map(((e,t)=>o.createElement("li",{key:e},o.createElement("input",{type:"checkbox",value:t,checked:d[t],readOnly:!0}),o.createElement("label",null,o.createElement(s.A,null,e))))))))};RecognitionOffDialog.propTypes={title:a().string,header:a().string,subHeader:a().string,checkboxes:a().arrayOf(a().string),cancelButton:a().string,confirmButton:a().string,onConfirmButtonClick:a().func.isRequired},RecognitionOffDialog.defaultProps={title:"amazon-photos-settings-personal-pattern-purpose-dlg-title",header:"amazon-photos-settings-personal-pattern-purpose-dlg-header",subHeader:"amazon-photos-settings-personal-pattern-purpose-dlg-subhead",checkboxes:["amazon-photos-settings-personal-pattern-purpose-dlg-box1","amazon-photos-settings-personal-pattern-purpose-dlg-box2","amazon-photos-settings-personal-pattern-purpose-dlg-box3"],cancelButton:"amazon-photos-settings-personal-pattern-purpose-dlg-no",confirmButton:"amazon-photos-settings-personal-pattern-purpose-dlg-yes"};const m=RecognitionOffDialog},46158:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(96540),r=n(38530),a=n(94788),i=n(21572);const l=function RemoveFacesConfirmDialog(){var{personName:e,imageCount:t,onConfirm:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.createElement(r.A,{name:"RemoveFacesConfirmDialog",heading:(0,i.A)("amazon-photos-remove-faces-confirm-heading"),buttons:[{name:"cancel",className:"button-secondary",metricOverrides:{eventName:"RemoveTagCancelled"},label:(0,i.A)("amazon-photos-cancel")},{name:"confirm",label:(0,i.A)("amazon-photos-remove-faces-confirm-button"),onClick:n}]},o.createElement(a.A,{replace:[e,t],count:t},"amazon-photos-remove-faces-confirm-body"))}},17660:(e,t,n)=>{n.d(t,{A:()=>RemoveFromGroupDialog});var o=n(96540),r=n(5556),a=n.n(r),i=n(38530),l=n(21572),s=n(49479),c=n(66941),m=n(28917);class RemoveFromGroupDialog extends o.Component{runOperation(){var{group:e,items:t}=this.props;new m.A({items:t,group:e,eventTag:t.length>1?"MultiSelect":"SingleItem"}).start()}render(){var{group:e,items:t}=this.props,n=t[0].isAlbum(),r=n?"amazon-photos-remove-album-from-group-dialog-heading":"amazon-photos-remove-photo-from-group-dialog-heading",a=n?"amazon-photos-remove-album-from-group-dialog-body":"amazon-photos-remove-photo-from-group-dialog-body";return o.createElement(i.A,{name:"RemoveFromGroupConfirmation",heading:(0,l.A)(r,e.name,t.length),buttons:[{name:"cancel",className:"button-secondary",metricOverrides:{eventName:"RemoveTagCancelled"},label:(0,l.A)("amazon-photos-cancel")},{name:"confirm",label:(0,l.A)("amazon-photos-remove-from-group-dialog-confirm"),onClick:()=>this.runOperation()}]},(0,l.A)(a,e.name,t.length))}}!function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(RemoveFromGroupDialog,"propTypes",{group:a().instanceOf(c.A).isRequired,items:a().arrayOf(a().instanceOf(s.A)).isRequired})},42233:(e,t,n)=>{n.d(t,{A:()=>RemoveGroupMemberDialog});var o=n(35994),r=n(96540),a=n(38530),i=n(94788),l=n(1683),s=n(21572),c=n(67172),m=n(71086),u=n(88871),p=["group","member","eventTag"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var getButtons=e=>{var{group:t,member:n,eventTag:r}=e,{profile:a,customerId:i}=n,{groupId:u}=t,p=m.A.getPageContext();return[{label:(0,s.A)("amazon-photos-cancel"),name:"cancel",className:"button-secondary"},{label:(0,s.A)("amazon-photos-group-remove-member-confirm"),name:"remove",onClick:()=>{c.A.deleteMember({groupId:u,memberId:i}).done((()=>{o.A.emit("uncache"),o.A.emit("showToast",{className:"success",message:(0,s.A)("amazon-photos-group-remove-member-success",[a.names.fullName,t.name]),icon:"family"}),o.A.emit("groupUpdated",t),l.A.log("RemoveGroupMember",{eventTag:r},p)}))}}]};function RemoveGroupMemberDialog(e){var{group:t,member:n,eventTag:o}=e,l=_objectWithoutProperties(e,p),{profile:c}=n;return r.createElement(a.A,_extends({},l,{name:"remove-member",buttons:getButtons({group:t,member:n,eventTag:o}),heading:(0,s.A)("amazon-photos-group-remove-member-heading")}),r.createElement(u.A,{node:n.avatar}),r.createElement("p",null,r.createElement(i.A,{replace:c.names.fullName},"amazon-photos-group-remove-member-warning-line1")),r.createElement("ul",{className:"simple-dialog-list"},r.createElement("li",null,r.createElement(i.A,null,"amazon-photos-sharing-remove-member-warning-line2")),r.createElement("li",null,r.createElement(i.A,null,"amazon-photos-group-remove-member-warning-line3"))))}},55858:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(84503),r=n(56718),a=n(35994),i=n(96540),l=n(94788),s=n(25981);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ReportAbuseDialog extends s.A{constructor(){super(...arguments),_defineProperty(this,"onCloseClick",(()=>a.A.emit("closeDialog")))}submit(){super.submit(...arguments)&&a.A.emit("closeDialog")}renderFooter(){return i.createElement("div",null,i.createElement(o.A,{type:"button",onClick:this.onCloseClick,name:"cancel",className:"button button-secondary"},i.createElement(l.A,null,"amazon-photos-report-abuse-cancel")),super.renderFooter())}render(){return i.createElement("form",{action:"#",onSubmit:this.onSubmit},i.createElement(r.A,{name:"report-abuse-dialog",className:"report-abuse",heading:this.renderHeading(),footer:this.renderFooter()},this.renderDetail(),this.renderSelector(),this.renderForm()))}}const c=ReportAbuseDialog},8336:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var o=n(96540),r=n(56718);const __WEBPACK_DEFAULT_EXPORT__=()=>o.createElement(r.A,{className:"spinner-fullscreen",name:"spinner",noClose:!0},o.createElement("span",{className:"loading"}))},24751:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(96540),r=n(5556),a=n.n(r),i=n(38530),l=n(94788),s=n(35994),c=n(21572),m=n(66569),u=n(82411),p=n(74169);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class StorageCancelStorageDialog extends o.PureComponent{constructor(){super(...arguments),_defineProperty(this,"onClose",(()=>{var{isWebView:e,userLocale:t}=this.props;t.startsWith("en")&&(e?(0,m.A)(p.DS.cancellationFeedback):s.A.emit("openDialog",o.createElement(u.A,null)))}))}render(){var{onClose:e}=this,{planSize:t,planStart:n}=this.props;return o.createElement(i.A,{name:"CancelStorageDialog",className:"cancel-storage-dialog",onClose:e,isCloseButtonOutside:!0,heading:(0,c.A)("amazon-photos-storage-cancel-dialog-title"),buttons:[{name:"cancel",label:(0,c.A)("amazon-photos-storage-cancel-dialog-button"),className:"button-primary"}]},o.createElement("p",null,o.createElement(l.A,{replace:[t,n]},"amazon-photos-storage-cancel-dialog-text")))}}_defineProperty(StorageCancelStorageDialog,"propTypes",{isWebView:a().bool,userLocale:a().string,planSize:a().string,planStart:a().string});const d=StorageCancelStorageDialog},71256:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(96540),r=n(38530),a=n(94788),i=n(21572);function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class MFAFailureDialog extends o.Component{constructor(){super(...arguments),_defineProperty(this,"handleTryAgainClick",(()=>{var{tryAgainUrl:e}=this.props;window.location.href=e}))}render(){return o.createElement(r.A,{name:"MFAFailureDialog",className:"mfa-failure-dialog",isCloseButtonOutside:!0,heading:(0,i.A)("amazon-photos-storage-bank-mfa-failure-title"),buttons:[{name:"cancel",label:(0,i.A)("cloud-drive-files-cancel"),className:"button-secondary"},{name:"retry",onClick:this.handleTryAgainClick,noClose:!0,refTag:"mfa_ms_uf_rt",label:(0,i.A)("cloud-drive-upgrade-fail-err-remedy-retry-button")}]},o.createElement("p",{className:"error"},o.createElement(a.A,null,"amazon-photos-storage-bank-mfa-failure-text-1")),o.createElement("p",null,o.createElement(a.A,null,"cloud-drive-upgrade-fail-err-remedy-instructions")))}}const l=MFAFailureDialog},73842:(e,t,n)=>{n.d(t,{A:()=>storage_upgrade_failure_dialog});var o=n(96540),r=n(38530),a=n(94788),i=n(21572);const l="storage-upgrade-failure-dialog-module__upgradeFailureDialog__ZOJu_",s="storage-upgrade-failure-dialog-module__error__X163a";const storage_upgrade_failure_dialog=e=>{var{tryAgainUrl:t}=e;return o.createElement(r.A,{name:"UpgradeFailureDialog",className:l,isCloseButtonOutside:!0,heading:(0,i.A)("cloud-drive-upgrade-fail-heading"),buttons:[{name:"cancel",label:(0,i.A)("cloud-drive-files-cancel"),className:"button-secondary"},{name:"retry",onClick:()=>{window.location.href=t},noClose:!0,refTag:"cdw_ms_uf_rt",label:(0,i.A)("cloud-drive-upgrade-fail-err-remedy-retry-button")}]},o.createElement("p",{className:s},o.createElement(a.A,null,"amazon-photos-storage-upgrade-error-title")),o.createElement("p",null,o.createElement(a.A,null,"amazon-photos-storage-upgrade-error-body")))}},80880:(e,t,n)=>{n.d(t,{A:()=>storage_upgrade_success_dialog});var o=n(96540),r=n(99227),a=n.n(r),i=n(95093),l=n.n(i),s=n(35994),c=n(94788),m=n(21572),u=n(73256),p=n(38530),d=n(97463),h=n(63734),g=n(71560),v=n(95871);const f="storage-upgrade-success-dialog-module__storageUpgradeDialog__m5nHj";var b="cloud-drive-upgrade-success-details-monthly-text1",y="cloud-drive-upgrade-success-details-text1";const storage_upgrade_success_dialog=e=>{var t,n,r,i,A,E,P,C,_,{autoRenew:S,currentPlan:w,currentSubscription:k,hasPrime:N}=e,I=(0,v.jL)(),{isPrimeExperienceAvailable:O}=(0,h.N)(d.A,(e=>({isPrimeExperienceAvailable:e.isPrimeExperienceAvailable})));(0,o.useEffect)((()=>{I((0,g.P3)(!0))}),[]);var z=(null==k||null===(t=k.activeContract)||void 0===t?void 0:t.amount)||(null==w||null===(n=w.billingSchedule)||void 0===n?void 0:n.price),j=(null==k||null===(r=k.activeContract)||void 0===r?void 0:r.currencyCode)||(null==w||null===(i=w.billingSchedule)||void 0===i?void 0:i.currencyCode),x=(null==k||null===(A=k.activePlan)||void 0===A?void 0:A.subscriptionPeriod)||(null==w||null===(E=w.billingSchedule)||void 0===E||null===(P=E.billingPeriod)||void 0===P?void 0:P.timeInterval),D=(null==k||null===(C=k.activePlan)||void 0===C?void 0:C.storage)||(null==w?void 0:w.size),T=(null==k||null===(_=k.nextBillDetails)||void 0===_?void 0:_.billDate)||(null==k?void 0:k.nextBillDate),M=[{label:(0,m.A)("cloud-drive-upgrade-success-confirm"),name:"upgrade-visit-photos",onClick:()=>{s.A.emit("closeDialog")}}],R=a()(D).format("0 ib"),F="month"===("string"==typeof x?x.toLowerCase():"")?b:y,G=N?(0,m.A)("cloud-drive-upgrade-success-prime-info",R):(0,m.A)("cloud-drive-upgrade-success-non-prime-info"),U=S?o.createElement("span",null,T&&(0,m.A)("cloud-drive-upgrade-success-renewal-text",l()(T).format("LL"))):o.createElement("span",null,T&&(0,m.A)("cloud-drive-upgrade-success-auto-renew-off-1",l()(T).format("LL"))," ",o.createElement(c.A,null,"cloud-drive-upgrade-success-auto-renew-off-2"));return o.createElement(p.A,{name:"StorageUpgradeDialog",className:f,isCloseButtonOutside:!0,buttons:M,"data-testid":"storage-upgrade-success-dialog-test-id"},o.createElement("main",null,o.createElement("h2",null,(0,m.A)("cloud-drive-upgrade-success-title",R)),o.createElement("p",null,o.createElement("strong",null,o.createElement(c.A,null,"cloud-drive-upgrade-success-delay-notice"))),o.createElement("p",null,o.createElement("strong",null,o.createElement(c.A,null,"cloud-drive-upgrade-success-details-title")),z&&j&&(0,m.A)(F,[R,(0,u.A)("string"==typeof z?parseFloat(z):z,j)]),o.createElement("br",null),o.createElement(c.A,null,"cloud-drive-upgrade-success-details-text2")),o.createElement("p",null,o.createElement("strong",null,o.createElement(c.A,null,"cloud-drive-upgrade-success-renewal-title")),U),o.createElement("p",null,O&&G)))}},85723:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(7309),r=n.n(o),a=n(58156),i=n.n(a),l=n(96540),s=n(35994),c=n(38530),m=n(94788),u=n(21572),p=n(88883),d=n(52306),h=n.n(d),g=n(91419);const v=h()({displayName:"AdminRemoveSelfDialog",mixins:[g.A.adminRemoveSelfMixin,g.A.cboxJSXMixin,g.A.renderMixin,g.A.utilityMixin]});function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class TransferAdminDialog extends l.Component{constructor(){super(...arguments),_defineProperty(this,"state",{targetCustomerId:void 0,transferred:!1}),_defineProperty(this,"onFormItemChange",(e=>{var t=e.target.id;this.setState({targetCustomerId:t})})),_defineProperty(this,"handleAdminTransfer",(()=>{var{targetCustomerId:e}=this.state;s.A.emit("transferAdmin",{targetCustomerId:e}),this.setState({transferred:!0})}))}render(){var{targetCustomerId:e,transferred:t}=this.state,{customerId:n,members:o}=this.props,a=[{name:"cancel",className:"button-secondary",label:(0,u.A)("amazon-photos-settings-transfer-cancel")},{name:"select",className:"button",onClick:this.handleAdminTransfer,label:(0,u.A)("amazon-photos-settings-transfer"),noClose:!0,disabled:!e}];if(t){var s=i()(r()(o,(t=>t.customerId===e)),"name","");return l.createElement(v,{newAdminId:e,newAdminName:s,customerId:n})}return l.createElement(c.A,{name:"transfer-admin-dialog",buttons:a,className:"settings-confirm-dialog transfer-admin-dialog",heading:(0,u.A)("amazon-photos-settings-leave-family-title")},l.createElement("h3",null,l.createElement(m.A,null,"amazon-photos-settings-transfer-header1")),l.createElement("h4",null,l.createElement(m.A,null,"amazon-photos-settings-transfer-header2")),l.createElement("form",{onChange:this.onFormItemChange},l.createElement(p.A,{members:o,targetCustomerId:e})))}}const f=TransferAdminDialog},57584:(e,t,n)=>{n.d(t,{A:()=>UnableToJoinGroup});var o=n(96540),r=n(38530),a=n(94788),i=n(18742),l=n(21572),s=n(97463);function getButtons(e){var{noClose:t}=e,n=s.A.getProperty("customerRetailUrl"),o=i.A.getProperty("urls.baseAppUrl");return t?n?[{href:"https://".concat(n).concat(o),label:(0,l.A)("amazon-photos-go-to-photos"),name:"go-to-photos",className:"button"}]:void 0:[{name:"return-to-photos",className:"button",label:(0,l.A)("amazon-photos-unable-to-join-public-group-return")}]}function UnableToJoinGroup(e){var{noClose:t}=e;return o.createElement(r.A,{name:"unable-join-group",buttons:getButtons({noClose:t}),noClose:t},o.createElement("figure",{className:"illustration"}),o.createElement("h1",null,o.createElement(a.A,null,"amazon-photos-unable-to-join-group-heading")),t&&o.createElement("p",null,o.createElement(a.A,null,"amazon-photos-unable-to-join-group-body")),!t&&o.createElement("p",null,o.createElement(a.A,null,"amazon-photos-unable-to-join-public-group-body")))}},57991:(e,t,n)=>{n.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var o=n(96540),r=n(94788),a=n(21572),i=n(38530);const __WEBPACK_DEFAULT_EXPORT__=()=>o.createElement(i.A,{name:"PlanUnavailableLearnMoreDialog",heading:(0,a.A)("cloud-drive-plan-capacity-too-small-heading"),buttons:[{name:"ok",label:(0,a.A)("cloud-drive-plan-capacity-too-small-confirm")}]},o.createElement(r.A,null,"cloud-drive-plan-capacity-too-small"))},21537:(e,t,n)=>{n.d(t,{A:()=>E});var o=n(96540),r=n(32485),a=n.n(r),i=n(56718),l=n(84503),s=n(14697),c=n(35994),m=n(67172),u=n(1930),p=n(94788),d=n(18742),h=n(61738),g=n(21572),v=n(54205),f=n(49709),b=n(75456),y=n(76292),A=n(34332);function asyncGeneratorStep(e,t,n,o,r,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function _next(e){asyncGeneratorStep(a,o,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,o,r,_next,_throw,"throw",e)}_next(void 0)}))}}function _defineProperty(e,t,n){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class WebToAppHandoff extends o.Component{constructor(){var e;super(...arguments),e=this,_defineProperty(this,"state",{phoneNumber:"",hasSubmittedSmsForm:!1,errorMessageStringId:""}),_defineProperty(this,"closeDialog",(()=>{c.A.emit("closeDialog")})),_defineProperty(this,"onViewAppClick",(()=>{var{group:e}=this.props,{groupId:t}=e;m.A.getGroupShare({groupId:t}).done((n=>{var{shareToken:o}=n,{name:r}=e;return this.closeDialog(),u.A.createOnboardingContext({contextType:"GROUPS_LANDING_PAGE",data:{groupId:t,shareToken:o,name:r}})}))})),_defineProperty(this,"handleInputChange",(e=>{var{target:{value:t}}=e;this.setState({phoneNumber:t})})),_defineProperty(this,"onSubmit",_asyncToGenerator((function*(){var{phoneNumber:t}=e.state;try{yield A.A.sendSMSDownloadAppLink(t),e.onViewAppClick(),c.A.emit("closeDialog")}catch(t){var n=400===t.status?"amazon-photos-your-devices-enter-phone-error":"amazon-photos-generic-service-error";e.phoneNumberInput.focus(),e.setState({hasSubmittedSmsForm:!0,errorMessageStringId:n})}})))}renderDesktop(){var e,{phoneNumber:t,hasSubmittedSmsForm:n,errorMessageStringId:r}=this.state,i=a()({error:n}),s=/^[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-/\s.]?[0-9]{4}$/.test(t);return r&&(e=(0,g.A)(r)),o.createElement("section",{className:"content"},o.createElement("img",{src:"https://dcupkcmoyuvm5.cloudfront.net/PhotosAppIcon.png",alt:""}),o.createElement("h3",null,o.createElement(p.A,null,"amazon-photos-web-to-app-header")),o.createElement("p",null,o.createElement(p.A,null,"amazon-photos-web-to-app-description")),o.createElement("div",{className:"send-app"},o.createElement("p",null,o.createElement(p.A,null,"amazon-photos-sharing-web-to-app-handoff-app-description")),o.createElement("input",{type:"tel",name:"phone-number",value:t,autoFocus:!0,onChange:this.handleInputChange,ref:e=>{this.phoneNumberInput=e},className:i}),o.createElement(l.A,{name:"send",disabled:!s,onClick:this.onSubmit},o.createElement(p.A,null,"amazon-photos-sharing-web-to-app-handoff-send"))),n&&e,o.createElement(y.A,{hideDesktop:!0,fullHeightLayout:!1}))}renderMobile(){var e=d.A.data.device.isIOS?d.A.getProperty("urls.appStoreiOS"):d.A.getProperty("urls.appStoreAndroid");return o.createElement("section",{className:"content"},o.createElement("img",{src:"https://dcupkcmoyuvm5.cloudfront.net/PhotosAppIcon.png",alt:""}),o.createElement("h3",null,o.createElement(p.A,null,"amazon-photos-web-to-app-header")),o.createElement("p",null,o.createElement(p.A,null,"amazon-photos-web-to-app-description")),o.createElement("div",{className:"action-buttons"},o.createElement(l.A,{name:"later",onClick:this.closeDialog},o.createElement(p.A,null,"amazon-photos-web-to-app-later")),o.createElement(v.A,{target:"_blank",href:e,onClick:this.onViewAppClick,name:"view-app"},o.createElement(p.A,null,"amazon-photos-web-to-app-view"))))}render(){var e,t,n,{group:r,size:a}=this.props,{coverPhoto:l,groupId:c}=r,m=r.coverPhoto;n=a.mobile?this.renderMobile():this.renderDesktop(),m&&({ownerId:e,nodeId:t}=l);var u=new b.A({id:t,ownerId:e,groupId:c});return u.setParam("viewBox",f.bD),o.createElement(i.A,{name:"web-to-app-handoff"},m&&o.createElement(s.A,{className:"cover-photo",src:u.toString(),transition:!0}),n)}}const E=c.A.connect(WebToAppHandoff,[{store:h.A,mapToProps:["size"]}])}}]);
//# sourceMappingURL=dialogs-1df059bad8bd4abfafca.js.map